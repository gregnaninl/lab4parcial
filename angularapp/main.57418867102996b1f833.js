(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,u),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=Object(r.g)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.5.0","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},PSD3:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function u(t,e,n){return(u=a()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var h="SweetAlert2:",d=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},f=function(t){return Object.keys(t).map(function(e){return t[e]})},p=function(t){return Array.prototype.slice.call(t)},g=function(e){console.warn("".concat(h," ").concat("object"===t(e)?e.join(" "):e))},m=function(t){console.error("".concat(h," ").concat(t))},y=[],b=function(t,e){var n;n='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'),-1===y.indexOf(n)&&(y.push(n),g(n))},v=function(t){return"function"==typeof t?t():t},w=function(t){return t&&"function"==typeof t.toPromise},_=function(t){return w(t)?t.toPromise():Promise.resolve(t)},O=function(t){return t&&Promise.resolve(t)===t},E=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),C=function(e){return e instanceof Element||function(e){return"object"===t(e)&&e.jquery}(e)},S=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},T=S(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),I=S(["success","warning","info","question","error"]),x=function(){return document.body.querySelector(".".concat(T.container))},A=function(t){var e=x();return e?e.querySelector(t):null},k=function(t){return A(".".concat(t))},j=function(){return k(T.popup)},N=function(){return k(T.icon)},R=function(){return k(T.title)},D=function(){return k(T.content)},P=function(){return k(T["html-container"])},L=function(){return k(T.image)},M=function(){return k(T["progress-steps"])},V=function(){return k(T["validation-message"])},F=function(){return A(".".concat(T.actions," .").concat(T.confirm))},U=function(){return A(".".concat(T.actions," .").concat(T.deny))},q=function(){return A(".".concat(T.loader))},B=function(){return A(".".concat(T.actions," .").concat(T.cancel))},H=function(){return k(T.actions)},z=function(){return k(T.header)},G=function(){return k(T.footer)},K=function(){return k(T["timer-progress-bar"])},W=function(){return k(T.close)},$=function(){var t=p(j().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0}),e=p(j().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(function(t){return"-1"!==t.getAttribute("tabindex")});return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter(function(t){return ft(t)})},Q=function(){return!Y()&&!document.body.classList.contains(T["no-backdrop"])},Y=function(){return document.body.classList.contains(T["toast-shown"])},X={previousBodyPadding:null},Z=function(t,e){if(t.textContent="",e){var n=(new DOMParser).parseFromString(e,"text/html");p(n.querySelector("head").childNodes).forEach(function(e){t.appendChild(e)}),p(n.querySelector("body").childNodes).forEach(function(e){t.appendChild(e)})}},J=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},tt=function(e,n,r){if(function(t,e){p(t.classList).forEach(function(n){-1===f(T).indexOf(n)&&-1===f(I).indexOf(n)&&-1===f(e.showClass).indexOf(n)&&t.classList.remove(n)})}(e,n),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return g("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n.customClass[r]),'"'));ot(e,n.customClass[r])}};function et(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return at(t,T[e]);case"checkbox":return t.querySelector(".".concat(T.checkbox," input"));case"radio":return t.querySelector(".".concat(T.radio," input:checked"))||t.querySelector(".".concat(T.radio," input:first-child"));case"range":return t.querySelector(".".concat(T.range," input"));default:return at(t,T.input)}}var nt,rt=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},it=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(function(e){t.forEach?t.forEach(function(t){n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},ot=function(t,e){it(t,e,!0)},st=function(t,e){it(t,e,!1)},at=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(J(t.childNodes[n],e))return t.childNodes[n]},ut=function(t,e,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},ct=function(t){t.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},lt=function(t){t.style.display="none"},ht=function(t,e,n,r){var i=t.querySelector(e);i&&(i.style[n]=r)},dt=function(t,e,n){e?ct(t,n):lt(t)},ft=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},pt=function(t){return!!(t.scrollHeight>t.clientHeight)},gt=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=K();ft(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"},10))},yt=function(){return"undefined"==typeof window||"undefined"==typeof document},bt='\n <div aria-labelledby="'.concat(T.title,'" aria-describedby="').concat(T.content,'" class="').concat(T.popup,'" tabindex="-1">\n   <div class="').concat(T.header,'">\n     <ul class="').concat(T["progress-steps"],'"></ul>\n     <div class="').concat(T.icon,'"></div>\n     <img class="').concat(T.image,'" />\n     <h2 class="').concat(T.title,'" id="').concat(T.title,'"></h2>\n     <button type="button" class="').concat(T.close,'"></button>\n   </div>\n   <div class="').concat(T.content,'">\n     <div id="').concat(T.content,'" class="').concat(T["html-container"],'"></div>\n     <input class="').concat(T.input,'" />\n     <input type="file" class="').concat(T.file,'" />\n     <div class="').concat(T.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(T.select,'"></select>\n     <div class="').concat(T.radio,'"></div>\n     <label for="').concat(T.checkbox,'" class="').concat(T.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(T.label,'"></span>\n     </label>\n     <textarea class="').concat(T.textarea,'"></textarea>\n     <div class="').concat(T["validation-message"],'" id="').concat(T["validation-message"],'"></div>\n   </div>\n   <div class="').concat(T.actions,'">\n     <div class="').concat(T.loader,'"></div>\n     <button type="button" class="').concat(T.confirm,'"></button>\n     <button type="button" class="').concat(T.deny,'"></button>\n     <button type="button" class="').concat(T.cancel,'"></button>\n   </div>\n   <div class="').concat(T.footer,'"></div>\n   <div class="').concat(T["timer-progress-bar-container"],'">\n     <div class="').concat(T["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),vt=function(t){an.isVisible()&&nt!==t.target.value&&an.resetValidationMessage(),nt=t.target.value},wt=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?_t(e,n):e&&Z(n,e)},_t=function(t,e){t.jquery?Ot(e,t):Z(e,t.toString())},Ot=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Et=function(){if(yt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}();function Ct(t,e,n){dt(t,n["show".concat(d(e),"Button")],"inline-block"),Z(t,n["".concat(e,"ButtonText")]),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=T[e],tt(t,n,"".concat(e,"Button")),ot(t,n["".concat(e,"ButtonClass")])}var St={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},Tt=["input","file","range","select","radio","checkbox","textarea"],It=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},xt=function(t,e,n){if(n.inputLabel){t.id=T.input;var r=document.createElement("label"),i=T["input-label"];r.setAttribute("for",t.id),r.className=i,ot(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},At=function(t){var e=T[t]?T[t]:T.input;return at(D(),e)},kt={};kt.text=kt.email=kt.password=kt.number=kt.tel=kt.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:O(n.inputValue)||g('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),xt(e,e,n),It(e,n),e.type=n.input,e},kt.file=function(t,e){return xt(t,t,e),It(t,e),t},kt.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,xt(n,t,e),t},kt.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");Z(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return xt(t,t,e),t},kt.radio=function(t){return t.textContent="",t},kt.checkbox=function(t,e){var n=et(D(),"checkbox");n.value=1,n.id=T.checkbox,n.checked=Boolean(e.inputValue);var r=t.querySelector("span");return Z(r,e.inputPlaceholder),t},kt.textarea=function(t,e){t.value=e.inputValue,It(t,e),xt(t,t,e);var n=function(t){return parseInt(window.getComputedStyle(t).paddingLeft)+parseInt(window.getComputedStyle(t).paddingRight)};if("MutationObserver"in window){var r=parseInt(window.getComputedStyle(j()).width);new MutationObserver(function(){var e=t.offsetWidth+n(j())+n(D());j().style.width=e>r?"".concat(e,"px"):null}).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var jt=function(t,e){var n=P();tt(n,e,"htmlContainer"),e.html?(wt(e.html,n),ct(n,"block")):e.text?(n.textContent=e.text,ct(n,"block")):lt(n),function(t,e){var n=D(),r=St.innerParams.get(t),i=!r||e.input!==r.input;Tt.forEach(function(t){var r=T[t],o=at(n,r);(function(t,e){var n=et(D(),t);if(n)for(var r in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===r||n.setAttribute(r,e[r])})(t,e.inputAttributes),o.className=r,i&&lt(o)}),e.input&&(i&&function(t){if(!kt[t.input])return m('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=At(t.input),n=kt[t.input](e,t);ct(n),setTimeout(function(){rt(n)})}(e),function(t){var e=At(t.input);t.customClass&&ot(e,t.customClass.input)}(e))}(t,e),tt(D(),e,"content")},Nt=function(t,e){for(var n in I)e.icon!==n&&st(t,I[n]);ot(t,I[e.icon]),Pt(t,e),Rt(),tt(t,e,"icon")},Rt=function(){for(var t=j(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e},Dt=function(t,e){t.textContent="",Z(t,e.iconHtml?Lt(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Lt({question:"?",warning:"!",info:"i"}[e.icon]))},Pt=function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++)ht(t,r[n],"backgroundColor",e.iconColor);ht(t,".swal2-success-ring","borderColor",e.iconColor)}},Lt=function(t){return'<div class="'.concat(T["icon-content"],'">').concat(t,"</div>")},Mt=[],Vt=function(){return x()&&x().getAttribute("data-queue-step")},Ft=function(t,e){var n=z();tt(n,e,"header"),function(t,e){var n=M();if(!e.progressSteps||0===e.progressSteps.length)return lt(n);ct(n),n.textContent="";var r=parseInt(void 0===e.currentProgressStep?Vt():e.currentProgressStep);r>=e.progressSteps.length&&g("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(t,i){var o=function(t){var e=document.createElement("li");return ot(e,T["progress-step"]),Z(e,t),e}(t);if(n.appendChild(o),i===r&&ot(o,T["active-progress-step"]),i!==e.progressSteps.length-1){var s=function(t){var e=document.createElement("li");return ot(e,T["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(e);n.appendChild(s)}})}(0,e),function(t,e){var n=St.innerParams.get(t),r=N();n&&e.icon===n.icon?(Dt(r,e),Nt(r,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(I).indexOf(e.icon)?(m('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),lt(r)):(ct(r),Dt(r,e),Nt(r,e),ot(r,e.showClass.icon)):lt(r)}(t,e),function(t,e){var n=L();if(!e.imageUrl)return lt(n);ct(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),ut(n,"width",e.imageWidth),ut(n,"height",e.imageHeight),n.className=T.image,tt(n,e,"image")}(0,e),function(t,e){var n=R();dt(n,e.title||e.titleText,"block"),e.title&&wt(e.title,n),e.titleText&&(n.innerText=e.titleText),tt(n,e,"title")}(0,e),function(t,e){var n=W();Z(n,e.closeButtonHtml),tt(n,e,"closeButton"),dt(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e)},Ut=function(t,e){(function(t,e){var n=x(),r=j();e.toast?(ut(n,"width",e.width),r.style.width="100%"):ut(r,"width",e.width),ut(r,"padding",e.padding),e.background&&(r.style.background=e.background),lt(V()),function(t,e){t.className="".concat(T.popup," ").concat(ft(t)?e.showClass.popup:""),e.toast?(ot([document.documentElement,document.body],T["toast-shown"]),ot(t,T.toast)):ot(t,T.modal),tt(t,e,"popup"),"string"==typeof e.customClass&&ot(t,e.customClass),e.icon&&ot(t,T["icon-".concat(e.icon)])}(r,e)})(0,e),function(t,e){var n=x();if(n){(function(t,e){"string"==typeof e?t.style.background=e:e||ot([document.documentElement,document.body],T["no-backdrop"])})(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&g('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in T?ot(t,T[e]):(g('The "position" parameter is not valid, defaulting to "center"'),ot(t,T.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){var n="grow-".concat(e);n in T&&ot(t,T[n])}}(n,e.grow),tt(n,e,"container");var r=document.body.getAttribute("data-swal2-queue-step");r&&(n.setAttribute("data-queue-step",r),document.body.removeAttribute("data-swal2-queue-step"))}}(0,e),Ft(t,e),jt(t,e),function(t,e){var n=H(),r=q(),i=F(),o=U(),s=B();e.showConfirmButton||e.showDenyButton||e.showCancelButton||lt(n),tt(n,e,"actions"),Ct(i,"confirm",e),Ct(o,"deny",e),Ct(s,"cancel",e),function(t,e,n,r){if(!r.buttonsStyling)return st([t,e,n],T.styled);ot([t,e,n],T.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor)}(i,o,s,e),e.reverseButtons&&(n.insertBefore(s,r),n.insertBefore(o,r),n.insertBefore(i,r)),Z(r,e.loaderHtml),tt(r,e,"loader")}(0,e),function(t,e){var n=G();dt(n,e.footer),e.footer&&wt(e.footer,n),tt(n,e,"footer")}(0,e),"function"==typeof e.didRender?e.didRender(j()):"function"==typeof e.onRender&&e.onRender(j())},qt=function(){return F()&&F().click()},Bt=function(t){var e=j();e||an.fire(),e=j();var n=H(),r=q();!t&&ft(F())&&(t=F()),ct(n),t&&(lt(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),ot([e,n],T.loading),ct(r),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Ht={},zt=function(){if(Ht.timeout)return function(){var t=K(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")}(),Ht.timeout.stop()},Gt=function(){if(Ht.timeout){var t=Ht.timeout.start();return mt(t),t}},Kt=!1,Wt={},$t=function(t){for(var e=t.target;e&&e!==document;e=e.parentNode)for(var n in Wt){var r=e.getAttribute(n);if(r)return void Wt[n].fire({template:r})}},Qt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,willOpen:void 0,didOpen:void 0,onRender:void 0,didRender:void 0,onClose:void 0,onAfterClose:void 0,willClose:void 0,didClose:void 0,onDestroy:void 0,didDestroy:void 0,scrollbarPadding:!0},Yt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Xt={animation:'showClass" and "hideClass',onBeforeOpen:"willOpen",onOpen:"didOpen",onRender:"didRender",onClose:"willClose",onAfterClose:"didClose",onDestroy:"didDestroy"},Zt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Jt=function(t){return Object.prototype.hasOwnProperty.call(Qt,t)},te=function(t){return Xt[t]},ee=function(t){Jt(t)||g('Unknown parameter "'.concat(t,'"'))},ne=function(t){-1!==Zt.indexOf(t)&&g('The parameter "'.concat(t,'" is incompatible with toasts'))},re=function(t){te(t)&&b(t,te(t))},ie=function(t){for(var e in t)ee(e),t.toast&&ne(e),re(e)},oe=Object.freeze({isValidParameter:Jt,isUpdatableParameter:function(t){return-1!==Yt.indexOf(t)},isDeprecatedParameter:te,argsToParams:function(e){var n={};return"object"!==t(e[0])||C(e[0])?["title","html","icon"].forEach(function(r,i){var o=e[i];"string"==typeof o||C(o)?n[r]=o:void 0!==o&&m("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(t(o)))}):i(n,e[0]),n},isVisible:function(){return ft(j())},clickConfirm:qt,clickDeny:function(){return U()&&U().click()},clickCancel:function(){return B()&&B().click()},getContainer:x,getPopup:j,getTitle:R,getContent:D,getHtmlContainer:P,getImage:L,getIcon:N,getInputLabel:function(){return k(T["input-label"])},getCloseButton:W,getActions:H,getConfirmButton:F,getDenyButton:U,getCancelButton:B,getLoader:q,getHeader:z,getFooter:G,getTimerProgressBar:K,getFocusableElements:$,getValidationMessage:V,isLoading:function(){return j().hasAttribute("data-loading")},fire:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return u(t,n)},mixin:function(t){return function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(f,n);var u,h,d=(u=f,h=a(),function(){var t,e=o(u);if(h){var n=o(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function f(){return e(this,f),d.apply(this,arguments)}return r(f,[{key:"_main",value:function(e,n){return l(o(f.prototype),"_main",this).call(this,e,i({},t,n))}}]),f}(this)},queue:function(t){b("Swal.queue()","async/await");var e=this;Mt=t;var n=function(t,e){Mt=[],t(e)},r=[];return new Promise(function(t){!function i(o,s){o<Mt.length?(document.body.setAttribute("data-swal2-queue-step",o),e.fire(Mt[o]).then(function(e){void 0!==e.value?(r.push(e.value),i(o+1,s)):n(t,{dismiss:e.dismiss})})):n(t,{value:r})}(0)})},getQueueStep:Vt,insertQueueStep:function(t,e){return e&&e<Mt.length?Mt.splice(e,0,t):Mt.push(t)},deleteQueueStep:function(t){void 0!==Mt[t]&&Mt.splice(t,1)},showLoading:Bt,enableLoading:Bt,getTimerLeft:function(){return Ht.timeout&&Ht.timeout.getTimerLeft()},stopTimer:zt,resumeTimer:Gt,toggleTimer:function(){var t=Ht.timeout;return t&&(t.running?zt():Gt())},increaseTimer:function(t){if(Ht.timeout){var e=Ht.timeout.increase(t);return mt(e,!0),e}},isTimerRunning:function(){return Ht.timeout&&Ht.timeout.isRunning()},bindClickHandler:function(){Wt[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Kt||(document.body.addEventListener("click",$t),Kt=!0)}});function se(){if(St.innerParams.get(this)){var t=St.domCache.get(this);lt(t.loader);var e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?ct(e[0],"inline-block"):!ft(F())&&!ft(U())&&!ft(B())&&lt(t.actions),st([t.popup,t.actions],T.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var ae=function(t){var e=t.target,n=x();return!(ue(t)||ce(t)||e!==n&&(pt(n)||"INPUT"===e.tagName||pt(D())&&D().contains(e)))},ue=function(t){return t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType},ce=function(t){return t.touches&&t.touches.length>1},le=function(){return!!window.MSInputMethodContext&&!!document.documentMode},he=function(){var t=x(),e=j();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},de={swalPromiseResolve:new WeakMap};function fe(t,e,n,r){Y()?ve(t,r):(function(t){return new Promise(function(e){if(!t)return e();var n=window.scrollX,r=window.scrollY;Ht.restoreFocusTimeout=setTimeout(function(){Ht.previousActiveElement&&Ht.previousActiveElement.focus?(Ht.previousActiveElement.focus(),Ht.previousActiveElement=null):document.body&&document.body.focus(),e()},100),void 0!==n&&void 0!==r&&window.scrollTo(n,r)})}(n).then(function(){return ve(t,r)}),Ht.keydownTarget.removeEventListener("keydown",Ht.keydownHandler,{capture:Ht.keydownListenerCapture}),Ht.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),Q()&&(null!==X.previousBodyPadding&&(document.body.style.paddingRight="".concat(X.previousBodyPadding,"px"),X.previousBodyPadding=null),function(){if(J(document.body,T.iosfix)){var t=parseInt(document.body.style.top,10);st(document.body,T.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}(),"undefined"!=typeof window&&le()&&window.removeEventListener("resize",he),p(document.body.children).forEach(function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})),st([document.documentElement,document.body],[T.shown,T["height-auto"],T["no-backdrop"],T["toast-shown"]])}function pe(t){var e=j();if(e){t=ge(t);var n=St.innerParams.get(this);if(n&&!J(e,n.hideClass.popup)){var r=de.swalPromiseResolve.get(this);st(e,n.showClass.popup),ot(e,n.hideClass.popup);var i=x();st(i,n.showClass.backdrop),ot(i,n.hideClass.backdrop),me(this,e,n),r(t)}}}var ge=function(t){return void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:i({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},me=function(t,e,n){var r=x(),i=Et&&gt(e),o=n.onAfterClose,s=n.didClose;ye(e,n.willClose,n.onClose),i?be(t,e,r,n.returnFocus,s||o):fe(t,r,n.returnFocus,s||o)},ye=function(t,e,n){null!==e&&"function"==typeof e?e(t):null!==n&&"function"==typeof n&&n(t)},be=function(t,e,n,r,i){Ht.swalCloseEventFinishedCallback=fe.bind(null,t,n,r,i),e.addEventListener(Et,function(t){t.target===e&&(Ht.swalCloseEventFinishedCallback(),delete Ht.swalCloseEventFinishedCallback)})},ve=function(t,e){setTimeout(function(){"function"==typeof e&&e(),t._destroy()})};function we(t,e,n){var r=St.domCache.get(t);e.forEach(function(t){r[t].disabled=n})}function _e(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}var Oe=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),Ee={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function Ce(t){(function(t){t.inputValidator||Object.keys(Ee).forEach(function(e){t.input===e&&(t.inputValidator=Ee[e])})})(t),t.showLoaderOnConfirm&&!t.preConfirm&&g("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=v(t.animation),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(g('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),function(t){var e,n,r,i,o,s,a,u,c,l,h=!!(e=x())&&(e.parentNode.removeChild(e),st([document.documentElement,document.body],[T["no-backdrop"],T["toast-shown"],T["has-column"]]),!0);if(yt())m("SweetAlert2 requires document to initialize");else{var d=document.createElement("div");d.className=T.container,h&&ot(d,T["no-transition"]),Z(d,bt);var f="string"==typeof(l=t.target)?document.querySelector(l):l;f.appendChild(d),function(t){var e=j();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&ot(x(),T.rtl)}(f),n=D(),r=at(n,T.input),i=at(n,T.file),o=n.querySelector(".".concat(T.range," input")),s=n.querySelector(".".concat(T.range," output")),a=at(n,T.select),u=n.querySelector(".".concat(T.checkbox," input")),c=at(n,T.textarea),r.oninput=vt,i.onchange=vt,a.onchange=vt,u.onchange=vt,c.oninput=vt,o.oninput=function(t){vt(t),s.value=o.value},o.onchange=function(t){vt(t),o.nextSibling.value=o.value}}}(t)}var Se,Te=["swal-title","swal-html","swal-footer"],Ie=function(t,e){p(t.attributes).forEach(function(n){-1===e.indexOf(n.name)&&g(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])})},xe=function(t,e){"function"==typeof e.didOpen?setTimeout(function(){return e.didOpen(t)}):"function"==typeof e.onOpen&&setTimeout(function(){return e.onOpen(t)})},Ae=function t(e){var n=j();if(e.target===n){var r=x();n.removeEventListener(Et,t),r.style.overflowY="auto"}},ke=function(t,e){Et&&gt(e)?(t.style.overflowY="hidden",e.addEventListener(Et,Ae)):t.style.overflowY="auto"},je=function(t,e,n){(function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!J(document.body,T.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),ot(document.body,T.iosfix),function(){var t,e=x();e.ontouchstart=function(e){t=ae(e)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}}(),navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||j().scrollHeight>window.innerHeight-44&&(x().style.paddingBottom="".concat(44,"px"))}})(),"undefined"!=typeof window&&le()&&(he(),window.addEventListener("resize",he)),e&&"hidden"!==n&&(null===X.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(X.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(X.previousBodyPadding+function(){var t=document.createElement("div");t.className=T["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px"))),setTimeout(function(){t.scrollTop=0})},Ne=function(t,e,n){ot(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),ct(e),setTimeout(function(){ot(e,n.showClass.popup),e.style.removeProperty("opacity")},10),ot([document.documentElement,document.body],T.shown),n.heightAuto&&n.backdrop&&!n.toast&&ot([document.documentElement,document.body],T["height-auto"])},Re={select:function(t,e,n){var r=at(t,T.select),i=function(t,e,r){var i=document.createElement("option");i.value=r,Z(i,e),i.selected=Pe(r,n.inputValue),t.appendChild(i)};e.forEach(function(t){var e=t[0],n=t[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=e,o.disabled=!1,r.appendChild(o),n.forEach(function(t){return i(o,t[1],t[0])})}else i(r,n,e)}),r.focus()},radio:function(t,e,n){var r=at(t,T.radio);e.forEach(function(t){var e=t[0],i=t[1],o=document.createElement("input"),s=document.createElement("label");o.type="radio",o.name=T.radio,o.value=e,Pe(e,n.inputValue)&&(o.checked=!0);var a=document.createElement("span");Z(a,i),a.className=T.label,s.appendChild(o),s.appendChild(a),r.appendChild(s)});var i=r.querySelectorAll("input");i.length&&i[0].focus()}},De=function e(n){var r=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach(function(n,i){var o=n;"object"===t(o)&&(o=e(o)),r.push([i,o])}):Object.keys(n).forEach(function(i){var o=n[i];"object"===t(o)&&(o=e(o)),r.push([i,o])}),r},Pe=function(t,e){return e&&e.toString()===t.toString()},Le=function(t,e,n){var r=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return function(t){return t.checked?1:0}(n);case"radio":return function(t){return t.checked?t.value:null}(n);case"file":return function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null}(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,e);e.inputValidator?Me(t,e,r):t.getInput().checkValidity()?"deny"===n?Ve(t,e,r):Ue(t,e,r):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},Me=function(t,e,n){t.disableInput(),Promise.resolve().then(function(){return _(e.inputValidator(n,e.validationMessage))}).then(function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):Ue(t,e,n)})},Ve=function(t,e,n){e.showLoaderOnDeny&&Bt(U()),e.preDeny?Promise.resolve().then(function(){return _(e.preDeny(n,e.validationMessage))}).then(function(e){!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===e?n:e})}):t.closePopup({isDenied:!0,value:n})},Fe=function(t,e){t.closePopup({isConfirmed:!0,value:e})},Ue=function(t,e,n){e.showLoaderOnConfirm&&Bt(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then(function(){return _(e.preConfirm(n,e.validationMessage))}).then(function(e){ft(V())||!1===e?t.hideLoading():Fe(t,void 0===e?n:e)})):Fe(t,n)},qe=function(t,e,n){var r=$();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();j().focus()},Be=["ArrowRight","ArrowDown","Right","Down"],He=["ArrowLeft","ArrowUp","Left","Up"],ze=["Escape","Esc"],Ge=function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;qt(),e.preventDefault()}},Ke=function(t,e){for(var n=t.target,r=$(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}qe(0,i,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()},We=function(t){if(-1!==[F(),U(),B()].indexOf(document.activeElement)){var e=-1!==Be.indexOf(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()}},$e=function(t,e,n){v(e.allowEscapeKey)&&(t.preventDefault(),n(E.esc))},Qe=!1,Ye=function(e,n){var r=function(e){var n="string"==typeof e.template?document.querySelector(e.template):e.template;if(!n)return{};var r=n.content||n;return function(t){var e=Te.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);p(t.querySelectorAll("*")).forEach(function(n){if(n.parentNode===t){var r=n.tagName.toLowerCase();-1===e.indexOf(r)&&g("Unrecognized element <".concat(r,">"))}})}(r),i(function(e){var n={};return p(e.querySelectorAll("swal-param")).forEach(function(e){Ie(e,["name","value"]);var r=e.getAttribute("name"),i=e.getAttribute("value");"boolean"==typeof Qt[r]&&"false"===i&&(i=!1),"object"===t(Qt[r])&&(i=JSON.parse(i)),n[r]=i}),n}(r),function(t){var e={};return p(t.querySelectorAll("swal-button")).forEach(function(t){Ie(t,["type","color","aria-label"]);var n=t.getAttribute("type");e["".concat(n,"ButtonText")]=t.innerHTML,e["show".concat(d(n),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(n,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(n,"ButtonAriaLabel")]=t.getAttribute("aria-label"))}),e}(r),function(t){var e={},n=t.querySelector("swal-image");return n&&(Ie(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e}(r),function(t){var e={},n=t.querySelector("swal-icon");return n&&(Ie(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e}(r),function(t){var e={},n=t.querySelector("swal-input");n&&(Ie(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));var r=t.querySelectorAll("swal-input-option");return r.length&&(e.inputOptions={},p(r).forEach(function(t){Ie(t,["value"]);var n=t.getAttribute("value");e.inputOptions[n]=t.innerHTML})),e}(r),function(t,e){var n={};for(var r in e){var i=e[r],o=t.querySelector(i);o&&(Ie(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n}(r,Te))}(e),o=i({},Qt,n,r,e);return o.showClass=i({},Qt.showClass,o.showClass),o.hideClass=i({},Qt.hideClass,o.hideClass),!1===e.animation&&(o.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},o.hideClass={}),o},Xe=function(e,n,r){return new Promise(function(i){var o=function(t){e.closePopup({isDismissed:!0,dismiss:t})};de.swalPromiseResolve.set(e,i),n.confirmButton.onclick=function(){return function(t,e){t.disableButtons(),e.input?Le(t,e,"confirm"):Ue(t,e,!0)}(e,r)},n.denyButton.onclick=function(){return function(t,e){t.disableButtons(),e.returnInputValueOnDeny?Le(t,e,"deny"):Ve(t,e,!1)}(e,r)},n.cancelButton.onclick=function(){return function(t,e){t.disableButtons(),e(E.cancel)}(e,o)},n.closeButton.onclick=function(){return o(E.close)},function(t,e,n){St.innerParams.get(t).toast?function(t,e,n){e.popup.onclick=function(){var e=St.innerParams.get(t);e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||e.timer||e.input||n(E.close)}}(t,e,n):(function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(Qe=!0)}}}(e),function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(Qe=!0)}}}(e),function(t,e,n){e.container.onclick=function(r){var i=St.innerParams.get(t);Qe?Qe=!1:r.target===e.container&&v(i.allowOutsideClick)&&n(E.backdrop)}}(t,e,n))}(e,n,o),function(t,e,n,r){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return function(t,e,n){var r=St.innerParams.get(t);r&&(r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?Ge(t,e,r):"Tab"===e.key?Ke(e,r):-1!==[].concat(Be,He).indexOf(e.key)?We(e.key):-1!==ze.indexOf(e.key)&&$e(e,r,n))}(t,e,r)},e.keydownTarget=n.keydownListenerCapture?window:j(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(e,Ht,r,o),function(e,n){"select"===n.input||"radio"===n.input?function(e,n){var r=D(),i=function(t){return Re[n.input](r,De(t),n)};w(n.inputOptions)||O(n.inputOptions)?(Bt(F()),_(n.inputOptions).then(function(t){e.hideLoading(),i(t)})):"object"===t(n.inputOptions)?i(n.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))}(e,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&(w(n.inputValue)||O(n.inputValue))&&function(t,e){var n=t.getInput();lt(n),_(e.inputValue).then(function(r){n.value="number"===e.input?parseFloat(r)||0:"".concat(r),ct(n),n.focus(),t.hideLoading()}).catch(function(e){m("Error in inputValue promise: ".concat(e)),n.value="",ct(n),n.focus(),t.hideLoading()})}(e,n)}(e,r),function(t){var e=x(),n=j();"function"==typeof t.willOpen?t.willOpen(n):"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(n);var r=window.getComputedStyle(document.body).overflowY;Ne(e,n,t),setTimeout(function(){ke(e,n)},10),Q()&&(je(e,t.scrollbarPadding,r),p(document.body.children).forEach(function(t){t===x()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,x())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),Y()||Ht.previousActiveElement||(Ht.previousActiveElement=document.activeElement),xe(n,t),st(e,T["no-transition"])}(r),Je(Ht,r,o),tn(n,r),setTimeout(function(){n.container.scrollTop=0})})},Ze=function(t){var e={popup:j(),container:x(),content:D(),actions:H(),confirmButton:F(),denyButton:U(),cancelButton:B(),loader:q(),closeButton:W(),validationMessage:V(),progressSteps:M()};return St.domCache.set(t,e),e},Je=function(t,e,n){var r=K();lt(r),e.timer&&(t.timeout=new Oe(function(){n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(ct(r),setTimeout(function(){t.timeout&&t.timeout.running&&mt(e.timer)})))},tn=function(t,e){if(!e.toast)return v(e.allowEnterKey)?void(en(t,e)||qe(0,-1,1)):nn()},en=function(t,e){return e.focusDeny&&ft(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&ft(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!ft(t.confirmButton)||(t.confirmButton.focus(),0))},nn=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},rn=function(t){for(var e in t)t[e]=new WeakMap},on=Object.freeze({hideLoading:se,disableLoading:se,getInput:function(t){var e=St.innerParams.get(t||this),n=St.domCache.get(t||this);return n?et(n.content,e.input):null},close:pe,closePopup:pe,closeModal:pe,closeToast:pe,enableButtons:function(){we(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){we(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return _e(this.getInput(),!1)},disableInput:function(){return _e(this.getInput(),!0)},showValidationMessage:function(t){var e=St.domCache.get(this),n=St.innerParams.get(this);Z(e.validationMessage,t),e.validationMessage.className=T["validation-message"],n.customClass&&n.customClass.validationMessage&&ot(e.validationMessage,n.customClass.validationMessage),ct(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",T["validation-message"]),rt(r),ot(r,T.inputerror))},resetValidationMessage:function(){var t=St.domCache.get(this);t.validationMessage&&lt(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),st(e,T.inputerror))},getProgressSteps:function(){return St.domCache.get(this).progressSteps},_main:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ie(i({},e,t)),Ht.currentInstance&&Ht.currentInstance._destroy(),Ht.currentInstance=this;var n=Ye(t,e);Ce(n),Object.freeze(n),Ht.timeout&&(Ht.timeout.stop(),delete Ht.timeout),clearTimeout(Ht.restoreFocusTimeout);var r=Ze(this);return Ut(this,n),St.innerParams.set(this,n),Xe(this,r,n)},update:function(t){var e=j(),n=St.innerParams.get(this);if(!e||J(e,n.hideClass.popup))return g("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(t).forEach(function(e){an.isUpdatableParameter(e)?r[e]=t[e]:g('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});var o=i({},n,r);Ut(this,o),St.innerParams.set(this,o),Object.defineProperties(this,{params:{value:i({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=St.domCache.get(this),e=St.innerParams.get(this);e&&(t.popup&&Ht.swalCloseEventFinishedCallback&&(Ht.swalCloseEventFinishedCallback(),delete Ht.swalCloseEventFinishedCallback),Ht.deferDisposalTimer&&(clearTimeout(Ht.deferDisposalTimer),delete Ht.deferDisposalTimer),function(t){"function"==typeof t.didDestroy?t.didDestroy():"function"==typeof t.onDestroy&&t.onDestroy()}(e),delete this.params,delete Ht.keydownHandler,delete Ht.keydownTarget,rn(St),rn(de))}}),sn=function(){function t(){if(e(this,t),"undefined"!=typeof window){"undefined"==typeof Promise&&m("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),Se=this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Object.freeze(this.constructor.argsToParams(r));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var s=this._main(this.params);St.promise.set(this,s)}}return r(t,[{key:"then",value:function(t){return St.promise.get(this).then(t)}},{key:"finally",value:function(t){return St.promise.get(this).finally(t)}}]),t}();i(sn.prototype,on),i(sn,oe),Object.keys(on).forEach(function(t){sn[t]=function(){var e;if(Se)return(e=Se)[t].apply(e,arguments)}}),sn.DismissReason=E,sn.version="10.16.7";var an=sn;return an.default=an,an}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{flex-direction:column;align-items:stretch;width:auto;padding:1.25em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row;padding:0}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;margin:0 .625em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container{padding:.625em 0 0}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex:1;flex-basis:auto!important;align-self:stretch;width:auto;height:2.2em;height:auto;margin:0 .3125em;margin-top:.3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.125em .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center;padding:0 1.8em}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#2778c4;color:#fff;font-size:1em}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#d14529;color:#fff;font-size:1em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#757575;color:#fff;font-size:1em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0 1.6em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto}.swal2-validation-message{align-items:center;justify-content:center;margin:0 -2.7em;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return rn}),n.d(e,"b",function(){return cu}),n.d(e,"c",function(){return iu}),n.d(e,"d",function(){return nu}),n.d(e,"e",function(){return ru}),n.d(e,"f",function(){return nc}),n.d(e,"g",function(){return Ku}),n.d(e,"h",function(){return ra}),n.d(e,"i",function(){return wu}),n.d(e,"j",function(){return Is}),n.d(e,"k",function(){return du}),n.d(e,"l",function(){return js}),n.d(e,"m",function(){return mr}),n.d(e,"n",function(){return Va}),n.d(e,"o",function(){return Xi}),n.d(e,"p",function(){return En}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return nn}),n.d(e,"s",function(){return po}),n.d(e,"t",function(){return Ys}),n.d(e,"u",function(){return Zs}),n.d(e,"v",function(){return hu}),n.d(e,"w",function(){return pa}),n.d(e,"x",function(){return $u}),n.d(e,"y",function(){return fa}),n.d(e,"z",function(){return qu}),n.d(e,"A",function(){return Eu}),n.d(e,"B",function(){return Cn}),n.d(e,"C",function(){return uu}),n.d(e,"D",function(){return au}),n.d(e,"E",function(){return Ds}),n.d(e,"F",function(){return Rs}),n.d(e,"G",function(){return wr}),n.d(e,"H",function(){return Ls}),n.d(e,"I",function(){return hr}),n.d(e,"J",function(){return Sn}),n.d(e,"K",function(){return Xu}),n.d(e,"L",function(){return ca}),n.d(e,"M",function(){return ku}),n.d(e,"N",function(){return on}),n.d(e,"O",function(){return Vs}),n.d(e,"P",function(){return Ms}),n.d(e,"Q",function(){return ma}),n.d(e,"R",function(){return M}),n.d(e,"S",function(){return Bu}),n.d(e,"T",function(){return Fu}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return Vu}),n.d(e,"W",function(){return tc}),n.d(e,"X",function(){return Ru}),n.d(e,"Y",function(){return lu}),n.d(e,"Z",function(){return Ji}),n.d(e,"ab",function(){return fs}),n.d(e,"bb",function(){return cr}),n.d(e,"cb",function(){return Kn}),n.d(e,"db",function(){return Pn}),n.d(e,"eb",function(){return Mn}),n.d(e,"fb",function(){return qn}),n.d(e,"gb",function(){return Fn}),n.d(e,"hb",function(){return Vn}),n.d(e,"ib",function(){return Un}),n.d(e,"jb",function(){return cs}),n.d(e,"kb",function(){return Ju}),n.d(e,"lb",function(){return ls}),n.d(e,"mb",function(){return hs}),n.d(e,"nb",function(){return Ln}),n.d(e,"ob",function(){return B}),n.d(e,"pb",function(){return Co}),n.d(e,"qb",function(){return qo}),n.d(e,"rb",function(){return Fo}),n.d(e,"sb",function(){return Uo}),n.d(e,"tb",function(){return us}),n.d(e,"ub",function(){return It}),n.d(e,"vb",function(){return d}),n.d(e,"wb",function(){return Dn}),n.d(e,"xb",function(){return mo}),n.d(e,"yb",function(){return _t}),n.d(e,"zb",function(){return Cs}),n.d(e,"Ab",function(){return ri}),n.d(e,"Bb",function(){return xo}),n.d(e,"Cb",function(){return Yo}),n.d(e,"Db",function(){return Xa}),n.d(e,"Eb",function(){return tt}),n.d(e,"Fb",function(){return at}),n.d(e,"Gb",function(){return O}),n.d(e,"Hb",function(){return E}),n.d(e,"Ib",function(){return it}),n.d(e,"Jb",function(){return ut}),n.d(e,"Kb",function(){return No}),n.d(e,"Lb",function(){return Mo}),n.d(e,"Mb",function(){return Lo}),n.d(e,"Nb",function(){return Po}),n.d(e,"Ob",function(){return Vo}),n.d(e,"Pb",function(){return Xe}),n.d(e,"Qb",function(){return is}),n.d(e,"Rb",function(){return wn}),n.d(e,"Sb",function(){return Je}),n.d(e,"Tb",function(){return eu}),n.d(e,"Ub",function(){return Bo}),n.d(e,"Vb",function(){return Za}),n.d(e,"Wb",function(){return Go}),n.d(e,"Xb",function(){return Na}),n.d(e,"Yb",function(){return Ra}),n.d(e,"Zb",function(){return Da}),n.d(e,"ac",function(){return Ro}),n.d(e,"bc",function(){return Ko}),n.d(e,"cc",function(){return Ya}),n.d(e,"dc",function(){return jo}),n.d(e,"ec",function(){return Kt}),n.d(e,"fc",function(){return dr}),n.d(e,"gc",function(){return ot}),n.d(e,"hc",function(){return ko}),n.d(e,"ic",function(){return tu}),n.d(e,"jc",function(){return es}),n.d(e,"kc",function(){return ns}),n.d(e,"lc",function(){return rs});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return d(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class b extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function v(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():v(t)}function _(t,e){const n=e?` in ${e}`:"";throw new b("201",`No provider for ${w(t)} found${n}`)}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return S(t,I)||S(t,A)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(k))?t[x]:null}const I=l({"\u0275prov":l}),x=l({"\u0275inj":l}),A=l({ngInjectableDef:l}),k=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function R(t){const e=N;return N=t,e}function D(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void _(d(t),"Injector")}function P(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=V||q||F||U,H={},z=[],G=[],K=l({"\u0275cmp":l}),W=l({"\u0275dir":l}),$=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),X=l({"\u0275fac":l}),Z=l({__NG_ELEMENT_ID__:l});let J=0;function tt(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[$]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{rt[t.id]=t.type}),e}function ot(t,e){return P(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}const ht=20,dt=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return Ot}function Ot(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),Et}function Et(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new wt(u&&u.currentValue,e,s===H),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}let Tt;function It(t){Tt=t}function xt(t){return!!t.listen}_t.ngInherit=!0;const At={createRenderer:(t,e)=>void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return kt(e[t])}function Nt(t,e){return kt(e[t.index])}function Rt(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Pt(t,e){const n=e[t];return ft(n)?n:n[0]}function Lt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Vt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:ce(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Bt.bindingsEnabled}function zt(){return Bt.lFrame.lView}function Gt(){return Bt.lFrame.tView}function Kt(t){Bt.lFrame.contextLView=t}function Wt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return Bt.lFrame.currentTNode}function Qt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Bt.lFrame.isParent}function Xt(){return Bt.isInCheckNoChangesMode}function Zt(t){Bt.isInCheckNoChangesMode=t}function Jt(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return Bt.lFrame.bindingIndex++}function ee(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){Bt.lFrame.currentDirectiveIndex=t}function re(){return Bt.lFrame.currentQueryIndex}function ie(t){Bt.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function se(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=oe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=ue();return r.currentTNode=e,r.lView=t,!0}function ae(t){const e=ue(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ue(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?ce(t):e}function ce(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function de(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return Bt.lFrame.selectedIndex}function pe(t){Bt.lFrame.selectedIndex=t}function ge(){const t=Bt.lFrame;return Rt(t.tView,t.selectedIndex)}function me(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ye(t,e,n){we(t,e,3,n)}function be(t,e,n,r){(3&t[2])===n&&we(t,e,n,r)}function ve(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(_e(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function _e(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Oe=-1;class Ee{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ce(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Te(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Se(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function Ie(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||xe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function xe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ae(t){return t!==Oe}function ke(t){return 32767&t}function je(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ne=!0;function Re(t){const e=Ne;return Ne=t,e}let De=0;function Pe(t,e){const n=Me(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Ve(t,e),o=t.injectorIndex;if(Ae(i)){const t=ke(i),n=je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Oe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oe}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=De++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ue(t,e,n){if(n&j.Optional)return t;_(e,"NodeInjector")}function qe(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],o=R(void 0);try{return i?i.get(e,r,n&j.Optional):D(e,r,n&j.Optional)}finally{R(o)}}return Ue(r,e,n)}function Be(t,e,n,r=j.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:ze:e}(n);if("function"==typeof o){if(!se(e,t,r))return r&j.Host?Ue(i,n,r):qe(e,n,r,i);try{const t=o();if(null!=t||r&j.Optional)return t;_(n)}finally{he()}}else if("number"==typeof o){let i=null,s=Me(t,e),a=Oe,u=r&j.Host?e[16][6]:null;for((-1===s||r&j.SkipSelf)&&(a=-1===s?Ve(t,e):e[s+8],a!==Oe&&Qe(r,!1)?(i=e[1],s=ke(a),e=je(a,e)):s=-1);-1!==s;){const t=e[1];if($e(o,s,t.data)){const t=Ge(s,e,n,i,r,u);if(t!==He)return t}a=e[s+8],a!==Oe&&Qe(r,e[1].data[s+8]===u)&&$e(o,s,e)?(i=t,s=ke(a),e=je(a,e)):s=-1}}}return qe(e,n,r,i)}const He={};function ze(){return new Ye(Wt(),zt())}function Ge(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Ke(a,s,n,null==r?mt(a)&&Ne:r!=s&&0!=(3&a.type),i&j.Host&&o===a);return null!==u?We(e,s,u,a):He}function Ke(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&bt(t)&&t.type===n)return u}return null}function We(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ee){const s=i;s.resolving&&function(t,e){throw new b("200",`Circular dependency in DI detected for ${t}`)}(w(o[n]));const a=Re(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?R(s.injectImpl):null;se(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Ot(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&R(u),Re(a),s.resolving=!1,he()}}return i}function $e(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Qe(t,e){return!(t&j.Self||t&j.Host&&e)}class Ye{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Be(this._tNode,this._lView,t,void 0,e)}}function Xe(t){return P(()=>{const e=t.prototype.constructor,n=e[X]||Ze(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||Ze(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ze(t){return y(t)?()=>{const e=Ze(m(t));return e&&e()}:vt(t)}function Je(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Wt(),t)}const tn="__parameters__";function en(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(tn)?t[tn]:Object.defineProperty(t,tn,{value:[]})[tn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rn=new nn("AnalyzeForEntryComponents"),on=Function;function sn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),sn(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e,n){let r=dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function hn(t,e){const n=dn(t,e);if(n>=0)return t[1|n]}function dn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const fn={},pn=/\n/gm,gn="__source",mn=l({provide:String,useValue:l});let yn;function bn(t){const e=yn;return yn=t,e}function vn(t,e=j.Default){if(void 0===yn)throw new Error("inject() must be called from an injection context");return null===yn?D(t,void 0,e):yn.get(t,e&j.Optional?null:void 0,e)}function wn(t,e=j.Default){return(N||vn)(m(t),e)}function _n(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(wn(t,n))}else e.push(wn(r))}return e}function On(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const En=On(en("Inject",t=>({token:t})),-1),Cn=On(en("Optional"),8),Sn=On(en("SkipSelf"),4);let Tn;function In(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,B.trustedTypes))try{Tn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}class xn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class An extends xn{getTypeName(){return"HTML"}}class kn extends xn{getTypeName(){return"Style"}}class jn extends xn{getTypeName(){return"Script"}}class Nn extends xn{getTypeName(){return"URL"}}class Rn extends xn{getTypeName(){return"ResourceURL"}}function Dn(t){return t instanceof xn?t.changingThisBreaksApplicationSecurity:t}function Pn(t,e){const n=Ln(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ln(t){return t instanceof xn&&t.getTypeName()||null}function Mn(t){return new An(t)}function Vn(t){return new kn(t)}function Fn(t){return new jn(t)}function Un(t){return new Nn(t)}function qn(t){return new Rn(t)}class Bn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(In(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Hn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=In(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=In(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kn(t){return(t=String(t)).match(zn)||t.match(Gn)?t:"unsafe:"+t}function Wn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $n(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Qn=Wn("area,br,col,hr,img,wbr"),Yn=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=Wn("rp,rt"),Zn=$n(Xn,Yn),Jn=$n(Qn,$n(Yn,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$n(Xn,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn),tr=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),er=Wn("srcset"),nr=$n(tr,er,Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rr=Wn("script,style,template");class ir{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!rr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!nr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;tr[o]&&(s=Kn(s)),er[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Kn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ar(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ar(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const or=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sr=/([^\#-~ |!])/g;function ar(t){return t.replace(/&/g,"&amp;").replace(or,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(sr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ur;function cr(t,e){let n=null;try{ur=ur||function(t){const e=new Hn(t);return function(){try{return!!(new window.DOMParser).parseFromString(In(""),"text/html")}catch(t){return!1}}()?new Bn(e):e}(t);let r=e?String(e):"";n=ur.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ur.getInertBodyElement(r)}while(r!==o);return In((new ir).sanitizeChildren(lr(n)||n))}finally{if(n){const t=lr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function lr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function dr(t){const e=function(){const t=zt();return t&&t[12]}();return e?e.sanitize(hr.URL,t)||"":Pn(t,"URL")?Dn(t):Kn(v(t))}function fr(t){return t.ngDebugContext}function pr(t){return t.ngOriginalError}function gr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||gr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?fr(t)?fr(t):this._findContext(pr(t)):null}_findOriginalError(t){let e=pr(t);for(;e&&pr(e);)e=pr(e);return e}}function yr(t,e){t.__ngContext__=e}const br=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function vr(t){return t instanceof Function?t():t}var wr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function _r(t,e){return(void 0)(t,e)}function Or(t){const e=t[3];return pt(e)?e[3]:e}function Er(t){return Sr(t[13])}function Cr(t){return Sr(t[4])}function Sr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Tr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:ft(r)&&(s=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?Rr(e,n,a):Nr(e,n,a,i||null,!0):1===t&&null!==n?Nr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Pr(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==kt(n)&&Tr(e,t,r,o,i);for(let s=dt;s<n.length;s++){const i=n[s];qr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ir(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function xr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function Ar(t,e){if(t.length<=dt)return;const n=dt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&xr(o,r),e>0&&(t[n-1][4]=r[4]);const s=cn(t,dt+e);qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function kr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return jr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&jr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&jr(e[1],e),n=e&&e[4]}e=n}}(e)}}function jr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ee)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&xr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Nr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Rr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Dr(t,e,n,r,i){null!==r?Nr(t,e,n,r,i):Rr(t,e,n)}function Pr(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Lr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Nt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Dr(o,i,n[a],s,!1);else Dr(o,i,n,s,!1)}function Mr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Fr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Mr(t,n);{const n=t[e.index];return pt(n)?Fr(-1,n):kt(n)}}if(32&n)return _r(e,t)()||kt(t[e.index]);{const n=Vr(t,e);return null!==n?Array.isArray(n)?n[0]:Mr(Or(t[16]),n):Mr(t,e.next)}}return null}function Vr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Fr(t,e){const n=dt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Mr(t,r)}return e[7]}function Ur(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&yr(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Ur(t,e,n.child,r,i,o,!1),Tr(e,t,i,a,o);else if(32&u){const s=_r(n,r);let u;for(;u=s();)Tr(e,t,i,u,o);Tr(e,t,i,a,o)}else 16&u?Br(t,e,r,n,i,o):Tr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function qr(t,e,n,r,i,o){Ur(n,r,t.firstChild,e,i,o,!1)}function Br(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Tr(e,t,i,a[u],o);else Ur(t,e,a,s[3],i,o,!0)}function Hr(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function zr(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Gr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Kr="ng-template";function Wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Gr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function $r(t){return 4===t.type&&t.value!==Kr}function Qr(t,e,n){return e===(4!==t.type||n?t.value:Kr)}function Yr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Qr(t,u,n)||""===u&&1===e.length){if(Xr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Wr(t.attrs,c,n)){if(Xr(r))return!1;s=!0}continue}const l=Zr(8&r?"class":u,i,$r(t),n);if(-1===l){if(Xr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Gr(e,c,0)||2&r&&c!==t){if(Xr(r))return!1;s=!0}}}}else{if(!s&&!Xr(r)&&!Xr(u))return!1;if(s&&Xr(u))continue;s=!1,r=u|1&r}}return Xr(r)||s}function Xr(t){return 0==(1&t)}function Zr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Jr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Yr(t,e[r],n))return!0;return!1}function ti(t,e){return t?":not("+e.trim()+")":e}function ei(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Xr(s)||(e+=ti(o,i),i=""),r=s,o=o||!Xr(r);n++}return""!==i&&(e+=ti(o,i)),e}const ni={};function ri(t){ii(Gt(),zt(),fe()+t,Xt())}function ii(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ye(e,r,n)}else{const r=t.preOrderHooks;null!==r&&be(e,r,0,n)}pe(n)}function oi(t,e){return t<<17|e<<2}function si(t){return t>>17&32767}function ai(t){return 2|t}function ui(t){return(131068&t)>>2}function ci(t,e){return-131069&t|e<<2}function li(t){return 1|t}function hi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ie(i),n.contentQueries(2,e[o],o)}}}function di(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function fi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=$t(),s=Yt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function pi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gi(t,e,n){ae(e);try{const r=t.viewQuery;null!==r&&zi(1,r,n);const i=t.template;null!==i&&bi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&hi(t,e),t.staticViewQueries&&zi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function mi(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e);const o=Xt();try{Ut(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&bi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),ve(e,0)}if(function(t){for(let e=Er(t);null!==e;e=Cr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Er(t);null!==e;e=Cr(e))for(let t=dt;t<e.length;t++){const n=e[t],r=n[1];Vt(n)&&mi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&hi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),ve(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,o=n[++t],s=n[++t];ee(o,i),s(2,e[i])}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Mi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&zi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{de()}}function yi(t,e,n,r){const i=e[10],o=!Xt(),s=Mt(e);try{o&&!s&&i.begin&&i.begin(),s&&gi(t,e,r),mi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function bi(t,e,n,r,i){const o=fe(),s=2&r;try{pe(-1),s&&e.length>ht&&ii(t,e,ht,Xt()),n(r,i)}finally{pe(o)}}function vi(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Pe(n,e),yr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=bt(r);o&&Ri(e,n,r);const u=We(e,t,a,n);yr(u,e),null!==s&&Di(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{pe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ne(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||xi(r,i)}}finally{pe(-1),ne(s)}}(t,e,n))}function wi(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function _i(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oi(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ni);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ei(t,e,n,r){const i=Ki(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Wi(t).push(r,i.length-1))}function Ci(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Si(t,e,n,r,i,o,s,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Qi(t,n,c,r,i),mt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,xt(o)?o.setProperty(u,r,i):Te(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ti(t,e,n,r){let i=!1;if(Ht()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Jr(n,s.selectors,!1)&&(i||(i=[]),Fe(Pe(n,e),t,s.type),bt(s)?(Ai(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,ji(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=pi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ie(n.mergedAttrs,c.hostAttrs),Ni(t,n,e,u,c),ki(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||$r(e)?null:Pi(n,i);o.push(c),s=Ci(n,u,s),a=Ci(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new b("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ie(n.mergedAttrs,n.attrs),i}function Ii(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function xi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ai(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ki(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function ji(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ni(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new Ee(o,bt(i),null);t.blueprint[r]=s,n[r]=s,Ii(t,e,0,r,pi(t,n,i.hostVars,ni),i)}function Ri(t,e,n){const r=Nt(e,t),i=_i(n),o=t[10],s=Ui(t,di(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Di(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Pi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Li(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Mi(t,e){const n=Pt(e,t);if(Vt(n)){const t=n[1];80&n[2]?mi(t,n,t.template,n[8]):n[5]>0&&Vi(n)}}function Vi(t){for(let n=Er(t);null!==n;n=Cr(n))for(let t=dt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];mi(t,e,t.template,e[8])}else e[5]>0&&Vi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Vt(r)&&r[5]>0&&Vi(r)}}function Fi(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),gi(r,n,n[8])}function Ui(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function qi(t){for(;t;){t[2]|=64;const e=Or(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Bi(t,e,n){const r=e[10];r.begin&&r.begin();try{mi(t,e,t.template,n)}catch(i){throw $i(e,i),i}finally{r.end&&r.end()}}function Hi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Lt(n),i=r[1];yi(i,r,i.template,n)}}(t[8])}function zi(t,e,n){ie(0),e(t,n)}const Gi=(()=>Promise.resolve(null))();function Ki(t){return t[7]||(t[7]=[])}function Wi(t){return t.cleanup||(t.cleanup=[])}function $i(t,e){const n=t[9],r=n?n.get(mr,null):null;r&&r.handleError(e)}function Qi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Yi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=f(i,t):2==o&&(r=f(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Xi=new nn("INJECTOR",-1);class Zi{get(t,e=fn){if(e===fn){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ji=new nn("Set Injector scope."),to={},eo={},no=[];let ro;function io(){return void 0===ro&&(ro=new Zi),ro}function oo(t,e=null,n=null,r){return new so(t,n,e||io(),r)}class so{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(Xi,co(void 0,this));const o=this.records.get(Ji);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fn,n=j.Default){this.assertNotDestroyed();const r=bn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof nn)&&C(t);e=n&&this.injectableDefInScope(n)?co(ao(t),to):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?io():this.parent).get(t,e=n&j.Optional&&e===fn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(d(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[gn]&&i.unshift(e[gn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{bn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||no))}}this.injectorDefTypes.add(o);const a=vt(o)||(()=>new o);this.records.set(o,co(a,to));const u=r.providers;if(null!=u&&!s){const e=t;an(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ho(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return lo(t)?co(void 0,t.useValue):co(uo(t),to)}(t);if(ho(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=co(void 0,to,!0),e.factory=()=>_n(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===to&&(e.value=eo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ao(t){const e=C(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof nn)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function uo(t,e,n){let r;if(ho(t)){const e=m(t);return vt(e)||ao(e)}if(lo(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(..._n(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>wn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||ao(e);r=()=>new e(..._n(t.deps))}var i;return r}function co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lo(t){return null!==t&&"object"==typeof t&&mn in t}function ho(t){return"function"==typeof t}const fo=function(t,e,n){return function(t,e=null,n=null,r){const i=oo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let po=(()=>{class t{static create(t,e){return Array.isArray(t)?fo(t,e,""):fo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=fn,t.NULL=new Zi,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>wn(Xi)}),t.__NG_ELEMENT_ID__=-1,t})();function go(t,e){me(Lt(t)[1],Wt())}function mo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=yo(t.inputs),e.declaredInputs=yo(t.declaredInputs),e.outputs=yo(t.outputs);const n=i.hostBindings;n&&wo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&bo(t,o),s&&vo(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===mo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ie(i.hostAttrs,n=Ie(n,i.hostAttrs))}}(r)}function yo(t){return t===H?{}:t===G?[]:t}function bo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function vo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function wo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let _o=null;function Oo(){if(!_o){const t=B.Symbol;if(t&&t.iterator)_o=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_o=n)}}}return _o}class Eo{constructor(t){this.wrapped=t}static wrap(t){return new Eo(t)}static unwrap(t){return Eo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Eo}}function Co(t){return!!So(t)&&(Array.isArray(t)||!(t instanceof Map)&&Oo()in t)}function So(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function To(t,e,n){return t[e]=n}function Io(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function xo(t,e,n,r){const i=zt();return Io(i,te(),e)&&(Gt(),function(t,e,n,r,i,o){const s=Nt(t,e);!function(t,e,n,r,i,o,s){if(null==o)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?v(o):s(o,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ge(),i,t,e,n,r)),xo}function Ao(t,e,n,r){return Io(t,te(),n)?e+v(n)+r:ni}function ko(t,e,n,r,i,o,s,a){const u=zt(),c=Gt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=fi(e,t,4,s||null,Ft(c,a));Ti(e,n,l,Ft(c,u)),me(e,l);const h=l.tViews=Oi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Qt(h,!1);const d=u[11].createComment("");Lr(c,u,d,h),yr(d,u),Ui(u,u[l]=Li(d,u,d,h)),yt(h)&&vi(c,u,h),null!=s&&wi(u,h,a)}function jo(t){return Dt(Bt.lFrame.contextLView,ht+t)}function No(t,e=j.Default){const n=zt();return null===n?wn(t,e):Be(Wt(),n,m(t),e)}function Ro(t,e,n){const r=zt();return Io(r,te(),e)&&Si(Gt(),ge(),r,t,e,r[11],n,!1),Ro}function Do(t,e,n,r,i){const o=i?"class":"style";Qi(t,n,e.inputs[o],o,r)}function Po(t,e,n,r){const i=zt(),o=Gt(),s=ht+t,a=i[11],u=i[s]=Ir(a,e,Bt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=fi(e,t,2,i,Ft(a,o));return Ti(e,n,u,Ft(a,s)),null!==u.attrs&&Yi(u,u.attrs,!1),null!==u.mergedAttrs&&Yi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Ce(a,u,l);const h=c.classes;null!==h&&zr(a,u,h);const d=c.styles;null!==d&&Hr(a,u,d),64!=(64&c.flags)&&Lr(o,i,u,c),0===Bt.lFrame.elementDepthCount&&yr(u,i),Bt.lFrame.elementDepthCount++,yt(c)&&(vi(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&wi(i,c)}function Lo(){let t=Wt();Yt()?Bt.lFrame.isParent=!1:(t=t.parent,Qt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(me(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Do(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Do(n,e,zt(),e.stylesWithoutHost,!1)}function Mo(t,e,n,r){Po(t,e,n,r),Lo()}function Vo(){return zt()}function Fo(t){return!!t&&"function"==typeof t.then}function Uo(t){return!!t&&"function"==typeof t.subscribe}const qo=Uo;function Bo(t,e,n=!1,r){const i=zt(),o=Gt(),s=Wt();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&Wi(t),l=Ki(e);let h=!0;if(3&r.type){const d=Nt(r,e),f=a?a(d):H,p=f.target||d,g=l.length,m=a?t=>a(kt(t[r.index])).target:r.index;if(xt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=zo(r,e,0,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=zo(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=zo(r,e,0,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Bo}function Ho(t,e,n,r){try{return!1!==n(r)}catch(i){return $i(t,i),!1}}function zo(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&qi(s);let a=Ho(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Ho(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Go(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Ko(t,e,n){return Wo(t,"",e,"",n),Ko}function Wo(t,e,n,r,i){const o=zt(),s=Ao(o,e,n,r);return s!==ni&&Si(Gt(),ge(),o,t,s,o[11],i,!1),Wo}function $o(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?si(o):ui(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Qo(t[a],e)&&(u=!0,t[a+1]=r?li(n):ai(n)),a=r?si(n):ui(n)}u&&(t[n+1]=r?ai(o):li(o))}function Qo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dn(t,e)>=0}function Yo(t,e){return function(t,e,n,r){const i=zt(),o=Gt(),s=function(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[fe()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Zo(n=Xo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Xo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==ui(r))return t[si(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Xo(null,t,e,n[1],r),n=Zo(n,e.attrs,r),function(t,e,n,r){t[si(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Zo(r,t[o].hostAttrs,true);return Zo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=si(s),u=ui(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||dn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=si(t[a+1]);t[r+1]=oi(e,a),0!==e&&(t[e+1]=ci(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=oi(a,0),0!==a&&(t[a+1]=ci(t[a+1],r)),a=r;else t[r+1]=oi(u,0),0===a?a=r:t[u+1]=ci(t[u+1],r),u=r;l&&(t[r+1]=ai(t[r+1])),$o(t,c,r,!0),$o(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&dn(o,e)>=0&&(n[r+1]=li(n[r+1]))}(e,c,t,r),s=oi(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ni&&Io(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ts(1==(1&c)?Jo(u,e,n,i,ui(c),s):void 0)||(ts(o)||function(t){return 2==(2&t)}(c)&&(o=Jo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=xt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,jt(fe(),n),i,o))}(o,o.data[fe()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=d(Dn(t))),t}(e),true,s)}(t,e),Yo}function Xo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Zo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Zo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ln(t,s,!!n||e[++o]))}return void 0===t?null:t}function Jo(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ni&&(l=c?z:void 0);let h=c?hn(l,r):u===r?l:void 0;if(o&&!ts(h)&&(h=hn(e,r)),ts(h)&&(a=h,s))return a;const d=t[i+1];i=s?si(d):ui(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=hn(t,r))}return a}function ts(t){return void 0!==t}function es(t,e=""){const n=zt(),r=Gt(),i=t+ht,o=r.firstCreatePass?fi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Lr(r,n,s,o),Qt(o,!1)}function ns(t){return rs("",t,""),ns}function rs(t,e,n){const r=zt(),i=Ao(r,t,e,n);return i!==ni&&function(t,e,n){const r=jt(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,fe(),i),rs}function is(t,e,n){const r=zt();return Io(r,te(),e)&&Si(Gt(),ge(),r,t,e,r[11],n,!0),is}const os=void 0;var ss=["en",[["a","p"],["AM","PM"],os],[["AM","PM"],os,os],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],os,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],os,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",os,"{1} 'at' {0}",os],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let as={};function us(t,e,n){"string"!=typeof e&&(n=e,e=t[fs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),as[e]=t,n&&(as[e][fs.ExtraData]=n)}function cs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ds(e);if(n)return n;const r=e.split("-")[0];if(n=ds(r),n)return n;if("en"===r)return ss;throw new Error(`Missing locale data for the locale "${t}".`)}function ls(t){return cs(t)[fs.CurrencyCode]||null}function hs(t){return cs(t)[fs.PluralCase]}function ds(t){return t in as||(as[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),as[t]}var fs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ps="en-US";let gs=ps;function ms(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(gs=t.toLowerCase().replace(/_/g,"-"))}function ys(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)ys(t[o],e,n,r,i);else{const o=Gt(),s=zt();let a=ho(t)?t:m(t.provide),u=uo(t);const c=Wt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(ho(t)||!t.multi){const r=new Ee(u,i,No),f=ws(a,e,i?l:l+d,h);-1===f?(Fe(Pe(c,s),o,a),bs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=ws(a,e,l+d,h),p=ws(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Fe(Pe(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ee(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,vs(o,i,r&&!n),o}(i?Os:_s,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),bs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else bs(o,t,f>-1?f:p,vs(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function bs(t,e,n,r){const i=ho(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ws(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _s(t,e,n,r){return Es(this.multi,[])}function Os(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Es(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Es(i,o);return o}function Es(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Cs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=bt(t);ys(n,r.data,r.blueprint,i,!0),ys(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ss{}class Ts{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Is=(()=>{class t{}return t.NULL=new Ts,t})();function xs(...t){}function As(t,e){return new js(Nt(t,e))}const ks=function(){return As(Wt(),zt())};let js=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ks,t})();function Ns(t){return t instanceof js?t.nativeElement:t}class Rs{}let Ds=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ps(),t})();const Ps=function(){const t=zt(),e=Pt(Wt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let Ls=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class Ms{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Vs=new Ms("11.2.13");class Fs{constructor(){}supports(t){return Co(t)}create(t){return new qs(t)}}const Us=(t,e)=>e;class qs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Us}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Gs(n,r,i)?e:n,s=Gs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Co(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Oo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Bs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new zs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Bs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class zs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Hs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ks{constructor(){}supports(t){return t instanceof Map||So(t)}create(){return new Ws}}class Ws{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||So(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new $s(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class $s{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qs(){return new Ys([new Fs])}let Ys=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Qs()),deps:[[t,new Sn,new Cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:Qs}),t})();function Xs(){return new Zs([new Ks])}let Zs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Xs()),deps:[[t,new Sn,new Cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:Xs}),t})();function Js(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(kt(o)),pt(o))for(let t=dt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Js(e[1],e,n,r)}const s=n.type;if(8&s)Js(t,e,n.child,r);else if(32&s){const t=_r(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Vr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Or(e[16]);Js(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ta{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Js(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ar(t,n),cn(e,n))}this._attachedToViewContainer=!1}kr(this._lView[1],this._lView)}onDestroy(t){Ei(this._lView[1],this._lView,null,t)}markForCheck(){qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Zt(!0);try{Bi(t,e,n)}finally{Zt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ea extends ta{constructor(t){super(t),this._view=t}detectChanges(){Hi(this._view)}checkNoChanges(){!function(t){Zt(!0);try{Hi(t)}finally{Zt(!1)}}(this._view)}get context(){return null}}const na=ia;let ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=na,t.__ChangeDetectorRef__=!0,t})();function ia(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Pt(t.index,e);return new ta(n,n)}return 47&t.type?new ta(e[16],e):null}(Wt(),zt(),t)}const oa=[new Ks],sa=new Ys([new Fs]),aa=new Zs(oa),ua=function(){return da(Wt(),zt())};let ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=ua,t})();const la=ca,ha=class extends la{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=di(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),gi(e,n,t),new ta(n)}};function da(t,e){return 4&t.type?new ha(e,t,As(t,e)):null}class fa{}class pa{}const ga=function(){return _a(Wt(),zt())};let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=ga,t})();const ya=ma,ba=class extends ya{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new Ye(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(Ae(t)){const e=je(t,this._hostLView),n=ke(t);return new Ye(e[1].data[n+8],e)}return new Ye(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=va(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(fa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ba(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=dt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-dt?(e[4]=n[i],un(n,dt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Fr(i,o),a=n[11],u=Pr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,qr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),un(wa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=va(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);n&&(cn(wa(this._lContainer),e),kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);return n&&null!=cn(wa(this._lContainer),e)?new ta(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function va(t){return t[8]}function wa(t){return t[8]||(t[8]=[])}function _a(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Nr(n,Pr(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Li(r,e,i,t),Ui(e,n)}return new ba(n,t,e)}const Oa={};class Ea extends Is{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ta(e,this.ngModule)}}function Ca(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Sa=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>br});class Ta extends Ss{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ei).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ca(this.componentDef.inputs)}get outputs(){return Ca(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Oa,i);return o!==Oa||r===Oa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Rs,At),s=i.get(Ls,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ir(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:br,clean:Gi,playerHandler:null,flags:0},d=Oi(0,null,null,1,0,null,null,null,null,null),f=di(null,d,h,l,null,null,o,a,s,i);let p,g;ae(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=fi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Yi(a,u,!0),null!==t&&(Ce(i,t,u),null!==a.classes&&zr(i,t,a.classes),null!==a.styles&&Hr(i,t,a.styles)));const c=r.createRenderer(t,e),l=di(n,_i(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Fe(Pe(a,n),s,e.type),Ai(s,a),ji(a,n.length,1)),Ui(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)Ce(a,c,["ng-version",Vs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Xr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ce(a,c,t),e&&e.length>0&&zr(a,c,e.join(" "))}if(g=Rt(d,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ni(t,r,e,pi(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);yr(i,e);const o=Nt(r,e);return o&&yr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Wt();e.contentQueries(1,s,t.directiveStart)}const a=Wt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(a.index),Ii(n[1],a,0,a.directiveStart,a.directiveEnd,e),xi(e,s)),s}(t,this.componentDef,f,h,[go]),gi(d,f,null)}finally{de()}return new Ia(this.componentType,p,As(g,f),f,g)}}class Ia extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ea(r),this.componentType=t}get injector(){return new Ye(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const xa=new Map;class Aa extends fa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ea(this);const n=lt(t),r=t[Y]||null;r&&ms(r),this._bootstrapComponents=vr(n.bootstrap),this._r3Injector=oo(t,e,[{provide:fa,useValue:this},{provide:Is,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=po.THROW_IF_NOT_FOUND,n=j.Default){return t===po||t===fa||t===Xi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ka extends pa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,xa.get(i),n),xa.set(i,n));const o=vr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Aa(this.moduleType,t)}}function ja(t,e){const n=t[e];return n===ni?void 0:n}function Na(t,e){const n=Gt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new b("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=vt(r.type)),s=R(No);try{const t=Re(!1),e=o();return Re(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,zt(),i,e),e}finally{R(s)}}function Ra(t,e,n){const r=t+ht,i=zt(),o=Dt(i,r);return La(i,Pa(i,r)?function(t,e,n,r,i,o){const s=e+n;return Io(t,s,i)?To(t,s+1,o?r.call(o,i):r(i)):ja(t,s+1)}(i,Jt(),e,o.transform,n,o):o.transform(n))}function Da(t,e,n,r,i){const o=t+ht,s=zt(),a=Dt(s,o);return La(s,Pa(s,o)?function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=function(t,e,n,r){const i=Io(t,e,n);return Io(t,e+1,r)||i}(t,e,n,r);return Io(t,e+2,i)||o}(t,u,i,o,s)?To(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):ja(t,u+3)}(s,Jt(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function Pa(t,e){return t[1].data[e].pure}function La(t,e){return Eo.isWrapped(e)&&(e=Eo.unwrap(e),t[Bt.lFrame.bindingIndex]=ni),e}function Ma(t){return e=>{setTimeout(t,void 0,e)}}const Va=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=Ma(u),a&&(a=Ma(a)),c&&(c=Ma(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Fa(){return this._results[Oo()]()}class Ua{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Oo(),n=Ua.prototype;n[e]||(n[e]=Fa)}get changes(){return this._changes||(this._changes=new Va)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=sn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class qa{constructor(t){this.queryList=t,this.matches=null}clone(){return new qa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ba{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ba(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ja(t,e).matches&&this.queries[e].setDirty()}}class Ha{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class za{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new za(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ga{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ga(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ka(e,i)),this.matchTNodeWithReadOption(t,e,Ke(e,t,i,!1,!1))}else n===ca?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ke(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===js||r===ma||r===ca&&4&e.type)this.addMatch(e.index,-2);else{const n=Ke(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ka(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Wa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?As(t,e):4&t.type?da(t,e):null}(e,t):-2===n?function(t,e,n){return n===js?As(e,t):n===ca?da(e,t):n===ma?_a(e,t):void 0}(t,e,r):We(t,t[1],n,e)}function $a(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Wa(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Qa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=$a(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=dt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Qa(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Qa(n[1],n,i,r)}}}}}return r}function Ya(t){const e=zt(),n=Gt(),r=re();ie(r+1);const i=Ja(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Qa(n,e,r,[]):$a(n,e,i,r);t.reset(o,Ns),t.notifyOnChanges()}return!0}return!1}function Xa(t,e,n,r){const i=Gt();if(i.firstCreatePass){const o=Wt();(function(t,e,n){null===t.queries&&(t.queries=new za),t.queries.track(new Ga(e,n))})(i,new Ha(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Ua(4==(4&n));Ei(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ba),e[19].queries.push(new qa(r))}(i,zt(),n)}function Za(){return t=zt(),e=re(),t[19].queries[e].queryList;var t,e}function Ja(t,e){return t.queries.getByIndex(e)}function tu(t,e){return da(t,e)}function eu(t=j.Default){const e=ia(!0);if(null!=e||t&j.Optional)return e;_("ChangeDetectorRef")}const nu=new nn("Application Initializer");let ru=(()=>{class t{constructor(t){this.appInits=t,this.resolve=xs,this.reject=xs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Fo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(wn(nu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const iu=new nn("AppId"),ou={provide:iu,useFactory:function(){return`${su()}${su()}${su()}`},deps:[]};function su(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const au=new nn("Platform Initializer"),uu=new nn("Platform ID"),cu=new nn("appBootstrapListener");let lu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const hu=new nn("LocaleId"),du=new nn("DefaultCurrencyCode");class fu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const pu=function(t){return new ka(t)},gu=pu,mu=function(t){return Promise.resolve(pu(t))},yu=function(t){const e=pu(t),n=vr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ta(n)),t},[]);return new fu(e,n)},bu=yu,vu=function(t){return Promise.resolve(yu(t))};let wu=(()=>{class t{constructor(){this.compileModuleSync=gu,this.compileModuleAsync=mu,this.compileModuleAndAllComponentsSync=bu,this.compileModuleAndAllComponentsAsync=vu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const _u=(()=>Promise.resolve(0))();function Ou(t){"undefined"==typeof Zone?_u.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Eu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Va(!1),this.onMicrotaskEmpty=new Va(!1),this.onStable=new Va(!1),this.onError=new Va(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tu(t),Su(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Iu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),xu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Iu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),xu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Tu(t),Su(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Eu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Cu,xs,xs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Cu={};function Su(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Iu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xu(t){t._nesting--,Su(t)}class Au{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Va,this.onMicrotaskEmpty=new Va,this.onStable=new Va,this.onError=new Va}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ku=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eu.assertNotInAngularZone(),Ou(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ou(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(wn(Eu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),ju=(()=>{class t{constructor(){this._applications=new Map,Pu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Pu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Nu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ru(t){Pu=t}let Du,Pu=new Nu,Lu=!0,Mu=!1;function Vu(){return Mu=!0,Lu}function Fu(){if(Mu)throw new Error("Cannot enable prod mode after platform setup.");Lu=!1}const Uu=new nn("AllowMultipleToken");class qu{constructor(t,e){this.name=t,this.token=e}}function Bu(t,e,n=[]){const r=`Platform: ${e}`,i=new nn(r);return(e=[])=>{let o=Hu();if(!o||o.injector.get(Uu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ji,useValue:"platform"});!function(t){if(Du&&!Du.destroyed&&!Du.injector.get(Uu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Du=t.get(zu);const e=t.get(au,null);e&&e.forEach(t=>t())}(po.create({providers:t,name:r}))}return function(t){const e=Hu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Hu(){return Du&&!Du.destroyed?Du:null}let zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Au:("zone.js"===t?void 0:t)||new Eu({enableLongStackTrace:Vu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Eu,useValue:n}];return n.run(()=>{const e=po.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(mr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Wu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Fo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ru);return t.runInitializers(),t.donePromise.then(()=>(ms(i.injector.get(hu,ps)||ps),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Gu({},e);return function(t,e,n){const r=new ka(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ku);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(wn(po))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Gu(t,e){return Array.isArray(e)?e.reduce(Gu,t):Object.assign(Object.assign({},t),e)}let Ku=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Eu.assertNotInAngularZone(),Ou(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Eu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ss?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(fa),i=n.create(po.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(ku,null),a=s&&i.injector.get(ju);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Wu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Wu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(wn(Eu),wn(po),wn(mr),wn(Is),wn(ru))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Wu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $u{}class Qu{}const Yu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Xu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Yu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Zu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Zu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(wn(wu),wn(Qu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Zu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ju=function(t){return null},tc=Bu(null,"core",[{provide:uu,useValue:"unknown"},{provide:zu,deps:[po]},{provide:ju,deps:[]},{provide:lu,deps:[]}]),ec=[{provide:Ku,useClass:Ku,deps:[Eu,po,mr,Is,ru]},{provide:Sa,deps:[Eu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ru,useClass:ru,deps:[[new Cn,nu]]},{provide:wu,useClass:wu,deps:[]},ou,{provide:Ys,useFactory:function(){return sa},deps:[]},{provide:Zs,useFactory:function(){return aa},deps:[]},{provide:hu,useFactory:function(t){return ms(t=t||"undefined"!=typeof $localize&&$localize.locale||ps),t},deps:[[new En(hu),new Cn,new Sn]]},{provide:du,useValue:"USD"}];let nc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(wn(Ku))},t.\u0275mod=it({type:t}),t.\u0275inj=E({providers:ec}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return E}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return T}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return g}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new b(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function T(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[b,u.A,[new u.B,v]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Rb(u.C))},t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.21",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Rb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=Object(r.Gb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Rb)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Rb)(s).location;return new v(Object(r.Rb)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(m),r.Rb(a))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Gb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new _(Object(r.Rb)(m),Object(r.Rb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.mb;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.v))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new j(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L),r.Kb(r.t))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}function P(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(t)}'`)}class L{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class M{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const V=new M,F=new L;let U=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.rb)(e))return V;if(Object(r.sb)(e))return F;throw P(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb())},t.\u0275pipe=r.Jb({name:"async",type:t,pure:!1}),t})(),q=(()=>{class t{transform(e,n,r){if(null==e)return null;if(!this.supports(e))throw P(t,e);return e.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Jb({name:"slice",type:t,pure:!1}),t})(),B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({providers:[{provide:T,useClass:I}]}),t})();function H(t){return"server"===t}let z=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new G(Object(r.Rb)(s),window)}),t})();class G{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=K(this.window.history)||K(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function K(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class W extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new W,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Q||(Q=document.querySelector("base"),Q)?Q.getAttribute("href"):null;return null==e?null:(n=e,$||($=document.createElement("a")),$.setAttribute("href",n),"/"===$.pathname.charAt(0)?$.pathname:"/"+$.pathname);var n}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return x(document.cookie,t)}}let $,Q=null;const Y=new r.r("TRANSITION_ID"),X=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Y,s,r.s],multi:!0}];class Z{static init(){Object(r.X)(new Z)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const J=new r.r("EventManagerPlugins");let tt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(J),r.Rb(r.A))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class et{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let nt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),rt=(()=>{class t extends nt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const it={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ot=/%COMP%/g;function st(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?st(t,i,n):(i=i.replace(ot,t),n.push(i))}return n}function at(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ut=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ct(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new lt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ht(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=st(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(tt),r.Rb(rt),r.Rb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class ct{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(it[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=it[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=it[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,at(n)):this.eventManager.addEventListener(t,e,at(n))}}class lt extends ct{constructor(t,e,n,r){super(t),this.component=n;const i=st(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ot,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ot,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ht extends ct{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=st(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let dt=(()=>{class t extends et{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ft=["alt","control","meta","shift"],pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yt=(()=>{class t extends et{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ft.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&gt.hasOwnProperty(e)&&(e=gt[e]))}return pt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ft.forEach(r=>{r!=n&&(0,mt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const bt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){W.makeCurrent(),Z.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],vt=Object(r.S)(r.W,"browser",bt),wt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:J,useClass:dt,multi:!0,deps:[s,r.A,r.C]},{provide:J,useClass:yt,multi:!0,deps:[s]},[],{provide:ut,useClass:ut,deps:[tt,rt,r.c]},{provide:r.F,useExisting:ut},{provide:nt,useExisting:rt},{provide:rt,useClass:rt,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:tt,useClass:tt,deps:[J,r.A]},[]];let _t=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Y,useExisting:r.c},X]}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(t,12))},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({providers:wt,imports:[B,r.f]}),t})();"undefined"!=typeof window&&window;var Ot=n("Cfvw"),Et=n("HDdC"),Ct=n("DH7j"),St=n("lJxs"),Tt=n("XoHu");function It(t,e){return new Et.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Ot.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class xt{}const At=new r.r("NgValueAccessor"),kt={provide:At,useExisting:Object(r.U)(()=>jt),multi:!0};let jt=(()=>{class t extends xt{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([kt]),r.xb]}),t})();const Nt={provide:At,useExisting:Object(r.U)(()=>Dt),multi:!0},Rt=new r.r("CompositionEventMode");let Dt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(Rt,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([Nt])]}),t})();function Pt(t){return null==t||0===t.length}function Lt(t){return null!=t&&"number"==typeof t.length}const Mt=new r.r("NgValidators"),Vt=new r.r("NgAsyncValidators"),Ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ut{static min(t){return function(t){return e=>{if(Pt(e.value)||Pt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Pt(e.value)||Pt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return Pt(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Pt(t.value)||Ft.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Pt(e.value)||!Lt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Lt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return qt;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Pt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Wt(t)}static composeAsync(t){return Qt(t)}}function qt(t){return null}function Bt(t){return null!=t}function Ht(t){const e=Object(r.rb)(t)?Object(Ot.a)(t):t;return Object(r.qb)(e),e}function zt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Gt(t,e){return e.map(e=>e(t))}function Kt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Wt(t){if(!t)return null;const e=t.filter(Bt);return 0==e.length?null:function(t){return zt(Gt(t,e))}}function $t(t){return null!=t?Wt(Kt(t)):null}function Qt(t){if(!t)return null;const e=t.filter(Bt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Ct.a)(e))return It(e,null);if(Object(Tt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return It(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return It(t=1===t.length&&Object(Ct.a)(t[0])?t[0]:t,null).pipe(Object(St.a)(t=>e(...t)))}return It(t,null)}(Gt(t,e).map(Ht)).pipe(Object(St.a)(zt))}}function Yt(t){return null!=t?Qt(Kt(t)):null}function Xt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Zt(t){return t._rawValidators}function Jt(t){return t._rawAsyncValidators}let te=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$t(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),ee=(()=>{class t extends te{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ne(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const ne=r.Pb(ee);class re extends te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ie{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let oe=(()=>{class t extends ie{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(re,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})(),se=(()=>{class t extends ie{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ee,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();function ae(t,e){le(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&de(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&de(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ue(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),he(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ce(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function le(t,e,n){const r=Zt(t);null!==e.validator?t.setValidators(Xt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Jt(t);if(null!==e.asyncValidator?t.setAsyncValidators(Xt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ce(e._rawValidators,n),ce(e._rawAsyncValidators,n)}}function he(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Zt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Jt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};ce(e._rawValidators,t),ce(e._rawAsyncValidators,t)}return r}function de(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function fe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pe="VALID",ge="INVALID",me="PENDING",ye="DISABLED";function be(t){return(Oe(t)?t.validators:t)||null}function ve(t){return Array.isArray(t)?$t(t):t||null}function we(t,e){return(Oe(e)?e.asyncValidators:t)||null}function _e(t){return Array.isArray(t)?Yt(t):t||null}function Oe(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ee{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ve(this._rawValidators),this._composedAsyncValidatorFn=_e(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===pe}get invalid(){return this.status===ge}get pending(){return this.status==me}get disabled(){return this.status===ye}get enabled(){return this.status!==ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ve(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=_e(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=me,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ye,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=pe,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==pe&&this.status!==me||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ye:pe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=me,this._hasOwnPendingAsyncValidator=!0;const e=Ht(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Se?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Te&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?ye:this.errors?ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(me)?me:this._anyControlsHaveStatus(ge)?ge:pe}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Oe(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ce extends Ee{constructor(t=null,e,n){super(be(e),we(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fe(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fe(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Se extends Ee{constructor(t,e,n){super(be(e),we(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ce?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Te extends Ee{constructor(t,e,n){super(be(e),we(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ce?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Ie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const xe={provide:At,useExisting:Object(r.U)(()=>Ae),multi:!0};let Ae=(()=>{class t extends xt{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([xe]),r.xb]}),t})(),ke=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({}),t})();const je=new r.r("NgModelWithFormControlWarning"),Ne={provide:ee,useExisting:Object(r.U)(()=>Re)};let Re=(()=>{class t extends ee{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(he(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ae(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ue(t.control||null,t,!1),fe(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(ue(e||null,t),n instanceof Ce&&(ae(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){le(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return he(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){le(this.form,this,!1),this._oldForm&&he(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Mt,10),r.Kb(Vt,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Ub("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([Ne]),r.xb,r.yb]}),t})();const De={provide:re,useExisting:Object(r.U)(()=>Pe)};let Pe=(()=>{class t extends re{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Dt?n=t:Object.getPrototypeOf(t.constructor)===xt?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ee,13),r.Kb(Mt,10),r.Kb(Vt,10),r.Kb(At,10),r.Kb(je,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([De]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})(),Le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({imports:[[ke]]}),t})(),Me=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({imports:[Le]}),t})(),Ve=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:je,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({imports:[Le]}),t})(),Fe=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new Se(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new Ce(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Te(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ce||t instanceof Se||t instanceof Te?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:Ve}),t})();var Ue=n("LRne"),qe=n("5+tZ");function Be(t,e){return Object(qe.a)(t,e,1)}var He=n("7o/Q");function ze(t,e){return function(n){return n.lift(new Ge(t,e))}}class Ge{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ke(t,this.predicate,this.thisArg))}}class Ke extends He.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class We{}class $e{}class Qe{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Qe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Qe;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Qe?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ye{encodeKey(t){return Xe(t)}encodeValue(t){return Xe(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Xe(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ze{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ye,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ze({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Je(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function tn(t){return"undefined"!=typeof Blob&&t instanceof Blob}function en(t){return"undefined"!=typeof FormData&&t instanceof FormData}class nn{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Qe),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ze,this.urlWithParams=e}serializeBody(){return null===this.body?null:Je(this.body)||tn(this.body)||en(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||en(this.body)?null:tn(this.body)?this.body.type||null:Je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new nn(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var rn=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class on{constructor(t,e=200,n="OK"){this.headers=t.headers||new Qe,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class sn extends on{constructor(t={}){super(t),this.type=rn.ResponseHeader}clone(t={}){return new sn({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class an extends on{constructor(t={}){super(t),this.type=rn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new an({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class un extends on{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function cn(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ln=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof nn)r=t;else{let i,o;i=n.headers instanceof Qe?n.headers:new Qe(n.headers),n.params&&(o=n.params instanceof Ze?n.params:new Ze({fromObject:n.params})),r=new nn(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ue.a)(r).pipe(Be(t=>this.handler.handle(t)));if(t instanceof nn||"events"===n.observe)return i;const o=i.pipe(ze(t=>t instanceof an));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(St.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(St.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(St.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(St.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ze).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,cn(n,e))}post(t,e,n={}){return this.request("POST",t,cn(n,e))}put(t,e,n={}){return this.request("PUT",t,cn(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(We))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class hn{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const dn=new r.r("HTTP_INTERCEPTORS");let fn=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const pn=/^\)\]\}',?\n/;class gn{}let mn=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),yn=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Et.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Qe(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new sn({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(pn,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new an({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new un({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new un({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:rn.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:rn.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:rn.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(gn))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const bn=new r.r("XSRF_COOKIE_NAME"),vn=new r.r("XSRF_HEADER_NAME");class wn{}let _n=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s),r.Rb(r.C),r.Rb(bn))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),On=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(wn),r.Rb(vn))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),En=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(dn,[]);this.chain=t.reduceRight((t,e)=>new hn(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($e),r.Rb(r.s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Cn=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:On,useClass:fn}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:bn,useValue:e.cookieName}:[],e.headerName?{provide:vn,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({providers:[On,{provide:dn,useExisting:On,multi:!0},{provide:wn,useClass:_n},{provide:bn,useValue:"XSRF-TOKEN"},{provide:vn,useValue:"X-XSRF-TOKEN"}]}),t})(),Sn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({providers:[ln,{provide:We,useClass:En},yn,{provide:$e,useExisting:yn},mn,{provide:gn,useExisting:mn}],imports:[[Cn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Tn=n("XNiG"),In=n("9ppp");class xn extends Tn.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new In.a;return this._value}next(t){super.next(this._value=t)}}var An=n("z+Ro");class kn extends He.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class jn extends He.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Nn=n("SeVD");function Rn(t,e,n,r,i=new jn(t,n,r)){if(!i.closed)return e instanceof Et.a?e.subscribe(i):Object(Nn.a)(e)(i)}var Dn=n("yCtX");const Pn={};class Ln{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Mn(t,this.resultSelector))}}class Mn extends kn{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Rn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Pn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Vn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Fn=n("bHdf");function Un(...t){return Object(Fn.a)(1)(Object(Ue.a)(...t))}var qn=n("EY2u");function Bn(t){return new Et.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ot.a)(n):Object(qn.b)()).subscribe(e)})}var Hn=n("EQ5u"),zn=n("zx2A");function Gn(t,e){return"function"==typeof e?n=>n.pipe(Gn((n,r)=>Object(Ot.a)(t(n,r)).pipe(Object(St.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Kn(t))}class Kn{constructor(t){this.project=t}call(t,e){return e.subscribe(new Wn(t,this.project))}}class Wn extends zn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new zn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(zn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const $n=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Qn(t){return e=>0===t?Object(qn.b)():e.lift(new Yn(t))}class Yn{constructor(t){if(this.total=t,this.total<0)throw new $n}call(t,e){return e.subscribe(new Xn(t,this.total))}}class Xn extends He.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Zn(...t){const e=t[t.length-1];return Object(An.a)(e)?(t.pop(),n=>Un(t,n,e)):e=>Un(t,e)}function Jn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new tr(t,e,n))}}class tr{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new er(t,this.accumulator,this.seed,this.hasSeed))}}class er extends He.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function nr(t){return function(e){const n=new rr(t),r=e.lift(n);return n.caught=r}}class rr{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ir(t,this.selector,this.caught))}}class ir extends zn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new zn.a(this);this.add(r);const i=Object(zn.c)(n,r);i!==r&&this.add(i)}}}function or(t){return function(e){return 0===t?Object(qn.b)():e.lift(new sr(t))}}class sr{constructor(t){if(this.total=t,this.total<0)throw new $n}call(t,e){return e.subscribe(new ar(t,this.total))}}class ar extends He.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ur(t=hr){return e=>e.lift(new cr(t))}class cr{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new lr(t,this.errorFactory))}}class lr extends He.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Uw){t=Uw}this.destination.error(t)}}}function hr(){return new Vn}function dr(t=null){return e=>e.lift(new fr(t))}class fr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new pr(t,this.defaultValue))}}class pr extends He.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var gr=n("SpAZ");function mr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ze((e,n)=>t(e,n,r)):gr.a,Qn(1),n?dr(e):ur(()=>new Vn))}var yr=n("vkgz"),br=n("x+ZX"),vr=n("quSY");class wr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new _r(t,this.callback))}}class _r extends He.a{constructor(t,e){super(t),this.add(new vr.a(e))}}class Or{constructor(t,e){this.id=t,this.url=e}}class Er extends Or{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cr extends Or{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sr extends Or{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tr extends Or{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ir extends Or{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends Or{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar extends Or{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kr extends Or{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends Or{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Fr="primary";class Ur{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qr(t){return new Ur(t)}function Br(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Hr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Gr(t[i],e[i]))return!1;return!0}function Gr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Kr(t){return Array.prototype.concat.apply([],t)}function Wr(t){return t.length>0?t[t.length-1]:null}function $r(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Qr(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Ot.a)(Promise.resolve(t)):Object(Ue.a)(t)}function Yr(t,e,n){return n?function(t,e){return zr(t,e)}(t.queryParams,e.queryParams)&&Xr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Gr(t[n],e[n]))}(t.queryParams,e.queryParams)&&Zr(t.root,e.root)}function Xr(t,e){if(!ri(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Xr(t.children[n],e.children[n]))return!1}return!0}function Zr(t,e){return Jr(t,e,e.segments)}function Jr(t,e,n){if(t.segments.length>n.length)return!!ri(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!ri(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Zr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!ri(t.segments,r)&&!!t.children.primary&&Jr(t.children.primary,e,i)}}class ti{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qr(this.queryParams)),this._queryParamMap}toString(){return si.serialize(this)}}class ei{constructor(t,e){this.segments=t,this.children=e,this.parent=null,$r(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ai(this)}}class ni{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qr(this.parameters)),this._parameterMap}toString(){return pi(this)}}function ri(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class ii{}class oi{parse(t){const e=new vi(t);return new ti(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${ui(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${li(e)}=${li(t)}`).join("&"):`${li(e)}=${li(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const si=new oi;function ai(t){return t.segments.map(t=>pi(t)).join("/")}function ui(t,e){if(!t.hasChildren())return ai(t);if(e){const e=t.children.primary?ui(t.children.primary,!1):"",n=[];return $r(t.children,(t,e)=>{e!==Fr&&n.push(`${e}:${ui(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return $r(t.children,(t,r)=>{r===Fr&&(n=n.concat(e(t,r)))}),$r(t.children,(t,r)=>{r!==Fr&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Fr?[ui(t.children.primary,!1)]:[`${n}:${ui(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ai(t)}/${e[0]}`:`${ai(t)}/(${e.join("//")})`}}function ci(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function li(t){return ci(t).replace(/%3B/gi,";")}function hi(t){return ci(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function di(t){return decodeURIComponent(t)}function fi(t){return di(t.replace(/\+/g,"%20"))}function pi(t){return`${hi(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${hi(t)}=${hi(e[t])}`).join("")}`;var e}const gi=/^[^\/()?;=#]+/;function mi(t){const e=t.match(gi);return e?e[0]:""}const yi=/^[^=?&#]+/,bi=/^[^?&#]+/;class vi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ei([],{}):new ei([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new ei(t,e)),n}parseSegment(){const t=mi(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ni(di(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=mi(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=mi(this.remaining);t&&(n=t,this.capture(n))}t[di(e)]=di(n)}parseQueryParam(t){const e=function(t){const e=t.match(yi);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(bi);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=fi(e),i=fi(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=mi(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Fr);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new ei([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class wi{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=_i(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=_i(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Oi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Oi(t,this._root).map(t=>t.value)}}function _i(t,e){if(t===e.value)return e;for(const n of e.children){const e=_i(t,n);if(e)return e}return null}function Oi(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Oi(t,n);if(r.length)return r.unshift(e),r}return[]}class Ei{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ci(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Si extends wi{constructor(t,e){super(t),this.snapshot=e,ji(this,t)}toString(){return this.snapshot.toString()}}function Ti(t,e){const n=function(t,e){const n=new Ai([],{},{},"",{},Fr,e,null,t.root,-1,{});return new ki("",new Ei(n,[]))}(t,e),r=new xn([new ni("",{})]),i=new xn({}),o=new xn({}),s=new xn({}),a=new xn(""),u=new Ii(r,i,s,a,o,Fr,e,n.root);return u.snapshot=n.root,new Si(new Ei(u,[]),n)}class Ii{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(St.a)(t=>qr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(St.a)(t=>qr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xi(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ai{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ki extends wi{constructor(t,e){super(e),this.url=t,ji(this,e)}toString(){return Ni(this._root)}}function ji(t,e){e.value._routerState=t,e.children.forEach(e=>ji(t,e))}function Ni(t){const e=t.children.length>0?` { ${t.children.map(Ni).join(", ")} } `:"";return`${t.value}${e}`}function Ri(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),zr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),zr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Di(t,e){return zr(t.params,e.params)&&function(t,e){return ri(t,e)&&t.every((t,n)=>zr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Di(t.parent,e.parent))}function Pi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Pi(t,e,r);return Pi(t,e)})}(t,e,n);return new Ei(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Li(e,t),t}}const n=new Ii(new xn((r=e.value).url),new xn(r.params),new xn(r.queryParams),new xn(r.fragment),new xn(r.data),r.outlet,r.component,r),i=e.children.map(e=>Pi(t,e));return new Ei(n,i)}var r}function Li(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Li(t.children[n],e.children[n])}function Mi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vi(t){return"object"==typeof t&&null!=t&&t.outlets}function Fi(t,e,n,r,i){let o={};return r&&$r(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ti(n.root===t?e:Ui(n.root,t,e),o,i)}function Ui(t,e,n){const r={};return $r(t.children,(t,i)=>{r[i]=t===e?n:Ui(t,e,n)}),new ei(t.segments,r)}class qi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Mi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Vi);if(r&&r!==Wr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Hi(t,e,n){if(t||(t=new ei([],{})),0===t.segments.length&&t.hasChildren())return zi(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Vi(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!$i(a,u,e))return o;r+=2}else{if(!$i(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new ei(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new ei(t.segments.slice(r.pathIndex),t.children),zi(e,0,i)}return r.match&&0===i.length?new ei(t.segments,{}):r.match&&!t.hasChildren()?Gi(t,e,n):r.match?zi(t,0,i):Gi(t,e,n)}function zi(t,e,n){if(0===n.length)return new ei(t.segments,{});{const r=function(t){return Vi(t[0])?t[0].outlets:{[Fr]:t}}(n),i={};return $r(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Hi(t.children[r],e,n))}),$r(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new ei(t.segments,i)}}function Gi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Vi(o)){const t=Ki(o.outlets);return new ei(r,t)}if(0===i&&Mi(n[0])){r.push(new ni(t.segments[e].path,Wi(n[0]))),i++;continue}const s=Vi(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Mi(a)?(r.push(new ni(s,Wi(a))),i+=2):(r.push(new ni(s,{})),i++)}return new ei(r,{})}function Ki(t){const e={};return $r(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Gi(new ei([],{}),0,t))}),e}function Wi(t){const e={};return $r(t,(t,n)=>e[n]=`${t}`),e}function $i(t,e,n){return t==n.path&&zr(e,n.parameters)}class Qi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ri(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ci(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),$r(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Ci(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Ci(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Mr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Pr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ri(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Yi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Yi(t){Ri(t.value),t.children.forEach(Yi)}class Xi{constructor(t,e){this.routes=t,this.module=e}}function Zi(t){return"function"==typeof t}function Ji(t){return t instanceof ti}const to=Symbol("INITIAL_VALUE");function eo(){return Gn(t=>function(...t){let e,n;return Object(An.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ct.a)(t[0])&&(t=t[0]),Object(Dn.a)(t,n).lift(new Ln(e))}(t.map(t=>t.pipe(Qn(1),Zn(to)))).pipe(Jn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==to)return t;if(r===to&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ji(r))return r}return t},t)},to),ze(t=>t!==to),Object(St.a)(t=>Ji(t)?t:!0===t),Qn(1)))}let no=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[Xo]},encapsulation:2}),t})();function ro(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];io(r,oo(e,r))}}function io(t,e){t.children&&ro(t.children,e)}function oo(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function so(t){const e=t.children&&t.children.map(so),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Fr&&(n.component=no),n}function ao(t){return t.outlet||Fr}function uo(t,e){const n=t.filter(t=>ao(t)===e);return n.push(...t.filter(t=>ao(t)!==e)),n}const co={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function lo(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},co):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Hr)(n,t,e);if(!i)return Object.assign({},co);const o={};$r(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ho(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>fo(t,e,n)&&ao(n)!==Fr)}(t,n,r)){const i=new ei(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&ao(o)!==Fr){const n=new ei([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ao(o)]=n}return i}(t,e,r,new ei(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>fo(t,e,n))}(t,n,r)){const o=new ei(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(fo(t,n,a)&&!i[ao(a)]){const n=new ei([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ao(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new ei(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function fo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function po(t,e,n,r){return!!(ao(t)===r||r!==Fr&&fo(e,n,t))&&("**"===t.path||lo(e,t,n).matched)}function go(t,e,n){return 0===e.length&&!t.children[n]}class mo{constructor(t){this.segmentGroup=t||null}}class yo{constructor(t){this.urlTree=t}}function bo(t){return new Et.a(e=>e.error(new mo(t)))}function vo(t){return new Et.a(e=>e.error(new yo(t)))}function wo(t){return new Et.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class _o{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=ho(this.urlTree.root,[],[],this.config).segmentGroup,e=new ei(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Fr).pipe(Object(St.a)(t=>this.createUrlTree(Oo(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nr(t=>{if(t instanceof yo)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof mo)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Fr).pipe(Object(St.a)(e=>this.createUrlTree(Oo(e),t.queryParams,t.fragment))).pipe(nr(t=>{if(t instanceof mo)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new ei([],{[Fr]:t}):t;return new ti(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(St.a)(t=>new ei([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Ot.a)(r).pipe(Be(r=>{const i=n.children[r],o=uo(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(St.a)(t=>({segment:t,outlet:r})))}),Jn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ze((e,n)=>t(e,n,r)):gr.a,or(1),n?dr(e):ur(()=>new Vn))}())}expandSegment(t,e,n,r,i,o){return Object(Ot.a)(n).pipe(Be(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(nr(t=>{if(t instanceof mo)return Object(Ue.a)(null);throw t}))),mr(t=>!!t),nr((t,n)=>{if(t instanceof Vn||"EmptyError"===t.name){if(go(e,r,i))return Object(Ue.a)(new ei([],{}));throw new mo(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return po(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):bo(e):bo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?vo(i):this.lineralizeSegments(n,i).pipe(Object(qe.a)(n=>{const i=new ei(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=lo(e,r,i);if(!s)return bo(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?vo(l):this.lineralizeSegments(r,l).pipe(Object(qe.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Ue.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(St.a)(t=>(n._loadedConfig=t,new ei(r,{})))):Object(Ue.a)(new ei(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=lo(e,n,r);if(!o)return bo(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(qe.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=ho(e,s,u,o),l=new ei(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(St.a)(t=>new ei(s,t)));if(0===o.length&&0===c.length)return Object(Ue.a)(new ei(s,{}));const h=ao(n)===i;return this.expandSegment(r,l,o,c,h?Fr:i,!0).pipe(Object(St.a)(t=>new ei(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ue.a)(new Xi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ue.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(qe.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(St.a)(t=>(e._loadedConfig=t,t))):function(t){return new Et.a(e=>e.error(Br(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ue.a)(new Xi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ue.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Zi(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Zi(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Qr(o)});return Object(Ue.a)(i).pipe(eo(),Object(yr.a)(t=>{if(!Ji(t))return;const e=Br(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(St.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ue.a)(n);if(r.numberOfChildren>1||!r.children.primary)return wo(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ti(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return $r(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return $r(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new ei(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Oo(t){const e={};for(const n of Object.keys(t.children)){const r=Oo(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new ei(t.segments.concat(e.segments),e.children)}return t}(new ei(t.segments,e))}class Eo{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Co{constructor(t,e){this.component=t,this.route=e}}function So(t,e,n){const r=t._root;return Io(r,e?e._root:null,n,[r.value])}function To(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Io(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ci(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ri(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ri(t.url,e.url)||!zr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Di(t,e)||!zr(t.queryParams,e.queryParams);case"paramsChange":default:return!Di(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Eo(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Io(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Co(a.outlet.component,s))}else s&&xo(e,a,i),i.canActivateChecks.push(new Eo(r)),Io(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),$r(o,(t,e)=>xo(t,n.getContext(e),i)),i}function xo(t,e,n){const r=Ci(t),i=t.value;$r(r,(t,r)=>{xo(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Co(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ao{}function ko(t){return new Et.a(e=>e.error(t))}class jo{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=ho(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Fr);if(null===e)return null;const n=new Ai([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Fr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ei(n,e),i=new ki(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=xi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=uo(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Ro(n);return r.sort((t,e)=>t.value.outlet===Fr?-1:e.value.outlet===Fr?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return go(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!po(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Wr(n).parameters:{};i=new Ai(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lo(t),ao(t),t.component,t,Do(e),Po(e)+n.length,Mo(t))}else{const r=lo(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Ai(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lo(t),ao(t),t.component,t,Do(e),Po(e)+o.length,Mo(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ho(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Ei(i,t)]}if(0===a.length&&0===c.length)return[new Ei(i,[])];const l=ao(t)===r,h=this.processSegment(a,u,c,l?Fr:r);return null===h?null:[new Ei(i,h)]}}function No(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ro(t){const e=[],n=new Set;for(const r of t){if(!No(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Ro(r.children);e.push(new Ei(r.value,t))}return e.filter(t=>!n.has(t))}function Do(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Po(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Lo(t){return t.data||{}}function Mo(t){return t.resolve||{}}function Vo(t){return Gn(e=>{const n=t(e);return n?Object(Ot.a)(n).pipe(Object(St.a)(()=>e)):Object(Ue.a)(e)})}class Fo extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Uo=new r.r("ROUTES");class qo{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(St.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Xi(Kr(i.injector.get(Uo,void 0,r.q.Self|r.q.Optional)).map(so),i)}),nr(t=>{throw e._loader$=void 0,t}));return e._loader$=new Hn.a(n,()=>new Tn.a).pipe(Object(br.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Ot.a)(this.loader.load(t)):Qr(t()).pipe(Object(qe.a)(t=>t instanceof r.w?Object(Ue.a)(t):Object(Ot.a)(this.compiler.compileModuleAsync(t))))}}class Bo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ho,this.attachRef=null}}class Ho{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Bo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class zo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Go(t){throw t}function Ko(t,e,n){return e.parse("/")}function Wo(t,e){return Object(Ue.a)(null)}let $o=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Tn.a,this.errorHandler=Go,this.malformedUriErrorHandler=Ko,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wo,afterPreactivation:Wo},this.urlHandlingStrategy=new zo,this.routeReuseStrategy=new Fo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new ti(new ei([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qo(s,a,t=>this.triggerEvent(new Nr(t)),t=>this.triggerEvent(new Rr(t))),this.routerState=Ti(this.currentUrlTree,this.rootComponentType),this.transitions=new xn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ze(t=>0!==t.id),Object(St.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Gn(t=>{let n=!1,r=!1;return Object(Ue.a)(t).pipe(Object(yr.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ue.a)(t).pipe(Gn(t=>{const n=this.transitions.getValue();return e.next(new Er(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?qn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Gn(t=>function(t,e,n,r,i){return new _o(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(St.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(yr.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(qe.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new jo(t,e,n,r,i,o).recognize();return null===s?ko(new Ao):Object(Ue.a)(s)}catch(Uw){return ko(Uw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(St.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(yr.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ir(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Er(n,this.serializeUrl(r),i,o);e.next(a);const u=Ti(r,this.rootComponentType).snapshot;return Object(Ue.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),qn.a}),Vo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(yr.a)(t=>{const e=new xr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(St.a)(t=>Object.assign(Object.assign({},t),{guards:So(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(qe.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ue.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ot.a)(t).pipe(Object(qe.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ue.a)(!0);const s=o.map(o=>{const s=To(o,e,i);let a;if(function(t){return t&&Zi(t.canDeactivate)}(s))a=Qr(s.canDeactivate(t,e,n,r));else{if(!Zi(s))throw new Error("Invalid CanDeactivate guard");a=Qr(s(t,e,n,r))}return a.pipe(mr())});return Object(Ue.a)(s).pipe(eo())}(t.component,t.route,n,e,r)),mr(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(qe.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ot.a)(e).pipe(Be(e=>Un(function(t,e){return null!==t&&e&&e(new Dr(t)),Object(Ue.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Lr(t)),Object(Ue.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Bn(()=>{const i=e.guards.map(i=>{const o=To(i,e.node,n);let s;if(function(t){return t&&Zi(t.canActivateChild)}(o))s=Qr(o.canActivateChild(r,t));else{if(!Zi(o))throw new Error("Invalid CanActivateChild guard");s=Qr(o(r,t))}return s.pipe(mr())});return Object(Ue.a)(i).pipe(eo())}));return Object(Ue.a)(i).pipe(eo())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ue.a)(!0);const i=r.map(r=>Bn(()=>{const i=To(r,e,n);let o;if(function(t){return t&&Zi(t.canActivate)}(i))o=Qr(i.canActivate(e,t));else{if(!Zi(i))throw new Error("Invalid CanActivate guard");o=Qr(i(e,t))}return o.pipe(mr())}));return Object(Ue.a)(i).pipe(eo())}(t,e.route,n))),mr(t=>!0!==t,!0))}(r,o,t,e):Object(Ue.a)(n)),Object(St.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(yr.a)(t=>{if(Ji(t.guardsResult)){const e=Br(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ar(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ze(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Sr(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Vo(t=>{if(t.guards.canActivateChecks.length)return Object(Ue.a)(t).pipe(Object(yr.a)(t=>{const e=new kr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Gn(t=>{let n=!1;return Object(Ue.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(qe.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ue.a)(t);let o=0;return Object(Ot.a)(n).pipe(Be(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ue.a)({});const o={};return Object(Ot.a)(i).pipe(Object(qe.a)(i=>function(t,e,n,r){const i=To(t,e,r);return Qr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(yr.a)(t=>{o[i]=t}))),or(1),Object(qe.a)(()=>Object.keys(o).length===i.length?Object(Ue.a)(o):qn.a))}(t._resolve,t,e,r).pipe(Object(St.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),xi(t,n).resolve),null)))}(t.route,e,r,i)),Object(yr.a)(()=>o++),or(1),Object(qe.a)(e=>o===n.length?Object(Ue.a)(t):qn.a))})),Object(yr.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Sr(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(yr.a)(t=>{const e=new jr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Vo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(St.a)(t=>{const e=function(t,e,n){const r=Pi(t,e._root,n?n._root:void 0);return new Si(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(yr.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(St.a)(t=>(new Qi(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(yr.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Sr(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new wr(i))),nr(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ji(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Sr(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Tr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(dd){t.reject(dd)}}var i;return qn.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ro(t),this.config=t.map(so),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Fi(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new qi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return $r(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new qi(n,e,r)}(n);if(o.toRoot())return Fi(e.root,new ei([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Bi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Bi(t,t===e.root,0)}const r=Mi(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Bi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?zi(s.segmentGroup,s.index,o.commands):Hi(s.segmentGroup,s.index,o.commands);return Fi(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ji(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Uw){e=this.malformedUriErrorHandler(Uw,this.urlSerializer,t)}return e}isActive(t,e){if(Ji(t))return Yr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Yr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Cr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(ii),r.Rb(Ho),r.Rb(_),r.Rb(r.s),r.Rb(r.x),r.Rb(r.i),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Qo=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Tn.a,this.subscription=t.events.subscribe(t=>{t instanceof Cr&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Yo(this.skipLocationChange),replaceUrl:Yo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Yo(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb($o),r.Kb(Ii),r.Kb(m))},t.\u0275dir=r.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Ub("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Qb("href",e.href,r.fc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})();function Yo(t){return""===t||!!t}let Xo=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Fr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Zo(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ho),r.Kb(r.Q),r.Kb(r.j),r.Sb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Zo{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ii?this.route:t===Ho?this.childContexts:this.parent.get(t,e)}}class Jo{}class ts{preload(t,e){return Object(Ue.a)(null)}}let es=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new qo(e,n,e=>t.triggerEvent(new Nr(e)),e=>t.triggerEvent(new Rr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ze(t=>t instanceof Cr),Be(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Ot.a)(n).pipe(Object(Fn.a)(),Object(St.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Ue.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(qe.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($o),r.Rb(r.x),r.Rb(r.i),r.Rb(r.s),r.Rb(Jo))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ns=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Er?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Vr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($o),r.Rb(z),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const rs=new r.r("ROUTER_CONFIGURATION"),is=new r.r("ROUTER_FORROOT_GUARD"),os=[_,{provide:ii,useClass:oi},{provide:$o,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new $o(null,t,e,n,r,i,s,Kr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[ii,Ho,_,r.s,r.x,r.i,Uo,rs,[class{},new r.B],[class{},new r.B]]},Ho,{provide:Ii,useFactory:function(t){return t.routerState.root},deps:[$o]},{provide:r.x,useClass:r.K},es,ts,class{preload(t,e){return e().pipe(nr(()=>Object(Ue.a)(null)))}},{provide:rs,useValue:{enableTracing:!1}}];function ss(){return new r.z("Router",$o)}let as=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[os,hs(e),{provide:is,useFactory:ls,deps:[[$o,new r.B,new r.J]]},{provide:rs,useValue:n||{}},{provide:m,useFactory:cs,deps:[a,[new r.p(b),new r.B],rs]},{provide:ns,useFactory:us,deps:[$o,z,rs]},{provide:Jo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ts},{provide:r.z,multi:!0,useFactory:ss},[ds,{provide:r.d,multi:!0,useFactory:fs,deps:[ds]},{provide:gs,useFactory:ps,deps:[ds]},{provide:r.b,multi:!0,useExisting:gs}]]}}static forChild(e){return{ngModule:t,providers:[hs(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(is,8),r.Rb($o,8))},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({}),t})();function us(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ns(t,e,n)}function cs(t,e,n={}){return n.useHash?new w(t,e):new v(t,e)}function ls(t){return"guarded"}function hs(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Uo,multi:!0,useValue:t}]}let ds=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Tn.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get($o),r=this.injector.get(rs);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ue.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(rs),n=this.injector.get(es),i=this.injector.get(ns),o=this.injector.get($o),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function fs(t){return t.appInitializer.bind(t)}function ps(t){return t.bootstrapListener.bind(t)}const gs=new r.r("Router Initializer");class ms{}class ys{constructor(){this.pais=new ms}}var bs=n("PSD3"),vs=n.n(bs),ws=n("mrSG"),_s=n("D0XW");function Os(){return t=>t.lift(new Es)}class Es{call(t,e){return e.subscribe(new Cs(t))}}class Cs extends He.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Ss{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ts(t,this.compare,this.keySelector))}}class Ts extends He.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Is=n("pxpQ"),xs=n("spgP"),As=n("Jgta"),ks=n("zIRd"),js=n("qOnz"),Ns=n("q/0M"),Rs=function(t,e){return(Rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ds(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ps,Ls="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ms=Ms||{},Vs=Ls||self;function Fs(){}function Us(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qs(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Bs="closure_uid_"+(1e9*Math.random()>>>0),Hs=0;function zs(t,e,n){return t.call.apply(t.bind,arguments)}function Gs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ks(t,e,n){return(Ks=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zs:Gs).apply(null,arguments)}function Ws(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function $s(){return Date.now()}function Qs(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ys(){this.j=this.j,this.i=this.i}Ys.prototype.j=!1,Ys.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Bs)&&t[Bs]||(t[Bs]=++Hs)}(this)},Ys.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Xs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Zs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Js(t){return Array.prototype.concat.apply([],arguments)}function ta(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ea(t){return/^[\s\xa0]*$/.test(t)}var na,ra=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ia(t,e){return-1!=t.indexOf(e)}function oa(t,e){return t<e?-1:t>e?1:0}t:{var sa=Vs.navigator;if(sa){var aa=sa.userAgent;if(aa){na=aa;break t}}na=""}function ua(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ca(t){var e={};for(var n in t)e[n]=t[n];return e}var la="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ha(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<la.length;o++)n=la[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function da(t){return da[" "](t),t}da[" "]=Fs;var fa,pa,ga=ia(na,"Opera"),ma=ia(na,"Trident")||ia(na,"MSIE"),ya=ia(na,"Edge"),ba=ya||ma,va=ia(na,"Gecko")&&!(ia(na.toLowerCase(),"webkit")&&!ia(na,"Edge"))&&!(ia(na,"Trident")||ia(na,"MSIE"))&&!ia(na,"Edge"),wa=ia(na.toLowerCase(),"webkit")&&!ia(na,"Edge");function _a(){var t=Vs.document;return t?t.documentMode:void 0}t:{var Oa="",Ea=(pa=na,va?/rv:([^\);]+)(\)|;)/.exec(pa):ya?/Edge\/([\d\.]+)/.exec(pa):ma?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(pa):wa?/WebKit\/(\S+)/.exec(pa):ga?/(?:Version)[ \/]?(\S+)/.exec(pa):void 0);if(Ea&&(Oa=Ea?Ea[1]:""),ma){var Ca=_a();if(null!=Ca&&Ca>parseFloat(Oa)){fa=String(Ca);break t}}fa=Oa}var Sa={};function Ta(t){return function(t,e){var n=Sa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ra(String(fa)).split("."),r=ra(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=oa(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||oa(0==s[2].length,0==a[2].length)||oa(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Ia=Vs.document&&ma&&(_a()||parseInt(fa,10))||void 0,xa=!ma||9<=Number(Ia),Aa=ma&&!Ta("9"),ka=function(){if(!Vs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Vs.addEventListener("test",Fs,e),Vs.removeEventListener("test",Fs,e)}catch(n){}return t}();function ja(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Na(t,e){if(ja.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(va){t:{try{da(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ra[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ja.prototype.b=function(){this.defaultPrevented=!0},Qs(Na,ja);var Ra={2:"touch",3:"pen",4:"mouse"};Na.prototype.b=function(){Na.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Aa)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Da="closure_listenable_"+(1e6*Math.random()|0),Pa=0;function La(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Pa,this.Y=this.Z=!1}function Ma(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Va(t){this.src=t,this.a={},this.b=0}function Fa(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Xs(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ma(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ua(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Va.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ua(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new La(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var qa="closure_lm_"+(1e6*Math.random()|0),Ba={};function Ha(t,e,n,r,i){if(r&&r.once)return Ga(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ha(t,e[o],n,r,i);return null}return n=Ja(n),t&&t[Da]?t.va(e,n,qs(r)?!!r.capture:!!r,i):za(t,e,n,!1,r,i)}function za(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=qs(i)?!!i.capture:!!i;if(s&&!xa)return null;var a=Xa(t);if(a||(t[qa]=a=new Va(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ya,e=xa?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ka||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($a(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ga(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ga(t,e[o],n,r,i);return null}return n=Ja(n),t&&t[Da]?t.wa(e,n,qs(r)?!!r.capture:!!r,i):za(t,e,n,!0,r,i)}function Ka(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ka(t,e[o],n,r,i);else r=qs(r)?!!r.capture:!!r,n=Ja(n),t&&t[Da]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ua(o=t.a[e],n,r,i))&&(Ma(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Xa(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ua(e,n,r,i)),(n=-1<t?e[t]:null)&&Wa(n))}function Wa(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Da])Fa(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($a(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xa(e))?(Fa(n,t),0==n.b&&(n.src=null,e[qa]=null)):Ma(t)}}}function $a(t){return t in Ba?Ba[t]:Ba[t]="on"+t}function Qa(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Wa(t),n.call(r,e)}function Ya(t,e){if(t.Y)return!0;if(!xa){if(!e)t:{e=["window","event"];for(var n=Vs,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Qa(t,e=new Na(e,this))}return Qa(t,new Na(e,this))}function Xa(t){return(t=t[qa])instanceof Va?t:null}var Za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ja(t){return"function"==typeof t?t:(t[Za]||(t[Za]=function(e){return t.handleEvent(e)}),t[Za])}function tu(){Ys.call(this),this.c=new Va(this),this.J=this,this.C=null}function eu(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ja(e,t);else if(e instanceof ja)e.target=e.target||t;else{var i=e;ha(e=new ja(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=nu(s,r,!0,e)&&i}if(i=nu(s=e.a=t,r,!0,e)&&i,i=nu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=nu(s=e.a=n[o],r,!1,e)&&i}function nu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Fa(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Qs(tu,Ys),tu.prototype[Da]=!0,(Ps=tu.prototype).addEventListener=function(t,e,n,r){Ha(this,t,e,n,r)},Ps.removeEventListener=function(t,e,n,r){Ka(this,t,e,n,r)},Ps.G=function(){if(tu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ma(n[r]);delete e.a[t],e.b--}}this.C=null},Ps.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ps.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ru=Vs.JSON.stringify;function iu(){this.b=this.a=null}var ou,su=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new uu},function(t){t.reset()});function au(){var t=du,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function uu(){this.next=this.b=this.a=null}function cu(t){Vs.setTimeout(function(){throw t},0)}function lu(t,e){ou||function(){var t=Vs.Promise.resolve(void 0);ou=function(){t.then(fu)}}(),hu||(ou(),hu=!0),du.add(t,e)}iu.prototype.add=function(t,e){var n=su.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},uu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},uu.prototype.reset=function(){this.next=this.b=this.a=null};var hu=!1,du=new iu;function fu(){for(var t;t=au();){try{t.a.call(t.b)}catch(n){cu(n)}var e=su;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}hu=!1}function pu(t,e){tu.call(this),this.b=t||1,this.a=e||Vs,this.f=Ks(this.Za,this),this.g=$s()}function gu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function mu(t,e,n){if("function"==typeof t)n&&(t=Ks(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ks(t.handleEvent,t)}return 2147483647<Number(e)?-1:Vs.setTimeout(t,e||0)}function yu(t){t.a=mu(function(){t.a=null,t.c&&(t.c=!1,yu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Qs(pu,tu),(Ps=pu.prototype).aa=!1,Ps.M=null,Ps.Za=function(){if(this.aa){var t=$s()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),eu(this,"tick"),this.aa&&(gu(this),this.start()))}},Ps.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=$s())},Ps.G=function(){pu.X.G.call(this),gu(this),delete this.a};var bu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Rs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:yu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Vs.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ys);function vu(t){Ys.call(this),this.b=t,this.a={}}Qs(vu,Ys);var wu=[];function _u(t,e,n,r){Array.isArray(n)||(n&&(wu[0]=n.toString()),n=wu);for(var i=0;i<n.length;i++){var o=Ha(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ou(t){ua(t.a,function(t,e){this.a.hasOwnProperty(e)&&Wa(t)},t),t.a={}}function Eu(){this.a=!0}function Cu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ru(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}vu.prototype.G=function(){vu.X.G.call(this),Ou(this)},vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Eu.prototype.info=function(){};var Su={},Tu=null;function Iu(){return Tu=Tu||new tu}function xu(t){ja.call(this,Su.Fa,t)}function Au(t){var e=Iu();eu(e,new xu(e,t))}function ku(t,e){ja.call(this,Su.STAT_EVENT,t),this.stat=e}function ju(t){var e=Iu();eu(e,new ku(e,t))}function Nu(t){ja.call(this,Su.Ga,t)}function Ru(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Vs.setTimeout(function(){t()},e)}Su.Fa="serverreachability",Qs(xu,ja),Su.STAT_EVENT="statevent",Qs(ku,ja),Su.Ga="timingevent",Qs(Nu,ja);var Du={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Pu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Lu(){}function Mu(){}Lu.prototype.a=null;var Vu,Fu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Uu(){ja.call(this,"d")}function qu(){ja.call(this,"c")}function Bu(){}function Hu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new vu(this),this.P=zu,this.R=new pu(t=ba?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Qs(Uu,ja),Qs(qu,ja),Qs(Bu,Lu),Vu=new Bu;var zu=45e3,Gu={},Ku={};function Wu(t,e,n){t.H=1,t.i=gc(cc(e)),t.j=n,t.I=!0,$u(t,null)}function $u(t,e){t.u=$s(),Xu(t),t.l=cc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),xc(n.b,"t",r),t.D=0,t.a=Ol(t.g,t.g.C?e:null),0<t.O&&(t.F=new bu(Ks(t.Ca,t,t.a),t.O)),_u(t.J,t.a,"readystatechange",t.Xa),e=t.B?ca(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Au(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Qu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Yu(t,n);if(i==Ku){4==e&&(t.h=4,ju(14),r=!1),Cu(t.c,t.f,null,"[Incomplete Response]");break}if(i==Gu){t.h=4,ju(15),Cu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Cu(t.c,t.f,i,null),nc(t,i)}4==e&&0==n.length&&(t.h=1,ju(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),pl(e),e.F=!0,ju(11))):(Cu(t.c,t.f,n,"[Invalid Chunked Response]"),ec(t),tc(t))}function Yu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ku:(n=Number(e.substring(n,r)),isNaN(n)?Gu:(r+=1)+n>e.length?Ku:(e=e.substr(r,n),t.D=r+n,e))}function Xu(t){t.T=$s()+t.P,Zu(t,t.P)}function Zu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ru(Ks(t.Va,t),e)}function Ju(t){t.o&&(Vs.clearTimeout(t.o),t.o=null)}function tc(t){0==t.g.v||t.A||yl(t.g,t)}function ec(t){Ju(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,gu(t.R),Ou(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function nc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Pc(n.b,t)))if(n.I=t.N,!t.C&&Pc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(rw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ml(n),ol(n)}fl(n),ju(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ru(Ks(n.Sa,n),6e3));if(1>=Dc(n.b)&&n.ea){try{n.ea()}catch(rw){}n.ea=void 0}}else vl(n,11)}else if((t.C||n.a==t)&&ml(n),!ea(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ia(l,"spdy")||ia(l,"quic")||ia(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Lc(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,pc(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=$s()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=_l(u,u.C?u.ga:null,u.fa),f.C){Mc(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(Ju(p),Xu(p)),u.a=f}else dl(u);0<n.g.length&&ul(n)}else"stop"!=i[0]&&"close"!=i[0]||vl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?vl(n,7):il(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Au(4)}catch(rw){}}function rc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Us(t)||"string"==typeof t)Zs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Us(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Us(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ic(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ic)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function oc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];sc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)sc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function sc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ps=Hu.prototype).setTimeout=function(t){this.P=t},Ps.Xa=function(t){t=t.target;var e=this.F;e&&3==tl(t)?e.f():this.Ca(t)},Ps.Ca=function(t){try{if(t==this.a)t:{var e=tl(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ba&&!this.a.$())){this.A||4!=e||7==n||Au(8==n||0>=r?3:2),Ju(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ea(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ju(12),ec(this),tc(this);break t}Cu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,nc(this,u)}this.I?(Qu(this,e,o),ba&&this.b&&3==e&&(_u(this.J,this.R,"tick",this.Wa),this.R.start())):(Cu(this.c,this.f,o,null),nc(this,o)),4==e&&ec(this),this.b&&!this.A&&(4==e?yl(this.g,this):(this.b=!1,Xu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ju(12)):(this.h=0,ju(13)),ec(this),tc(this)}}}catch(c){}},Ps.Wa=function(){if(this.a){var t=tl(this.a),e=this.a.$();this.D<e.length&&(Ju(this),Qu(this,t,e),this.b&&4!=t&&Xu(this))}},Ps.cancel=function(){this.A=!0,ec(this)},Ps.Va=function(){this.o=null;var t=$s();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Au(3),ju(17)),ec(this),this.h=2,tc(this)):Zu(this,this.T-t)},(Ps=ic.prototype).K=function(){oc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ps.L=function(){return oc(this),this.a.concat()},Ps.get=function(t,e){return sc(this.b,t)?this.b[t]:e},Ps.set=function(t,e){sc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ps.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ac=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function uc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof uc){this.a=void 0!==e?e:t.a,lc(this,t.f),this.j=t.j,hc(this,t.c),dc(this,t.h),this.g=t.g,e=t.b;var n=new Cc;n.c=e.c,e.a&&(n.a=new ic(e.a),n.b=e.b),fc(this,n),this.i=t.i}else t&&(n=String(t).match(ac))?(this.a=!!e,lc(this,n[1]||"",!0),this.j=mc(n[2]||""),hc(this,n[3]||"",!0),dc(this,n[4]),this.g=mc(n[5]||"",!0),fc(this,n[6]||"",!0),this.i=mc(n[7]||"")):(this.a=!!e,this.b=new Cc(null,this.a))}function cc(t){return new uc(t)}function lc(t,e,n){t.f=n?mc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function hc(t,e,n){t.c=n?mc(e,!0):e}function dc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function fc(t,e,n){e instanceof Cc?(t.b=e,function(t,e){e&&!t.f&&(Sc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Tc(this,e),xc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=yc(e,Oc)),t.b=new Cc(e,t.a))}function pc(t,e,n){t.b.set(e,n)}function gc(t){return pc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^$s()).toString(36)),t}function mc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,bc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}uc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(yc(e,vc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(yc(e,vc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(yc(n,"/"==n.charAt(0)?_c:wc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",yc(n,Ec)),t.join("")};var vc=/[#\/\?@]/g,wc=/[#\?:]/g,_c=/[#\?]/g,Oc=/[#\?@]/g,Ec=/#/g;function Cc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Sc(t){t.a||(t.a=new ic,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Tc(t,e){Sc(t),e=Ac(t,e),sc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,sc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&oc(t)))}function Ic(t,e){return Sc(t),e=Ac(t,e),sc(t.a.b,e)}function xc(t,e,n){Tc(t,e),0<n.length&&(t.c=null,t.a.set(Ac(t,e),ta(n)),t.b+=n.length)}function Ac(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ps=Cc.prototype).add=function(t,e){Sc(this),this.c=null,t=Ac(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ps.forEach=function(t,e){Sc(this),this.a.forEach(function(n,r){Zs(n,function(n){t.call(e,n,r,this)},this)},this)},Ps.L=function(){Sc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ps.K=function(t){Sc(this);var e=[];if("string"==typeof t)Ic(this,t)&&(e=Js(e,this.a.get(Ac(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Js(e,t[n])}return e},Ps.set=function(t,e){return Sc(this),this.c=null,Ic(this,t=Ac(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ps.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ps.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var kc=function(){return function(t,e){this.b=t,this.a=e}}();function jc(t){this.g=t||Nc,t=Vs.PerformanceNavigationTiming?0<(t=Vs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Vs.ia&&Vs.ia.ya&&Vs.ia.ya()&&Vs.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Nc=10;function Rc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Dc(t){return t.b?1:t.a?t.a.size:0}function Pc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Lc(t,e){t.a?t.a.add(e):t.b=e}function Mc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Vc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ds(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ta(t.c)}function Fc(){}function Uc(){this.a=new Fc}function qc(t,e,n){var r=n||"";try{rc(t,function(t,n){var i=t;qs(t)&&(i=ru(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Uw){throw e.push(r+"type="+encodeURIComponent("_badmap")),Uw}}function Bc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}jc.prototype.cancel=function(){var t,e;if(this.c=Vc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ds(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Fc.prototype.stringify=function(t){return Vs.JSON.stringify(t,void 0)},Fc.prototype.parse=function(t){return Vs.JSON.parse(t,void 0)};var Hc=Vs.JSON.parse;function zc(t){tu.call(this),this.headers=new ic,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Gc,this.D=this.F=!1}Qs(zc,tu);var Gc="",Kc=/^https?$/i,Wc=["POST","PUT"];function $c(t){return"content-type"==t.toLowerCase()}function Qc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Yc(t),Zc(t)}function Yc(t){t.u||(t.u=!0,eu(t,"complete"),eu(t,"error"))}function Xc(t){if(t.b&&void 0!==Ms&&(!t.s[1]||4!=tl(t)||2!=t.W()))if(t.l&&4==tl(t))mu(t.za,0,t);else if(eu(t,"readystatechange"),4==tl(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ac)[1]||null;if(!o&&Vs.self&&Vs.self.location){var s=Vs.self.location.protocol;o=s.substr(0,s.length-1)}i=!Kc.test(o?o.toLowerCase():"")}e=i}if(e)eu(t,"complete"),eu(t,"success");else{t.h=6;try{var a=2<tl(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Yc(t)}}finally{Zc(t)}}}function Zc(t,e){if(t.a){Jc(t);var n=t.a,r=t.s[0]?Fs:null;t.a=null,t.s=null,e||eu(t,"ready");try{n.onreadystatechange=r}catch(Uw){}}}function Jc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Vs.clearTimeout(t.m),t.m=null)}function tl(t){return t.a?t.a.readyState:0}function el(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ua(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pc(t,e,n))}function nl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function rl(t){this.pa=0,this.g=[],this.c=new Eu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=nl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=nl("baseRetryDelayMs",5e3,t),this.Ra=nl("retryDelaySeedMs",1e4,t),this.Ma=nl("forwardChannelMaxRetries",2,t),this.ma=nl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new jc(t&&t.concurrentRequestLimit),this.ka=new Uc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function il(t){if(sl(t),3==t.v){var e=t.R++,n=cc(t.B);pc(n,"SID",t.J),pc(n,"RID",e),pc(n,"TYPE","terminate"),ll(t,n),(e=new Hu(t,t.c,e,void 0)).H=2,e.i=gc(cc(n)),n=!1,Vs.navigator&&Vs.navigator.sendBeacon&&(n=Vs.navigator.sendBeacon(e.i.toString(),"")),!n&&Vs.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ol(e.g,null),e.a.ba(e.i)),e.u=$s(),Xu(e)}wl(t)}function ol(t){t.a&&(pl(t),t.a.cancel(),t.a=null)}function sl(t){ol(t),t.j&&(Vs.clearTimeout(t.j),t.j=null),ml(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Vs.clearTimeout(t.h),t.h=null)}function al(t,e){t.g.push(new kc(t.Oa++,e)),3==t.v&&ul(t)}function ul(t){Rc(t.b)||t.h||(t.h=!0,lu(t.Ba,t),t.u=0)}function cl(t,e){var n;n=e?e.f:t.R++;var r=cc(t.B);pc(r,"SID",t.J),pc(r,"RID",n),pc(r,"AID",t.P),ll(t,r),t.i&&t.l&&el(r,t.i,t.l),n=new Hu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=hl(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Lc(t.b,n),Wu(n,r,e)}function ll(t,e){t.f&&rc({},function(t,n){pc(e,n,t)})}function hl(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ks(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{qc(l,s,"req"+c+"_")}catch(Zl){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function dl(t){t.a||t.j||(t.T=1,lu(t.Aa,t),t.o=0)}function fl(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ru(Ks(t.Aa,t),bl(t,t.o)),t.o++,0))}function pl(t){null!=t.s&&(Vs.clearTimeout(t.s),t.s=null)}function gl(t){t.a=new Hu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=cc(t.la);pc(e,"RID","rpc"),pc(e,"SID",t.J),pc(e,"CI",t.H?"0":"1"),pc(e,"AID",t.P),ll(t,e),pc(e,"TYPE","xmlhttp"),t.i&&t.l&&el(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=gc(cc(e)),n.j=null,n.I=!0,$u(n,t)}function ml(t){null!=t.m&&(Vs.clearTimeout(t.m),t.m=null)}function yl(t,e){var n=null;if(t.a==e){ml(t),pl(t),t.a=null;var r=2}else{if(!Pc(t.b,e))return;n=e.s,Mc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=$s()-e.u;var i=t.u;eu(r=Iu(),new Nu(r,n,e,i)),ul(t)}else dl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Dc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ru(Ks(t.Ba,t,e),bl(t,t.u)),t.u++,0)))}(t,e)||2==r&&fl(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:vl(t,5);break;case 4:vl(t,10);break;case 3:vl(t,6);break;default:vl(t,2)}}function bl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function vl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ks(t.Ya,t);n||(n=new uc("//www.google.com/images/cleardot.gif"),Vs.location&&"http"==Vs.location.protocol||lc(n,"https"),gc(n)),function(t,e){var n=new Eu;if(Vs.Image){var r=new Image;r.onload=Ws(Bc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ws(Bc,n,r,"TestLoadImage: error",!1,e),r.onabort=Ws(Bc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ws(Bc,n,r,"TestLoadImage: timeout",!1,e),Vs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ju(2);t.v=0,t.f&&t.f.ra(e),wl(t),sl(t)}function wl(t){t.v=0,t.I=-1,t.f&&(0==Vc(t.b).length&&0==t.g.length||(t.b.c.length=0,ta(t.g),t.g.length=0),t.f.qa())}function _l(t,e,n){var r=function(t){return t instanceof uc?cc(t):new uc(t,void 0)}(n);if(""!=r.c)e&&hc(r,e+"."+r.c),dc(r,r.h);else{var i=Vs.location;r=function(t,e,n,r){var i=new uc(null,void 0);return t&&lc(i,t),e&&hc(i,e),n&&dc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ua(t.V,function(t,e){pc(r,e,t)}),n=t.na,(e=t.A)&&n&&pc(r,e,n),pc(r,"VER",t.ha),ll(t,r),r}function Ol(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zc(t.Na)).F=t.C,e}function El(){}function Cl(){if(ma&&!(10<=Number(Ia)))throw Error("Environmental error: no available transport.")}function Sl(t,e){tu.call(this),this.a=new rl(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ea(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ea(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new xl(this)}function Tl(t){Uu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Il(){qu.call(this),this.status=1}function xl(t){this.a=t}(Ps=zc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Vu),this.a.onreadystatechange=Ks(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Qc(this,o)}t=n||"";var i=new ic(this.headers);r&&rc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=$c,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Vs.FormData&&t instanceof Vs.FormData,!(0<=Xs(Wc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Jc(this),0<this.o&&((this.D=function(t){return ma&&Ta(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ks(this.xa,this)):this.m=mu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Qc(this,o)}},Ps.xa=function(){void 0!==Ms&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,eu(this,"timeout"),this.abort(8))},Ps.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,eu(this,"complete"),eu(this,"abort"),Zc(this))},Ps.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Zc(this,!0)),zc.X.G.call(this)},Ps.za=function(){this.j||(this.A||this.l||this.g?Xc(this):this.Ua())},Ps.Ua=function(){Xc(this)},Ps.W=function(){try{return 2<tl(this)?this.a.status:-1}catch(pa){return-1}},Ps.$=function(){try{return this.a?this.a.responseText:""}catch(pa){return""}},Ps.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Hc(e)}},Ps.ua=function(){return this.h},Ps.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ps=rl.prototype).ha=8,Ps.v=1,Ps.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Hu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ha(r=ca(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=hl(this,n,e),pc(i=cc(this.B),"RID",t),pc(i,"CVER",22),this.A&&pc(i,"X-HTTP-Session-Id",this.A),ll(this,i),this.i&&r&&el(i,this.i,r),Lc(this.b,n),this.Ia&&pc(i,"TYPE","init"),this.da?(pc(i,"$req",e),pc(i,"SID","null"),n.U=!0,Wu(n,i,null)):Wu(n,i,e),this.v=2}}else 3==this.v&&(t?cl(this,t):0==this.g.length||Rc(this.b)||cl(this))},Ps.Aa=function(){if(this.j=null,gl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ru(Ks(this.Ta,this),t)}},Ps.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ju(10),ol(this),gl(this))},Ps.Sa=function(){null!=this.m&&(this.m=null,ol(this),fl(this),ju(19))},Ps.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ju(2)):(this.c.info("Failed to ping google.com"),ju(1))},(Ps=El.prototype).ta=function(){},Ps.sa=function(){},Ps.ra=function(){},Ps.qa=function(){},Ps.Ja=function(){},Cl.prototype.a=function(t,e){return new Sl(t,e)},Qs(Sl,tu),Sl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ju(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=_l(t,null,t.fa),ul(t)},Sl.prototype.close=function(){il(this.a)},Sl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,al(this.a,e)}else this.l?((e={}).__data__=ru(t),al(this.a,e)):al(this.a,t)},Sl.prototype.G=function(){this.a.f=null,delete this.f,il(this.a),delete this.a,Sl.X.G.call(this)},Qs(Tl,Uu),Qs(Il,qu),Qs(xl,El),xl.prototype.ta=function(){eu(this.a,"a")},xl.prototype.sa=function(t){eu(this.a,new Tl(t))},xl.prototype.ra=function(t){eu(this.a,new Il(t))},xl.prototype.qa=function(){eu(this.a,"b")},Cl.prototype.createWebChannel=Cl.prototype.a,Sl.prototype.send=Sl.prototype.h,Sl.prototype.open=Sl.prototype.g,Sl.prototype.close=Sl.prototype.close,Du.NO_ERROR=0,Du.TIMEOUT=8,Du.HTTP_ERROR=6,Pu.COMPLETE="complete",Mu.EventType=Fu,Fu.OPEN="a",Fu.CLOSE="b",Fu.ERROR="c",Fu.MESSAGE="d",tu.prototype.listen=tu.prototype.va,zc.prototype.listenOnce=zc.prototype.wa,zc.prototype.getLastError=zc.prototype.Qa,zc.prototype.getLastErrorCode=zc.prototype.ua,zc.prototype.getStatus=zc.prototype.W,zc.prototype.getResponseJson=zc.prototype.Pa,zc.prototype.getResponseText=zc.prototype.$,zc.prototype.send=zc.prototype.ba;var Al=Du,kl=Pu,jl=Su,Nl=Mu,Rl=zc,Dl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Dl.o=-1;var Pl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ll=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ws.c)(e,t),e}(Error),Ml=new Ns.b("@firebase/firestore");function Vl(){return Ml.logLevel}function Fl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ml.logLevel<=Ns.a.DEBUG){var r=e.map(Bl);Ml.debug.apply(Ml,Object(ws.f)(["Firestore (8.5.0): "+t],r))}}function Ul(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ml.logLevel<=Ns.a.ERROR){var r=e.map(Bl);Ml.error.apply(Ml,Object(ws.f)(["Firestore (8.5.0): "+t],r))}}function ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ml.logLevel<=Ns.a.WARN){var r=e.map(Bl);Ml.warn.apply(Ml,Object(ws.f)(["Firestore (8.5.0): "+t],r))}}function Bl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Uw){return t}}function Hl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw Ul(e),new Error(e)}function zl(t,e){t||Hl()}function Gl(t,e){return t}function Kl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Wl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Kl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function $l(t,e){return t<e?-1:t>e?1:0}function Ql(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Yl(t){return t+"\0"}var Xl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ll(Pl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ll(Pl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ll(Pl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ll(Pl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?$l(this.nanoseconds,t.nanoseconds):$l(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Zl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Xl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Jl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function th(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Hl(),void 0===n?n=t.length-e:n>t.length-e&&Hl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),rh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ws.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(nh),ih=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ws.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ih.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ll(Pl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ll(Pl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ll(Pl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(nh),sh=function(){function t(t){this.fields=t,t.sort(oh.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ql(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ah=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return $l(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ah.EMPTY_BYTE_STRING=new ah("");var uh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ch(t){if(zl(!!t),"string"==typeof t){var e=0,n=uh.exec(t);if(zl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lh(t.seconds),nanos:lh(t.nanos)}}function lh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function hh(t){return"string"==typeof t?ah.fromBase64String(t):ah.fromUint8Array(t)}function dh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fh(t){var e=t.mapValue.fields.__previous_value__;return dh(e)?fh(e):e}function ph(t){var e=ch(t.mapValue.fields.__local_write_time__.timestampValue);return new Xl(e.seconds,e.nanos)}function gh(t){return null==t}function mh(t){return 0===t&&1/t==-1/0}function yh(t){return"number"==typeof t&&Number.isInteger(t)&&!mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(rh.fromString(e))},t.fromName=function(e){return new t(rh.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===rh.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return rh.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new rh(e.slice()))},t}();function vh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dh(t)?4:10:Hl()}function wh(t,e){var n=vh(t);if(n!==vh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ph(t).isEqual(ph(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ch(t.timestampValue),r=ch(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return hh(t.bytesValue).isEqual(hh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return lh(t.geoPointValue.latitude)===lh(e.geoPointValue.latitude)&&lh(t.geoPointValue.longitude)===lh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return lh(t.integerValue)===lh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=lh(t.doubleValue),r=lh(e.doubleValue);return n===r?mh(n)===mh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ql(t.arrayValue.values||[],e.arrayValue.values||[],wh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Jl(n)!==Jl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wh(n[i],r[i])))return!1;return!0}(t,e);default:return Hl()}}function _h(t,e){return void 0!==(t.values||[]).find(function(t){return wh(t,e)})}function Oh(t,e){var n=vh(t),r=vh(e);if(n!==r)return $l(n,r);switch(n){case 0:return 0;case 1:return $l(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=lh(t.integerValue||t.doubleValue),r=lh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Eh(t.timestampValue,e.timestampValue);case 4:return Eh(ph(t),ph(e));case 5:return $l(t.stringValue,e.stringValue);case 6:return function(t,e){var n=hh(t),r=hh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=$l(n[i],r[i]);if(0!==o)return o}return $l(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=$l(lh(t.latitude),lh(e.latitude));return 0!==n?n:$l(lh(t.longitude),lh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Oh(n[i],r[i]);if(o)return o}return $l(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=$l(r[s],o[s]);if(0!==a)return a;var u=Oh(n[r[s]],i[o[s]]);if(0!==u)return u}return $l(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Hl()}}function Eh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $l(t,e);var n=ch(t),r=ch(e),i=$l(n.seconds,r.seconds);return 0!==i?i:$l(n.nanos,r.nanos)}function Ch(t){return Sh(t)}function Sh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ch(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?hh(t.bytesValue).toBase64():"referenceValue"in t?bh.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Sh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Sh(t.fields[o])}return e+"}"}(t.mapValue):Hl();var e}function Th(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ih(t){return!!t&&"integerValue"in t}function xh(t){return!!t&&"arrayValue"in t}function Ah(t){return!!t&&"nullValue"in t}function kh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jh(t){return!!t&&"mapValue"in t}var Nh=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(oh.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return wh(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===vh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=jh(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(oh.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!jh(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Rh(t){var e=[];return th(t.fields||{},function(t,n){var r=new oh([t]);if(jh(n)){var i=Rh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new sh(e)}var Dh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Zl.min(),Nh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Nh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Nh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Nh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Nh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ph=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Lh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ph(t,e,n,r,i,o,s)}function Mh(t){var e=Gl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Ch(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Yh(e.startAt)),e.endAt&&(n+="|ub:",n+=Yh(e.endAt)),e.h=n}return e.h}function Vh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Zh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!wh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!td(t.startAt,e.startAt)&&td(t.endAt,e.endAt)}function Fh(t){return bh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ws.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new qh(t,n,r):"array-contains"===n?new Gh(t,r):"in"===n?new Kh(t,r):"not-in"===n?new Wh(t,r):"array-contains-any"===n?new $h(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Bh(t,n):new Hh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Oh(e,this.value)):null!==e&&vh(this.value)===vh(e)&&this.m(Oh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Hl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),qh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=bh.fromName(r.referenceValue),i}return Object(ws.c)(e,t),e.prototype.matches=function(t){var e=bh.comparator(t.key,this.key);return this.m(e)},e}(Uh),Bh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=zh(0,n),r}return Object(ws.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Uh),Hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=zh(0,n),r}return Object(ws.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Uh);function zh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return bh.fromName(t.referenceValue)})}var Gh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ws.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return xh(e)&&_h(e.arrayValue,this.value)},e}(Uh),Kh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ws.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&_h(this.value.arrayValue,e)},e}(Uh),Wh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ws.c)(e,t),e.prototype.matches=function(t){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!_h(this.value.arrayValue,e)},e}(Uh),$h=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ws.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!xh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return _h(e.value.arrayValue,t)})},e}(Uh),Qh=function(t,e){this.position=t,this.before=e};function Yh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Ch(t)}).join(",")}var Xh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Zh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?bh.comparator(bh.fromName(s.referenceValue),n.key):Oh(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function td(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!wh(t.position[n],e.position[n]))return!1;return!0}var ed=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function nd(t,e,n,r,i,o,s,a){return new ed(t,e,n,r,i,o,s,a)}function rd(t){return new ed(t)}function id(t){return!gh(t.limit)&&"F"===t.limitType}function od(t){return!gh(t.limit)&&"L"===t.limitType}function sd(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ad(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function ud(t){return null!==t.collectionGroup}function cd(t){var e=Gl(t);if(null===e.p){e.p=[];var n=ad(e),r=sd(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Xh(n)),e.p.push(new Xh(oh.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Xh(oh.keyField(),u))}}}return e.p}function ld(t){var e=Gl(t);if(!e.T)if("F"===e.limitType)e.T=Lh(e.path,e.collectionGroup,cd(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=cd(e);r<i.length;r++){var o=i[r];n.push(new Xh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Qh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Qh(e.startAt.position,!e.startAt.before):null;e.T=Lh(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function hd(t,e,n){return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return Vh(ld(t),ld(e))&&t.limitType===e.limitType}function fd(t){return Mh(ld(t))+"|lt:"+t.limitType}function pd(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Ch(e.value);var e}).join(", ")+"]"),gh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Yh(t.startAt)),t.endAt&&(e+=", endAt: "+Yh(t.endAt)),"Target("+e+")"}(ld(t))+"; limitType="+t.limitType+")"}function gd(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):bh.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jh(t.startAt,cd(t),e)||t.endAt&&Jh(t.endAt,cd(t),e))}(t,e)}function md(t){return function(e,n){for(var r=!1,i=0,o=cd(t);i<o.length;i++){var s=o[i],a=yd(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function yd(t,e,n){var r=t.field.isKeyField()?bh.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Oh(r,i):Hl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Hl()}}function bd(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function vd(t){return{integerValue:""+t}}function wd(t,e){return yh(e)?vd(e):bd(t,e)}var _d=function(){this._=void 0};function Od(t,e,n){return t instanceof Sd?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Td?Id(t,e):t instanceof xd?Ad(t,e):function(t,e){var n=Cd(t,e),r=jd(n)+jd(t.A);return Ih(n)&&Ih(t.A)?vd(r):bd(t.R,r)}(t,e)}function Ed(t,e,n){return t instanceof Td?Id(t,e):t instanceof xd?Ad(t,e):n}function Cd(t,e){return t instanceof kd?Ih(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ws.c)(e,t),e}(_d),Td=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ws.c)(e,t),e}(_d);function Id(t,e){for(var n=Nd(e),r=function(t){n.some(function(e){return wh(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ws.c)(e,t),e}(_d);function Ad(t,e){for(var n=Nd(e),r=function(t){n=n.filter(function(e){return!wh(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var kd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(ws.c)(e,t),e}(_d);function jd(t){return lh(t.integerValue||t.doubleValue)}function Nd(t){return xh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Rd=function(t,e){this.field=t,this.transform=e},Dd=function(t,e){this.version=t,this.transformResults=e},Pd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ld(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Md=function(){};function Vd(t,e,n){t instanceof Hd?function(t,e,n){var r=t.value.clone(),i=Kd(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof zd?function(t,e,n){if(Ld(t.precondition,e)){var r=Kd(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Gd(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Fd(t,e,n){t instanceof Hd?function(t,e,n){if(Ld(t.precondition,e)){var r=t.value.clone(),i=Wd(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Bd(e),r).setHasLocalMutations()}}(t,e,n):t instanceof zd?function(t,e,n){if(Ld(t.precondition,e)){var r=Wd(t.fieldTransforms,n,e),i=e.data;i.setAll(Gd(t)),i.setAll(r),e.convertToFoundDocument(Bd(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ld(t.precondition,e)&&e.convertToNoDocument(Zl.min())}(t,e)}function Ud(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Cd(o.transform,s||null);null!=a&&(null==n&&(n=Nh.empty()),n.set(o.field,a))}return n||null}function qd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ql(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Td&&e instanceof Td||t instanceof xd&&e instanceof xd?Ql(t.elements,e.elements,wh):t instanceof kd&&e instanceof kd?wh(t.A,e.A):t instanceof Sd&&e instanceof Sd}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Bd(t){return t.isFoundDocument()?t.version:Zl.min()}var Hd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(ws.c)(e,t),e}(Md),zd=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(ws.c)(e,t),e}(Md);function Gd(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Kd(t,e,n){var r=new Map;zl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Ed(s,a,n[i]))}return r}function Wd(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Od(a,u,e))}return r}var $d,Qd,Yd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(ws.c)(e,t),e}(Md),Xd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(ws.c)(e,t),e}(Md),Zd=function(t){this.count=t};function Jd(t){switch(t){case Pl.OK:return Hl();case Pl.CANCELLED:case Pl.UNKNOWN:case Pl.DEADLINE_EXCEEDED:case Pl.RESOURCE_EXHAUSTED:case Pl.INTERNAL:case Pl.UNAVAILABLE:case Pl.UNAUTHENTICATED:return!1;case Pl.INVALID_ARGUMENT:case Pl.NOT_FOUND:case Pl.ALREADY_EXISTS:case Pl.PERMISSION_DENIED:case Pl.FAILED_PRECONDITION:case Pl.ABORTED:case Pl.OUT_OF_RANGE:case Pl.UNIMPLEMENTED:case Pl.DATA_LOSS:return!0;default:return Hl()}}function tf(t){if(void 0===t)return Ul("GRPC error has no .code"),Pl.UNKNOWN;switch(t){case $d.OK:return Pl.OK;case $d.CANCELLED:return Pl.CANCELLED;case $d.UNKNOWN:return Pl.UNKNOWN;case $d.DEADLINE_EXCEEDED:return Pl.DEADLINE_EXCEEDED;case $d.RESOURCE_EXHAUSTED:return Pl.RESOURCE_EXHAUSTED;case $d.INTERNAL:return Pl.INTERNAL;case $d.UNAVAILABLE:return Pl.UNAVAILABLE;case $d.UNAUTHENTICATED:return Pl.UNAUTHENTICATED;case $d.INVALID_ARGUMENT:return Pl.INVALID_ARGUMENT;case $d.NOT_FOUND:return Pl.NOT_FOUND;case $d.ALREADY_EXISTS:return Pl.ALREADY_EXISTS;case $d.PERMISSION_DENIED:return Pl.PERMISSION_DENIED;case $d.FAILED_PRECONDITION:return Pl.FAILED_PRECONDITION;case $d.ABORTED:return Pl.ABORTED;case $d.OUT_OF_RANGE:return Pl.OUT_OF_RANGE;case $d.UNIMPLEMENTED:return Pl.UNIMPLEMENTED;case $d.DATA_LOSS:return Pl.DATA_LOSS;default:return Hl()}}(Qd=$d||($d={}))[Qd.OK=0]="OK",Qd[Qd.CANCELLED=1]="CANCELLED",Qd[Qd.UNKNOWN=2]="UNKNOWN",Qd[Qd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qd[Qd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qd[Qd.NOT_FOUND=5]="NOT_FOUND",Qd[Qd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qd[Qd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qd[Qd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qd[Qd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qd[Qd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qd[Qd.ABORTED=10]="ABORTED",Qd[Qd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qd[Qd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qd[Qd.INTERNAL=13]="INTERNAL",Qd[Qd.UNAVAILABLE=14]="UNAVAILABLE",Qd[Qd.DATA_LOSS=15]="DATA_LOSS";var ef=function(){function t(t,e){this.comparator=t,this.root=e||rf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new nf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new nf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new nf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new nf(this.root,t,this.comparator,!0)},t}(),nf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),rf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Hl();if(this.right.isRed())throw Hl();var t=this.left.check();if(t!==this.right.check())throw Hl();return t+(this.isRed()?0:1)},t}();rf.EMPTY=null,rf.RED=!0,rf.BLACK=!1,rf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Hl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Hl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Hl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Hl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Hl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new rf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var of=function(){function t(t){this.comparator=t,this.data=new ef(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new sf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new sf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),sf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),af=new ef(bh.comparator);function uf(){return af}var cf=new ef(bh.comparator);function lf(){return cf}var hf=new ef(bh.comparator);function df(){return hf}var ff=new of(bh.comparator);function pf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ff,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var gf=new of($l);function mf(){return gf}var yf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,bf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Zl.min(),r,mf(),uf(),pf())},t}(),bf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ah.EMPTY_BYTE_STRING,n,pf(),pf(),pf())},t}(),vf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},wf=function(t,e){this.targetId=t,this.V=e},_f=function(t,e,n,r){void 0===n&&(n=ah.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Of=function(){function t(){this.S=0,this.D=Sf(),this.C=ah.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=pf(),e=pf(),n=pf();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Hl()}}),new bf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Sf()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Ef=function(){function t(t){this.W=t,this.G=new Map,this.H=uf(),this.J=Cf(),this.Y=new of($l)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Hl()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Fh(i))if(0===n){var o=new bh(i.path);this.tt(e,o,Dh.newNoDocument(o,Zl.min()))}else zl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Fh(o.target)){var s=new bh(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Dh.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=pf();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new yf(t,n,this.Y,this.H,r);return this.H=uf(),this.J=Cf(),this.Y=new of($l),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Of,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new of($l),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Fl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Of),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Cf(){return new ef(bh.comparator)}function Sf(){return new ef(bh.comparator)}var Tf={asc:"ASCENDING",desc:"DESCENDING"},If={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xf=function(t,e){this.databaseId=t,this.I=e};function Af(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function kf(t,e){return t.I?e.toBase64():e.toUint8Array()}function jf(t,e){return Af(t,e.toTimestamp())}function Nf(t){return zl(!!t),Zl.fromTimestamp(function(t){var e=ch(t);return new Xl(e.seconds,e.nanos)}(t))}function Rf(t,e){return function(t){return new rh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Df(t){var e=rh.fromString(t);return zl(ip(e)),e}function Pf(t,e){return Rf(t.databaseId,e.path)}function Lf(t,e){var n=Df(e);if(n.get(1)!==t.databaseId.projectId)throw new Ll(Pl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ll(Pl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bh(Uf(n))}function Mf(t,e){return Rf(t.databaseId,e)}function Vf(t){var e=Df(t);return 4===e.length?rh.emptyPath():Uf(e)}function Ff(t){return new rh(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Uf(t){return zl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function qf(t,e,n){return{name:Pf(t,e),fields:n.toProto().mapValue.fields}}function Bf(t,e,n){var r=Lf(t,e.name),i=Nf(e.updateTime),o=new Nh({mapValue:{fields:e.fields}}),s=Dh.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Hf(t,e){var n;if(e instanceof Hd)n={update:qf(t,e.key,e.value)};else if(e instanceof Yd)n={delete:Pf(t,e.key)};else if(e instanceof zd)n={update:qf(t,e.key,e.data),updateMask:rp(e.fieldMask)};else{if(!(e instanceof Xd))return Hl();n={verify:Pf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Sd)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Td)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kd)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Hl()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:jf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Hl()}(t,e.precondition)),n}function zf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Pd.updateTime(Nf(t.updateTime)):void 0!==t.exists?Pd.exists(t.exists):Pd.none()}(e.currentDocument):Pd.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(zl("REQUEST_TIME"===e.setToServerValue),n=new Sd):"appendMissingElements"in e?n=new Td(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xd(e.removeAllFromArray.values||[]):"increment"in e?n=new kd(t,e.increment):Hl();var r=oh.fromServerFormat(e.fieldPath);return new Rd(r,n)}(t,e)}):[];if(e.update){var i=Lf(t,e.update.name),o=new Nh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new sh((t.fieldPaths||[]).map(function(t){return oh.fromServerFormat(t)}))}(e.updateMask);return new zd(i,o,s,n,r)}return new Hd(i,o,n,r)}if(e.delete){var a=Lf(t,e.delete);return new Yd(a,n)}if(e.verify){var u=Lf(t,e.verify);return new Xd(u,n)}return Hl()}function Gf(t,e){return{documents:[Mf(t,e.path)]}}function Kf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Mf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Mf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(kh(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NAN"}};if(Ah(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(kh(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NOT_NAN"}};if(Ah(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jf(t.field),op:Zf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Jf(t.field),direction:Xf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||gh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Qf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Qf(e.endAt)),n}function Wf(t){var e=Vf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=$f(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Xh(tp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return gh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Yf(n.startAt));var l=null;return n.endAt&&(l=Yf(n.endAt)),nd(e,i,a,s,u,"F",c,l)}function $f(t){return t?void 0!==t.unaryFilter?[np(t)]:void 0!==t.fieldFilter?[ep(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return $f(t)}).reduce(function(t,e){return t.concat(e)}):Hl():[]}function Qf(t){return{before:t.before,values:t.position}}function Yf(t){return new Qh(t.values||[],!!t.before)}function Xf(t){return Tf[t]}function Zf(t){return If[t]}function Jf(t){return{fieldPath:t.canonicalString()}}function tp(t){return oh.fromServerFormat(t.fieldPath)}function ep(t){return Uh.create(tp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Hl()}}(t.fieldFilter.op),t.fieldFilter.value)}function np(t){switch(t.unaryFilter.op){case"IS_NAN":var e=tp(t.unaryFilter.field);return Uh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=tp(t.unaryFilter.field);return Uh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=tp(t.unaryFilter.field);return Uh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=tp(t.unaryFilter.field);return Uh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Hl()}}function rp(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function ip(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function op(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ap(e)),e=sp(t.get(n),e);return ap(e)}function sp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ap(t){return t+"\x01\x01"}function up(t){var e=t.length;if(zl(e>=2),2===e)return zl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),rh.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Hl(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Hl()}o=s+2}return new rh(r)}var cp=function(t,e){this.seconds=t,this.nanoseconds=e},lp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};lp.store="owner",lp.key="owner";var hp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};hp.store="mutationQueues",hp.keyPath="userId";var dp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};dp.store="mutations",dp.keyPath="batchId",dp.userMutationsIndex="userMutationsIndex",dp.userMutationsKeyPath=["userId","batchId"];var fp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,op(e)]},t.key=function(t,e,n){return[t,op(e),n]},t}();fp.store="documentMutations",fp.PLACEHOLDER=new fp;var pp=function(t,e){this.path=t,this.readTime=e},gp=function(t,e){this.path=t,this.version=e},mp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};mp.store="remoteDocuments",mp.readTimeIndex="readTimeIndex",mp.readTimeIndexPath="readTime",mp.collectionReadTimeIndex="collectionReadTimeIndex",mp.collectionReadTimeIndexPath=["parentPath","readTime"];var yp=function(t){this.byteSize=t};yp.store="remoteDocumentGlobal",yp.key="remoteDocumentGlobalKey";var bp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};bp.store="targets",bp.keyPath="targetId",bp.queryTargetsIndexName="queryTargetsIndex",bp.queryTargetsKeyPath=["canonicalId","targetId"];var vp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};vp.store="targetDocuments",vp.keyPath=["targetId","path"],vp.documentTargetsIndex="documentTargetsIndex",vp.documentTargetsKeyPath=["path","targetId"];var wp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wp.key="targetGlobalKey",wp.store="targetGlobal";var _p=function(t,e){this.collectionId=t,this.parent=e};_p.store="collectionParents",_p.keyPath=["collectionId","parent"];var Op=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Op.store="clientMetadata",Op.keyPath="clientId";var Ep=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ep.store="bundles",Ep.keyPath="bundleId";var Cp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Cp.store="namedQueries",Cp.keyPath="name";var Sp=Object(ws.f)(Object(ws.f)([],Object(ws.f)(Object(ws.f)([],Object(ws.f)(Object(ws.f)([],Object(ws.f)(Object(ws.f)([],[hp.store,dp.store,fp.store,mp.store,bp.store,lp.store,wp.store,vp.store]),[Op.store])),[yp.store])),[_p.store])),[Ep.store,Cp.store]),Tp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ip=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),xp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ap=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Hl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),kp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new xp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Rp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Vp(e.target.error);n.ft.reject(new Rp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Rp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Fl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Pp(e)},t}(),jp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(js.i)())&&Ul("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Fl("SimpleDb","Removing database:",t),Lp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(js.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(ws.b)(this,void 0,void 0,function(){var e,n=this;return Object(ws.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Fl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Rp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ll(Pl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Rp(t,n))},i.onupgradeneeded=function(t){Fl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Fl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ws.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(ws.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(ws.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=kp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Ap.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Fl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Np=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Lp(this.Pt.delete())},t}(),Rp=function(t){function e(e,n){var r=this;return(r=t.call(this,Pl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ws.c)(e,t),e}(Ll);function Dp(t){return"IndexedDbTransactionError"===t.name}var Pp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Fl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Fl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Lp(n)},t.prototype.add=function(t){return Fl("SimpleDb","ADD",this.store.name,t,t),Lp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Lp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Fl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Fl("SimpleDb","DELETE",this.store.name,t),Lp(this.store.delete(t))},t.prototype.count=function(){return Fl("SimpleDb","COUNT",this.store.name),Lp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Fl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Ap(function(n,r){e.onerror=function(t){var e=Vp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Ap(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Np(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ap){var a=s.catch(function(t){return o.done(),Ap.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Ap.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Lp(t){return new Ap(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Vp(t.target.error);n(e)}})}var Mp=!1;function Vp(t){var e=jp._t(Object(js.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ll("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Mp||(Mp=!0,setTimeout(function(){throw r},0)),r}}return t}var Fp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(ws.c)(e,t),e}(Ip);function Up(t,e){var n=Gl(t);return jp.It(n.Mt,e)}var qp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Vd(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Fd(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Fd(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Zl.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},pf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ql(this.mutations,t.mutations,function(t,e){return qd(t,e)})&&Ql(this.baseMutations,t.baseMutations,function(t,e){return qd(t,e)})},t}(),Bp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){zl(e.mutations.length===r.length);for(var i=df(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Hp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Zl.min()),void 0===o&&(o=Zl.min()),void 0===s&&(s=ah.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),zp=function(t){this.Lt=t};function Gp(t,e){if(e.document)return Bf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bh.fromSegments(e.noDocument.path),r=Yp(e.noDocument.readTime),i=Dh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=bh.fromSegments(e.unknownDocument.path);return r=Yp(e.unknownDocument.version),Dh.newUnknownDocument(o,r)}return Hl()}function Kp(t,e,n){var r=Wp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Pf(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Af(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new mp(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Qp(e.version);return s=e.hasCommittedMutations,new mp(null,new pp(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Qp(e.version);return new mp(new gp(c,l),null,null,!0,r,i)}return Hl()}function Wp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function $p(t){var e=new Xl(t[0],t[1]);return Zl.fromTimestamp(e)}function Qp(t){var e=t.toTimestamp();return new cp(e.seconds,e.nanoseconds)}function Yp(t){var e=new Xl(t.seconds,t.nanoseconds);return Zl.fromTimestamp(e)}function Xp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return zf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return zf(t.Lt,e)}),o=Xl.fromMillis(e.localWriteTimeMs);return new qp(e.batchId,o,n,i)}function Zp(t){var e,n,r=Yp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Yp(t.lastLimboFreeSnapshotVersion):Zl.min();return void 0!==t.query.documents?(zl(1===(n=t.query).documents.length),e=ld(rd(Vf(n.documents[0])))):e=function(t){return ld(Wf(t))}(t.query),new Hp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ah.fromBase64String(t.resumeToken))}function Jp(t,e){var n,r=Qp(e.snapshotVersion),i=Qp(e.lastLimboFreeSnapshotVersion);n=Fh(e.target)?Gf(t.Lt,e.target):Kf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new bp(e.targetId,Mh(e.target),r,o,e.sequenceNumber,i,n)}function tg(t){var e=Wf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?hd(e,e.limit,"L"):e}var eg=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return ng(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Yp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return ng(t).put({bundleId:(n=e).id,createTime:Qp(Nf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return rg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:tg(e.bundledQuery),readTime:Yp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return rg(t).put(function(t){return{name:t.name,readTime:Qp(Nf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ng(t){return Up(t,Ep.store)}function rg(t){return Up(t,Cp.store)}var ig=function(){function t(){this.Bt=new og}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ap.resolve()},t.prototype.getCollectionParents=function(t,e){return Ap.resolve(this.Bt.getEntries(e))},t}(),og=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new of(rh.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new of(rh.comparator)).toArray()},t}(),sg=function(){function t(){this.qt=new og}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:op(i)};return ag(t).put(o)}return Ap.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Yl(e),""],!1,!0);return ag(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(up(o.parent))}return n})},t}();function ag(t){return Up(t,_p.store)}var ug={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cg=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function lg(t,e,n){var r=t.store(dp.store),i=t.store(fp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){zl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=fp.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Ap.waitFor(o).next(function(){return c})}function hg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Hl();e=t.noDocument}return JSON.stringify(e).length}cg.DEFAULT_COLLECTION_PERCENTILE=10,cg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cg.DEFAULT=new cg(41943040,cg.DEFAULT_COLLECTION_PERCENTILE,cg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cg.DISABLED=new cg(-1,0,0);var dg=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return zl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pg(t).Ot({index:dp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=gg(t),s=pg(t);return s.add({}).next(function(a){zl("number"==typeof a);for(var u=new qp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Hf(t.Lt,e)}),i=n.mutations.map(function(e){return Hf(t.Lt,e)});return new dp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new of(function(t,e){return $l(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=fp.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,fp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Ap.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return pg(t).get(e).next(function(t){return t?(zl(t.userId===n.userId),Xp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Ap.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return pg(t).Ot({index:dp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(zl(e.batchId>=r),o=Xp(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return pg(t).Ot({index:dp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pg(t).Nt(dp.userMutationsIndex,n).next(function(t){return t.map(function(t){return Xp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=fp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return gg(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=up(r[1]);if(a===n.userId&&e.path.isEqual(c))return pg(t).get(u).next(function(t){if(!t)throw Hl();zl(t.userId===n.userId),o.push(Xp(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new of($l),i=[];return e.forEach(function(e){var o=fp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=gg(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=up(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Ap.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=fp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new of($l);return gg(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=up(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(pg(t).get(e).next(function(t){if(null===t)throw Hl();zl(t.userId===n.userId),r.push(Xp(n.R,t))}))}),Ap.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return lg(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Ap.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Ap.resolve();var r=IDBKeyRange.lowerBound(fp.prefixForUser(e.userId)),i=[];return gg(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=up(t[1]);i.push(o)}else r.done()}).next(function(){zl(0===i.length)})})},t.prototype.containsKey=function(t,e){return fg(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return mg(t).get(this.userId).next(function(t){return t||new hp(e.userId,-1,"")})},t}();function fg(t,e,n){var r=fp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return gg(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function pg(t){return Up(t,dp.store)}function gg(t){return Up(t,fp.store)}function mg(t){return Up(t,hp.store)}var yg=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),bg=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new yg(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Zl.fromTimestamp(new Xl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return vg(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return zl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return vg(t).Ot(function(s,a){var u=Zp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Ap.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return vg(t).Ot(function(t,n){var r=Zp(n);e(r)})},t.prototype.Xt=function(t){return wg(t).get(wp.key).next(function(t){return zl(null!==t),t})},t.prototype.Zt=function(t,e){return wg(t).put(wp.key,e)},t.prototype.te=function(t,e){return vg(t).put(Jp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Mh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return vg(t).Ot({range:r,index:bp.queryTargetsIndexName},function(t,n,r){var o=Zp(n);Vh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=_g(t);return e.forEach(function(e){var s=op(e.path);i.push(o.put(new vp(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Ap.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=_g(t);return Ap.forEach(e,function(e){var o=op(e.path);return Ap.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=_g(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=_g(t),i=pf();return r.Ot({range:n,kt:!0},function(t,e,n){var r=up(t[1]),o=new bh(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=op(e.path),r=IDBKeyRange.bound([n],[Yl(n)],!1,!0),i=0;return _g(t).Ot({index:vp.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return vg(t).get(e).next(function(t){return t?Zp(t):null})},t}();function vg(t){return Up(t,bp.store)}function wg(t){return Up(t,wp.store)}function _g(t){return Up(t,vp.store)}function Og(t){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(e){if(t.code!==Pl.FAILED_PRECONDITION||t.message!==Tp)throw t;return Fl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Eg(t,e){var n=t[1],r=e[1],i=$l(t[0],e[0]);return 0===i?$l(n,r):i}var Cg=function(){function t(t){this.ne=t,this.buffer=new of(Eg),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Eg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Sg=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Fl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(ws.b)(e,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Dp(e=n.sent())?(Fl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Og(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Tg=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ap.resolve(Dl.o);var r=new Cg(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Fl("LruGarbageCollector","Garbage collection skipped; disabled"),Ap.resolve(ug)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Fl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ug):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Fl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Vl()<=Ns.a.DEBUG&&Fl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ap.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Ig=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Tg(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return xg(t,n)},t.prototype.removeReference=function(t,e,n){return xg(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return xg(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return mg(t).$t(function(r){return fg(t,r,e).next(function(t){return t&&(n=!0),Ap.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),_g(t).delete([0,op(s.path)])})});i.push(u)}}).next(function(){return Ap.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return xg(t,e)},t.prototype.we=function(t,e){var n,r=_g(t),i=Dl.o;return r.Ot({index:vp.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Dl.o&&e(new bh(up(n)),i),i=s,n=o):i=Dl.o}).next(function(){i!==Dl.o&&e(new bh(up(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function xg(t,e){return _g(t).put(function(t,e){return new vp(0,op(t.path),e)}(e,t.currentSequenceNumber))}var Ag=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){th(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return eh(this.inner)},t}(),kg=function(){function t(){this.changes=new Ag(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Zl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Dh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ap.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),jg=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Dg(t).put(Pg(e),n)},t.prototype.removeEntry=function(t,e){var n=Dg(t),r=Pg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Dg(t).get(Pg(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Dg(t).get(Pg(e)).next(function(t){return{document:n.ye(e,t),size:hg(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=uf();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=uf(),i=new ef(bh.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,hg(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ap.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Dg(t).Ot({range:r},function(t,e,r){for(var s=bh.fromSegments(t);o&&bh.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=uf(),o=e.path.length+1,s={};if(n.isEqual(Zl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Wp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=mp.collectionReadTimeIndex}return Dg(t).Ot(s,function(t,n,s){if(t.length===o){var a=Gp(r.R,n);e.path.isPrefixOf(a.key.path)?gd(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Ng(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Rg(t).get(yp.key).next(function(t){return zl(!!t),t})},t.prototype.me=function(t,e){return Rg(t).put(yp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Gp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Zl.min()))return n}return Dh.newInvalidDocument(t)},t}(),Ng=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ag(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(ws.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new of(function(t,e){return $l(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Kp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=hg(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Kp(e.Ie.R,Dh.newNoDocument(o,Zl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Ap.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(kg);function Rg(t){return Up(t,yp.store)}function Dg(t){return Up(t,mp.store)}function Pg(t){return t.path.toArray()}var Lg=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;zl(n<r&&n>=0&&r<=11);var o=new kp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(lp.store)}(t),function(t){t.createObjectStore(hp.store,{keyPath:hp.keyPath}),t.createObjectStore(dp.store,{keyPath:dp.keyPath,autoIncrement:!0}).createIndex(dp.userMutationsIndex,dp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fp.store)}(t),Mg(t),function(t){t.createObjectStore(mp.store)}(t));var s=Ap.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(vp.store),t.deleteObjectStore(bp.store),t.deleteObjectStore(wp.store)}(t),Mg(t)),s=s.next(function(){return function(t){var e=t.store(wp.store),n=new wp(0,0,Zl.min().toTimestamp(),0);return e.put(wp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(dp.store).Nt().next(function(n){t.deleteObjectStore(dp.store),t.createObjectStore(dp.store,{keyPath:dp.keyPath,autoIncrement:!0}).createIndex(dp.userMutationsIndex,dp.userMutationsKeyPath,{unique:!0});var r=e.store(dp.store),i=n.map(function(t){return r.put(t)});return Ap.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Op.store,{keyPath:Op.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(yp.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(mp.store);e.createIndex(mp.readTimeIndex,mp.readTimeIndexPath,{unique:!1}),e.createIndex(mp.collectionReadTimeIndex,mp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Ep.store,{keyPath:Ep.keyPath})}(t),function(t){t.createObjectStore(Cp.store,{keyPath:Cp.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(mp.store).Ot(function(t,n){e+=hg(n)}).next(function(){var n=new yp(e);return t.store(yp.store).put(yp.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(hp.store),r=t.store(dp.store);return n.Nt().next(function(n){return Ap.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(dp.userMutationsIndex,i).next(function(r){return Ap.forEach(r,function(r){zl(r.userId===n.userId);var i=Xp(e.R,r);return lg(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(vp.store),n=t.store(mp.store);return t.store(wp.store).get(wp.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new rh(n),s=function(t){return[0,op(t)]}(o);r.push(e.get(s).next(function(n){return n?Ap.resolve():function(n){return e.put(new vp(0,op(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Ap.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(_p.store,{keyPath:_p.keyPath});var n=e.store(_p.store),r=new og,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:op(i)})}};return e.store(mp.store).Ot({kt:!0},function(t,e){var n=new rh(t);return i(n.popLast())}).next(function(){return e.store(fp.store).Ot({kt:!0},function(t,e){var n=up(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(bp.store);return n.Ot(function(t,r){var i=Zp(r),o=Jp(e.R,i);return n.put(o)})},t}();function Mg(t){t.createObjectStore(vp.store,{keyPath:vp.keyPath}).createIndex(vp.documentTargetsIndex,vp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(bp.store,{keyPath:bp.keyPath}).createIndex(bp.queryTargetsIndexName,bp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wp.store)}var Vg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Fg=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ll(Pl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ig(this,i),this.Le=n+"main",this.R=new zp(u),this.Be=new jp(this.Le,11,new Lg(this.R)),this.qe=new bg(this.referenceDelegate,this.R),this.Ut=new sg,this.Ue=function(t,e){return new jg(t,e)}(this.R,this.Ut),this.Qe=new eg,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Ul("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ll(Pl.FAILED_PRECONDITION,Vg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Dl(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(ws.b)(e,void 0,void 0,function(){return Object(ws.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(ws.b)(e,void 0,void 0,function(){return Object(ws.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(ws.b)(e,void 0,void 0,function(){return Object(ws.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return qg(e).put(new Op(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Dp(e))return Fl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Fl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Ug(t).get(lp.key).next(function(t){return Ap.resolve(e.tn(t))})},t.prototype.en=function(t){return qg(t).delete(this.clientId)},t.prototype.nn=function(){return Object(ws.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(ws.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Up(t,Op.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ap.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ap.resolve(!0):Ug(t).get(lp.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ll(Pl.FAILED_PRECONDITION,Vg);return!1}}return!(!e.networkEnabled||!e.inForeground)||qg(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Fl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(ws.b)(this,void 0,void 0,function(){var t=this;return Object(ws.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[lp.store,Op.store],function(e){var n=new Fp(e,Dl.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return qg(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return dg.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Fl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Sp,function(o){return r=new Fp(o,i.Ne?i.Ne.next():Dl.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Ul("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ll(Pl.FAILED_PRECONDITION,Tp);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Ug(t).get(lp.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ll(Pl.FAILED_PRECONDITION,Vg)})},t.prototype.Ze=function(t){var e=new lp(this.clientId,this.allowTabSynchronization,Date.now());return Ug(t).put(lp.key,e)},t.yt=function(){return jp.yt()},t.prototype.Xe=function(t){var e=this,n=Ug(t);return n.get(lp.key).next(function(t){return e.tn(t)?(Fl("IndexedDbPersistence","Releasing primary lease."),n.delete(lp.key)):Ap.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ul("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Fl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ul("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ul("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ug(t){return Up(t,lp.store)}function qg(t){return Up(t,Op.store)}function Bg(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Hg=function(t,e){this.progress=t,this.wn=e},zg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return bh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):ud(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new bh(e)).next(function(t){var e=lf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=lf();return this.Ut.getCollectionParents(t,i).next(function(s){return Ap.forEach(s,function(s){var a=function(t,e){return new ed(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Dh.newInvalidDocument(c),r=r.insert(c,l)),Fd(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){gd(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=pf(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof zd&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Gg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=pf(),i=pf(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Kg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Zl.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(id(e)||od(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Vl()<=Ns.a.DEBUG&&Fl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pd(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new of(md(t));return e.forEach(function(e,r){gd(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Vl()<=Ns.a.DEBUG&&Fl("QueryEngine","Using full collection scan to execute query:",pd(e)),this.Sn.getDocumentsMatchingQuery(t,e,Zl.min())},t}(),Wg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ef($l),this.kn=new Ag(function(t){return Mh(t)},Vh),this.On=Zl.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new zg(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function $g(t,e,n,r){return new Wg(t,e,n,r)}function Qg(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ws.d)(this,function(s){switch(s.label){case 0:return n=Gl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new zg(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=pf(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Yg(t,e){var n=Gl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ap.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);zl(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Xg(t){var e=Gl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Zg(t,e){var n=Gl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return zl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=uf();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Jg(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Zl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Ap.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Jg(t,e,n,r,i){var o=pf();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=uf();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Zl.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Fl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function tm(t,e){var n=Gl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function em(t,e){var n=Gl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Ap.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Hp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function nm(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ws.d)(this,function(a){switch(a.label){case 0:r=Gl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Dp(s=a.sent()))throw s;return Fl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function rm(t,e,n){var r=Gl(t),i=Zl.min(),o=pf();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Gl(t),i=r.kn.get(n);return void 0!==i?Ap.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,ld(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Zl.min(),n?o:pf())}).next(function(t){return{documents:t,Bn:o}})})}function im(t,e){var n=Gl(t),r=Gl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function om(t){var e=Gl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Gl(t),i=uf(),o=Wp(n),s=Dg(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:mp.readTimeIndex,range:a},function(t,e){var n=Gp(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:$p(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function sm(t){return Object(ws.b)(this,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){return[2,(e=Gl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Dg(t),n=Zl.min();return e.Ot({index:mp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=$p(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function am(t,e,n,r){return Object(ws.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return Object(ws.d)(this,function(p){switch(p.label){case 0:for(i=Gl(t),o=pf(),s=uf(),a=df(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,em(i,function(t){return ld(rd(rh.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Jg(t,d,s,Zl.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function um(t,e,n){return void 0===n&&(n=pf()),Object(ws.b)(this,void 0,void 0,function(){var r,i;return Object(ws.d)(this,function(o){switch(o.label){case 0:return[4,em(t,ld(tg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Gl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Nf(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(ah.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var cm=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ap.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Nf(n.createTime)}),Ap.resolve()},t.prototype.getNamedQuery=function(t,e){return Ap.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:tg(t.bundledQuery),readTime:Nf(t.readTime)}}(e)),Ap.resolve()},t}(),lm=function(){function t(){this.Wn=new of(hm.Gn),this.zn=new of(hm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new hm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new hm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new bh(new rh([])),r=new hm(n,t),i=new hm(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new bh(new rh([])),n=new hm(e,t),r=new hm(e,t+1),i=pf();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new hm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),hm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return bh.comparator(t.key,e.key)||$l(t.ns,e.ns)},t.Hn=function(t,e){return $l(t.ns,e.ns)||bh.comparator(t.key,e.key)},t}(),dm=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new of(hm.Gn)}return t.prototype.checkEmpty=function(t){return Ap.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new qp(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new hm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ap.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ap.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Ap.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ap.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ap.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new hm(e,0),i=new hm(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Ap.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new of($l);return e.forEach(function(t){var e=new hm(t,0),i=new hm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Ap.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;bh.isDocumentKey(i)||(i=i.child(""));var o=new hm(new bh(i),0),s=new of($l);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Ap.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;zl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ap.forEach(e.mutations,function(i){var o=new hm(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new hm(e,0),r=this.rs.firstAfterOrEqual(n);return Ap.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ap.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),fm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ef(bh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ap.resolve(n?n.document.clone():Dh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=uf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Dh.newInvalidDocument(t))}),Ap.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=uf(),i=new bh(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||gd(e,u)&&(r=r.insert(u.key,u.clone()))}return Ap.resolve(r)},t.prototype.fs=function(t,e){return Ap.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new pm(this)},t.prototype.getSize=function(t){return Ap.resolve(this.size)},t}(),pm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(ws.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Ap.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(kg),gm=function(){function t(t){this.persistence=t,this.ds=new Ag(function(t){return Mh(t)},Vh),this.lastRemoteSnapshotVersion=Zl.min(),this.highestTargetId=0,this.ws=0,this._s=new lm,this.targetCount=0,this.ys=yg.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Ap.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ap.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ap.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ap.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ap.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new yg(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ap.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ap.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ap.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ap.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Ap.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ap.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ap.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Ap.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ap.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ap.resolve(n)},t.prototype.containsKey=function(t,e){return Ap.resolve(this._s.containsKey(e))},t}(),mm=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Dl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new gm(this),this.Ut=new ig,this.Ue=function(t,e){return new fm(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new zp(e),this.Qe=new cm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new dm(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Fl("MemoryPersistence","Starting transaction:",t);var i=new ym(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Ap.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),ym=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(ws.c)(e,t),e}(Ip),bm=function(){function t(t){this.persistence=t,this.As=new lm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Hl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ap.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ap.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ap.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ap.forEach(this.vs,function(r){var i=bh.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ap.or([function(){return Ap.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),vm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function wm(t,e){return"firestore_clients_"+t+"_"+e}function _m(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Om(t,e){return"firestore_targets_"+t+"_"+e}vm.UNAUTHENTICATED=new vm(null),vm.GOOGLE_CREDENTIALS=new vm("google-credentials-uid"),vm.FIRST_PARTY=new vm("first-party-uid");var Em=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ll(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Ul("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Cm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ll(i.error.code,i.error.message)),o?new t(e,i.state,r):(Ul("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Sm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=mf(),s=0;i&&s<r.activeTargetIds.length;++s)i=yh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Ul("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Tm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ul("SharedClientState","Failed to parse online state: "+e),null)},t}(),Im=function(){function t(){this.activeTargetIds=mf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),xm=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ef($l),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=wm(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Im),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ws.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(ws.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(wm(this.persistenceKey,r)))&&(o=Sm.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Om(this.persistenceKey,t));if(n){var r=Cm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Om(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Fl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Fl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Fl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Fl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Ul("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(ws.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(ws.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Dl.o;if(null!=t)try{var n=JSON.parse(t);zl("number"==typeof n),e=n}catch(t){Ul("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Dl.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Em(this.currentUser,t,e,n),i=_m(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=_m(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Om(this.persistenceKey,t),i=new Cm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Sm.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Em.Vs(new vm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Cm.Vs(r,e)},t.prototype.js=function(t){return Tm.Vs(t)},t.prototype.ii=function(t){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Fl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=mf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Am=function(){function t(){this.li=new Im,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Im,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),km=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),jm=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Fl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Fl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Nm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Rm=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Dm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(ws.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Rl;s.listenOnce(kl.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Al.NO_ERROR:var e=s.getResponseJson();Fl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Al.TIMEOUT:Fl("Connection",'RPC "'+t+'" timed out'),o(new Ll(Pl.DEADLINE_EXCEEDED,"Request time out"));break;case Al.HTTP_ERROR:var n=s.getStatus();if(Fl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Pl).indexOf(e)>=0?e:Pl.UNKNOWN}(r.status);o(new Ll(a,r.message))}else o(new Ll(Pl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ll(Pl.UNAVAILABLE,"Connection failed."));break;default:Hl()}}finally{Fl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Cl,i=Iu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(js.n)()||Object(js.p)()||Object(js.l)()||Object(js.m)()||Object(js.q)()||Object(js.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Fl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Rm({Ei:function(t){c?Fl("Connection","Not sending because WebChannel is closed:",t):(u||(Fl("Connection","Opening WebChannel transport."),a.open(),u=!0),Fl("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Nl.EventType.OPEN,function(){c||Fl("Connection","WebChannel transport opened.")}),h(a,Nl.EventType.CLOSE,function(){c||(c=!0,Fl("Connection","WebChannel transport closed"),l.Vi())}),h(a,Nl.EventType.ERROR,function(t){c||(c=!0,ql("Connection","WebChannel transport errored:",t),l.Vi(new Ll(Pl.UNAVAILABLE,"The operation could not be completed")))}),h(a,Nl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];zl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Fl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=$d[t];if(void 0!==e)return tf(e)}(i),s=r.message;void 0===o&&(o=Pl.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Ll(o,s)),a.close()}else Fl("Connection","WebChannel received:",n),l.Si(n)}}),h(i,jl.STAT_EVENT,function(t){10===t.stat?Fl("Connection","Detected buffering proxy"):11===t.stat&&Fl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Fl("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Fl("RestConnection","Received: ",t),t},function(e){throw ql("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Nm[t]},t}());function Pm(){return"undefined"!=typeof window?window:null}function Lm(){return"undefined"!=typeof document?document:null}function Mm(t){return new xf(t,!0)}var Vm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Fl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Fm=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Vm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Pl.RESOURCE_EXHAUSTED?(Ul(e.toString()),Ul("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Pl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Ll(Pl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(ws.b)(t,void 0,void 0,function(){return Object(ws.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Fl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Fl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Um=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(ws.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Hl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(zl(void 0===e||"string"==typeof e),ah.fromBase64String(e||"")):(zl(void 0===e||e instanceof Uint8Array),ah.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Pl.UNKNOWN:tf(t.code);return new Ll(e,t.message||"")}(a);n=new _f(r,i,o,s||null)}else if("documentChange"in e){i=Lf(t,(r=e.documentChange).document.name),o=Nf(r.document.updateTime);var a=new Nh({mapValue:{fields:r.document.fields}}),u=(s=Dh.newFoundDocument(i,o,a),r.targetIds||[]);n=new vf(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Lf(t,(r=e.documentDelete).document),o=r.readTime?Nf(r.readTime):Zl.min(),a=Dh.newNoDocument(i,o),n=new vf([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Lf(t,(r=e.documentRemove).document),n=new vf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Hl();var c=e.filter;i=new Zd(r=c.count||0),n=new wf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Zl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Zl.min():e.readTime?Nf(e.readTime):Zl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ff(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Fh(r)?{documents:Gf(t,r)}:{query:Kf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=kf(t,e.resumeToken):e.snapshotVersion.compareTo(Zl.min())>0&&(n.readTime=Af(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ff(this.R),e.removeTarget=t,this.cr(e)},e}(Fm),qm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(ws.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(zl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(zl(void 0!==e),t.map(function(t){return function(t,e){var n=Nf(t.updateTime?t.updateTime:e);return n.isEqual(Zl.min())&&(n=Nf(e)),new Dd(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Nf(t.commitTime);return this.listener.Tr(n,e)}return zl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ff(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Hf(e.R,t)})};this.cr(n)},e}(Fm),Bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(ws.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ll(Pl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Pl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ll(Pl.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Pl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ll(Pl.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Hm=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ul(e),this.Vr=!1):Fl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),zm=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(ws.b)(o,void 0,void 0,function(){return Object(ws.d)(this,function(t){switch(t.label){case 0:return Jm(this)?(Fl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ws.b)(this,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){switch(n.label){case 0:return(e=Gl(t)).$r.add(4),[4,Km(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Gm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Hm(n,r)};function Gm(t){return Object(ws.b)(this,void 0,void 0,function(){var e,n;return Object(ws.d)(this,function(r){switch(r.label){case 0:if(!Jm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Km(t){return Object(ws.b)(this,void 0,void 0,function(){var e,n;return Object(ws.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Wm(t,e){var n=Gl(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Zm(n)?Xm(n):py(n).er()&&Qm(n,e))}function $m(t,e){var n=Gl(t),r=py(n);n.Or.delete(e),r.er()&&Ym(n,e),0===n.Or.size&&(r.er()?r.ir():Jm(n)&&n.Br.set("Unknown"))}function Qm(t,e){t.qr.U(e.targetId),py(t).mr(e)}function Ym(t,e){t.qr.U(e),py(t).yr(e)}function Xm(t){t.qr=new Ef({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),py(t).start(),t.Br.Sr()}function Zm(t){return Jm(t)&&!py(t).tr()&&t.Or.size>0}function Jm(t){return 0===Gl(t).$r.size}function ty(t){t.qr=void 0}function ey(t){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(e){return t.Or.forEach(function(e,n){Qm(t,e)}),[2]})})}function ny(t,e){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(n){return ty(t),Zm(t)?(t.Br.Nr(e),Xm(t)):t.Br.set("Unknown"),[2]})})}function ry(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r,i,o;return Object(ws.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof _f&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ws.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Fl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,iy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof vf?t.qr.X(e):e instanceof wf?t.qr.rt(e):t.qr.et(e),n.isEqual(Zl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Xg(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(ah.EMPTY_BYTE_STRING,n.snapshotVersion)),Ym(t,e);var r=new Hp(n.target,e,1,n.sequenceNumber);Qm(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Fl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,iy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function iy(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r=this;return Object(ws.d)(this,function(i){switch(i.label){case 0:if(!Dp(e))throw e;return t.$r.add(1),[4,Km(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Xg(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(ws.b)(r,void 0,void 0,function(){return Object(ws.d)(this,function(e){switch(e.label){case 0:return Fl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Gm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function oy(t,e){return e().catch(function(n){return iy(t,n,e)})}function sy(t){return Object(ws.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(ws.d)(this,function(s){switch(s.label){case 0:e=Gl(t),n=gy(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Jm(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,tm(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=gy(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,iy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return ay(e)&&uy(e),[2]}})})}function ay(t){return Jm(t)&&!gy(t).tr()&&t.kr.length>0}function uy(t){gy(t).start()}function cy(t){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(e){return gy(t).Ar(),[2]})})}function ly(t){return Object(ws.b)(this,void 0,void 0,function(){var e,n,r;return Object(ws.d)(this,function(i){for(e=gy(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function hy(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r,i;return Object(ws.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Bp.from(r,e,n),[4,oy(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,sy(t)];case 2:return o.sent(),[2]}})})}function dy(t,e){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(n){switch(n.label){case 0:return e&&gy(t).pr?[4,function(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r;return Object(ws.d)(this,function(i){switch(i.label){case 0:return Jd(r=e.code)&&r!==Pl.ABORTED?(n=t.kr.shift(),gy(t).sr(),[4,oy(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,sy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ay(t)&&uy(t),[2]}})})}function fy(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n;return Object(ws.d)(this,function(r){switch(r.label){case 0:return n=Gl(t),e?(n.$r.delete(2),[4,Gm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Km(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function py(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Gl(t);return r.br(),new Um(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ey.bind(null,t),Ri:ny.bind(null,t),_r:ry.bind(null,t)}),t.Mr.push(function(n){return Object(ws.b)(e,void 0,void 0,function(){return Object(ws.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Zm(t)?Xm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),ty(t),e.label=3;case 3:return[2]}})})})),t.Ur}function gy(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Gl(t);return r.br(),new qm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:cy.bind(null,t),Ri:dy.bind(null,t),Ir:ly.bind(null,t),Tr:hy.bind(null,t)}),t.Mr.push(function(n){return Object(ws.b)(e,void 0,void 0,function(){return Object(ws.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,sy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Fl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var my=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ll(Pl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function yy(t,e){if(Ul("AsyncQueue",e+": "+t),Dp(t))return new Ll(Pl.UNAVAILABLE,e+": "+t);throw t}var by=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||bh.comparator(e.key,n.key)}:function(t,e){return bh.comparator(t.key,e.key)},this.keyedMap=lf(),this.sortedSet=new ef(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),vy=function(){function t(){this.Kr=new ef(bh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Hl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),wy=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,by.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),_y=function(){this.Wr=void 0,this.listeners=[]},Oy=function(){this.queries=new Ag(function(t){return fd(t)},dd),this.onlineState="Unknown",this.Gr=new Set};function Ey(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(ws.d)(this,function(c){switch(c.label){case 0:if(n=Gl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new _y),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=yy(a,"Initialization of query '"+pd(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Iy(n),[2]}})})}function Cy(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ws.d)(this,function(a){return n=Gl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Sy(t,e){for(var n=Gl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Iy(n)}function Ty(t,e,n){var r=Gl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Iy(t){t.Gr.forEach(function(t){t.next()})}var xy=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new wy(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=wy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Ay=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ky=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Lf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Bf(this.R,t.document,!1):Dh.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Nf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ky(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||pf()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ws.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(ws.d)(this,function(o){switch(o.label){case 0:return[4,am(this.localStore,new ky(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,um(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Hg(Object.assign({},this.progress),t))]}})})}}();var jy=function(t){this.key=t},Ny=function(t){this.key=t},Ry=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=pf(),this.mutatedKeys=pf(),this.lo=md(t),this.fo=new by(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new vy,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=id(this.query)&&i.size===this.query.limit?i.last():null,c=od(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=gd(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),id(this.query)||od(this.query))for(;s.size>this.query.limit;){var l=id(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new wy(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new vy,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=pf(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Ny(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new jy(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=pf();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return wy.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Dy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Py=function(t){this.key=t,this.bo=!1},Ly=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ag(function(t){return fd(t)},dd),this.Vo=new Map,this.So=new Set,this.Do=new ef(bh.comparator),this.Co=new Map,this.No=new lm,this.xo={},this.Fo=new Map,this.ko=yg.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function My(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ws.d)(this,function(a){switch(a.label){case 0:return n=db(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,em(n.localStore,ld(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Vy(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Wm(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Vy(t,e,n,r){return Object(ws.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(ws.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(ws.b)(this,void 0,void 0,function(){var i,o,s;return Object(ws.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,rm(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Xy(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,rm(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Ry(e,i.Bn),s=o._o(i.documents),a=bf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Xy(t,n,u.To),c=new Dy(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Fy(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i;return Object(ws.d)(this,function(o){switch(o.label){case 0:return n=Gl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!dd(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,nm(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),$m(n.remoteStore,r.targetId),Qy(n,r.targetId)}).catch(Og)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Qy(n,r.targetId),[4,nm(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Uy(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ws.d)(this,function(a){switch(a.label){case 0:r=fb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Gl(t),i=Xl.now(),o=e.reduce(function(t,e){return t.add(e.key)},pf());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ud(c,n.get(c.key));null!=l&&s.push(new zd(c.key,l,Rh(l.toProto().mapValue),Pd.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ef($l)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,tb(r,i.changes)];case 3:return a.sent(),[4,sy(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=yy(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function qy(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r;return Object(ws.d)(this,function(i){switch(i.label){case 0:n=Gl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Zg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(zl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?zl(r.bo):t.removedDocuments.size>0&&(zl(r.bo),r.bo=!1))}),[4,tb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Og(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function By(t,e,n){var r=Gl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Gl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Iy(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hy(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(ws.d)(this,function(c){switch(c.label){case 0:return(r=Gl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new ef(bh.comparator)).insert(o,Dh.newNoDocument(o,Zl.min())),a=pf().add(o),u=new yf(Zl.min(),new Map,new of($l),s,a),[4,qy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Jy(r),[3,4];case 2:return[4,nm(r.localStore,e,!1).then(function(){return Qy(r,e,n)}).catch(Og)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function zy(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i;return Object(ws.d)(this,function(o){switch(o.label){case 0:n=Gl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Yg(n.localStore,e)];case 2:return i=o.sent(),$y(n,r,null),Wy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,tb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Og(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Gy(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r,i;return Object(ws.d)(this,function(o){switch(o.label){case 0:r=Gl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Gl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return zl(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),$y(r,e,n),Wy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,tb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Og(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ky(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ws.d)(this,function(a){switch(a.label){case 0:Jm((n=Gl(t)).remoteStore)||Fl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Gl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=yy(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Wy(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function $y(t,e,n){var r=Gl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Qy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Yy(t,e)})}function Yy(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&($m(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Jy(t))}function Xy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof jy?(t.No.addReference(o.key,e),Zy(t,o)):o instanceof Ny?(Fl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Yy(t,o.key)):Hl()}}function Zy(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Fl("SyncEngine","New document in limbo: "+n),t.So.add(r),Jy(t))}function Jy(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bh(rh.fromString(e)),r=t.ko.next();t.Co.set(r,new Py(n)),t.Do=t.Do.insert(n,r),Wm(t.remoteStore,new Hp(ld(rd(n.path)),r,2,Dl.o))}}function tb(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ws.d)(this,function(a){switch(a.label){case 0:return r=Gl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Gg.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(ws.d)(this,function(l){switch(l.label){case 0:n=Gl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ap.forEach(e,function(e){return Ap.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Ap.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Dp(r=l.sent()))throw r;return Fl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function eb(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r;return Object(ws.d)(this,function(i){switch(i.label){case 0:return(n=Gl(t)).currentUser.isEqual(e)?[3,3]:(Fl("SyncEngine","User change. New user:",e.toKey()),[4,Qg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Ll(Pl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,tb(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function nb(t,e){var n=Gl(t),r=n.Co.get(e);if(r&&r.bo)return pf().add(r.key);var i=pf(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function rb(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i;return Object(ws.d)(this,function(o){switch(o.label){case 0:return[4,rm((n=Gl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Xy(n,e.targetId,i.To),i)]}})})}function ib(t){return Object(ws.b)(this,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){return[2,om((e=Gl(t)).localStore).then(function(t){return tb(e,t)})]})})}function ob(t,e,n,r){return Object(ws.b)(this,void 0,void 0,function(){var i,o;return Object(ws.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Gl(t),r=Gl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Ap.resolve(null)})})}((i=Gl(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,sy(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?($y(i,e,r||null),Wy(i,e),function(t,e){Gl(Gl(t)._n).Gt(e)}(i.localStore,e)):Hl(),s.label=4;case 4:return[4,tb(i,o)];case 5:return s.sent(),[3,7];case 6:Fl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function sb(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(ws.d)(this,function(c){switch(c.label){case 0:return db(n=Gl(t)),fb(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ab(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,fy(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Wm(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Qy(n,e),nm(n.localStore,e,!0)}),$m(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,ab(n,a)];case 5:return c.sent(),function(t){var e=Gl(t);e.Co.forEach(function(t,n){$m(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new ef(bh.comparator)}(n),n.Oo=!1,[4,fy(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ab(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return Object(ws.d)(this,function(g){switch(g.label){case 0:n=Gl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,em(n.localStore,ld(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,rb(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,im(n.localStore,a)];case 8:return p=g.sent(),[4,em(n.localStore,p)];case 9:return u=g.sent(),[4,Vy(n,ub(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ub(t){return nd(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function cb(t){var e=Gl(t);return Gl(Gl(e.localStore).persistence).fn()}function lb(t,e,n,r){return Object(ws.b)(this,void 0,void 0,function(){var i,o,s;return Object(ws.d)(this,function(a){switch(a.label){case 0:return(i=Gl(t)).Oo?(Fl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,om(i.localStore)];case 3:return o=a.sent(),s=yf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,tb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,nm(i.localStore,e,!0)];case 6:return a.sent(),Qy(i,e,r),[3,8];case 7:Hl(),a.label=8;case 8:return[2]}})})}function hb(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(ws.d)(this,function(d){switch(d.label){case 0:if(!(r=db(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Fl("SyncEngine","Adding an already active target "+s),[3,5]):[4,im(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,em(r.localStore,a)];case 3:return u=d.sent(),[4,Vy(r,ub(a),u.targetId,!1)];case 4:d.sent(),Wm(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ws.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,nm(r.localStore,t,!1).then(function(){$m(r.remoteStore,t),Qy(r,t)}).catch(Og)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function db(t){var e=Gl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hy.bind(null,e),e.vo._r=Sy.bind(null,e.eventManager),e.vo.Mo=Ty.bind(null,e.eventManager),e}function fb(t){var e=Gl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gy.bind(null,e),e}var pb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(e){switch(e.label){case 0:return this.R=Mm(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return $g(this.persistence,new Kg,t.initialUser,this.R)},t.prototype.qo=function(t){return new mm(bm.bs,this.R)},t.prototype.Bo=function(t){return new Am},t.prototype.terminate=function(){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),gb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ws.c)(e,t),e.prototype.initialize=function(e){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,sm(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,fb(this.Ko.syncEngine)];case 4:return n.sent(),[4,sy(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return $g(this.persistence,new Kg,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Sg(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Bg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?cg.withCacheSize(this.cacheSizeBytes):cg.DEFAULT;return new Fg(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Pm(),Lm(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Am},e}(pb),mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ws.c)(e,t),e.prototype.initialize=function(e){return Object(ws.b)(this,void 0,void 0,function(){var n,r=this;return Object(ws.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof xm?(this.sharedClientState.syncEngine={ui:ob.bind(null,n),ai:lb.bind(null,n),hi:hb.bind(null,n),fn:cb.bind(null,n),ci:ib.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(ws.b)(r,void 0,void 0,function(){return Object(ws.d)(this,function(e){switch(e.label){case 0:return[4,sb(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Pm();if(!xm.yt(e))throw new Ll(Pl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Bg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new xm(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(gb),yb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n=this;return Object(ws.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return By(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=eb.bind(null,this.syncEngine),[4,fy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Oy},t.prototype.createDatastore=function(t){var e=Mm(t.databaseInfo.databaseId),n=new Dm(t.databaseInfo);return function(t,e,n){return new Bm(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return By(s.syncEngine,t,0)},o=jm.yt()?new jm:new km,new zm(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Ly(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(ws.b)(this,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){switch(n.label){case 0:return e=Gl(t),Fl("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Km(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),bb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),vb=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new xp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(ws.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(ws.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Ay(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(ws.b)(this,void 0,void 0,function(){var t,e;return Object(ws.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(ws.b)(this,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(ws.b)(this,void 0,void 0,function(){var t,e;return Object(ws.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(ws.b)(this,void 0,void 0,function(){var e,n=this;return Object(ws.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ll(Pl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(ws.d)(this,function(u){switch(u.label){case 0:return n=Gl(t),r=Ff(n.R)+"/documents",i={documents:e.map(function(t){return Pf(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){zl(!!e.found);var n=Lf(t,e.found.name),r=Nf(e.found.updateTime),i=new Nh({mapValue:{fields:e.found.fields}});return Dh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){zl(!!e.missing),zl(!!e.readTime);var n=Lf(t,e.missing),r=Nf(e.readTime);return Dh.newNoDocument(n,r)}(t,e):Hl()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());zl(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Yd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(ws.b)(this,void 0,void 0,function(){var t,e=this;return Object(ws.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=bh.fromPath(n);e.mutations.push(new Xd(r,e.precondition(r)))}),[4,function(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i;return Object(ws.d)(this,function(o){switch(o.label){case 0:return n=Gl(t),r=Ff(n.R)+"/documents",i={writes:e.map(function(t){return Hf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Hl();e=Zl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ll(Pl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Pd.updateTime(e):Pd.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Zl.min()))throw new Ll(Pl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pd.updateTime(e)}return Pd.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),wb=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Vm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(ws.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(ws.d)(this,function(r){return t=new vb(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!gh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Jd(e)}return!1},t}(),_b=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=vm.UNAUTHENTICATED,this.clientId=Wl.u(),this.credentialListener=function(){},this.receivedInitialUser=new xp,this.credentials.setChangeListener(function(t){Fl("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ll(Pl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new xp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ws.b)(t,void 0,void 0,function(){var t,n;return Object(ws.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=yy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ob(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(ws.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Fl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(ws.b)(i,void 0,void 0,function(){return Object(ws.d)(this,function(t){switch(t.label){case 0:return[4,Qg(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Eb(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r;return Object(ws.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Cb(t)];case 1:return n=i.sent(),Fl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(ws.b)(this,void 0,void 0,function(){var n,r;return Object(ws.d)(this,function(i){switch(i.label){case 0:return(n=Gl(t)).asyncQueue.verifyOperationInProgress(),Fl("RemoteStore","RemoteStore received new credentials"),r=Jm(n),n.$r.add(3),[4,Km(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Gm(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Cb(t){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Fl("FirestoreClient","Using default OfflineComponentProvider"),[4,Ob(t,new pb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Sb(t){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Fl("FirestoreClient","Using default OnlineComponentProvider"),[4,Eb(t,new yb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Tb(t){return Cb(t).then(function(t){return t.persistence})}function Ib(t){return Cb(t).then(function(t){return t.localStore})}function xb(t){return Sb(t).then(function(t){return t.remoteStore})}function Ab(t){return Sb(t).then(function(t){return t.syncEngine})}function kb(t){return Object(ws.b)(this,void 0,void 0,function(){var e,n;return Object(ws.d)(this,function(r){switch(r.label){case 0:return[4,Sb(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=My.bind(null,e.syncEngine),n.onUnlisten=Fy.bind(null,e.syncEngine),n)]}})})}function jb(t,e,n){var r=this;void 0===n&&(n={});var i=new xp;return t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(r,void 0,void 0,function(){var r;return Object(ws.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new bb({next:function(o){e.enqueueAndForget(function(){return Cy(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ll(Pl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ll(Pl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new xy(rd(n.path),o,{includeMetadataChanges:!0,so:!0});return Ey(t,s)},[4,kb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Nb(t,e,n){var r=this;void 0===n&&(n={});var i=new xp;return t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(r,void 0,void 0,function(){var r;return Object(ws.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new bb({next:function(n){e.enqueueAndForget(function(){return Cy(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Ll(Pl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new xy(n,o,{includeMetadataChanges:!0,so:!0});return Ey(t,s)},[4,kb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Rb=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Db=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Pb=new Map,Lb=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Mb=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(vm.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Vb=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Fb=function(){function t(t){var e=this;this.oc=null,this.currentUser=vm.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Fl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(zl("string"==typeof n.accessToken),new Lb(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return zl(null===t||"string"==typeof t),new vm(t)},t}(),Ub=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=vm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),qb=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Ub(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(vm.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Bb(t,e,n){if(!n)throw new Ll(Pl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Hb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function zb(t,e,n,r){if(!0===e&&!0===r)throw new Ll(Pl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Gb(t){if(!bh.isDocumentKey(t))throw new Ll(Pl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Kb(t){if(bh.isDocumentKey(t))throw new Ll(Pl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Hl()}function $b(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ll(Pl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wb(t);throw new Ll(Pl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Qb(t,e){if(e<=0)throw new Ll(Pl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Yb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ll(Pl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ll(Pl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,zb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Xb=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yb({}),this._settingsFrozen=!1,t instanceof Db?(this._databaseId=t,this._credentials=new Mb):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ll(Pl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Db(t.options.projectId)}(t),this._credentials=new Fb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ll(Pl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ll(Pl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Mb;switch(t.type){case"gapi":var e=t.client;return zl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new qb(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ll(Pl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Pb.get(this))&&(Fl("ComponentProvider","Removing Datastore"),Pb.delete(this),t.terminate()),Promise.resolve();var t},t}(),Zb=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new tv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Jb=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),tv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,rd(r))||this)._path=r,i.type="collection",i}return Object(ws.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Zb(this.firestore,null,new bh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Jb);function ev(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(js.h)(t),Bb("collection","path",e),t instanceof Xb)return Kb(n=rh.fromString.apply(rh,Object(ws.f)([e],r))),new tv(t,null,n);if(!(t instanceof Zb||t instanceof tv))throw new Ll(Pl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kb(n=rh.fromString.apply(rh,Object(ws.f)([t.path],r)).child(rh.fromString(e))),new tv(t.firestore,null,n)}function nv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(js.h)(t),1===arguments.length&&(e=Wl.u()),Bb("doc","path",e),t instanceof Xb)return Gb(n=rh.fromString.apply(rh,Object(ws.f)([e],r))),new Zb(t,null,new bh(n));if(!(t instanceof Zb||t instanceof tv))throw new Ll(Pl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gb(n=t._path.child(rh.fromString.apply(rh,Object(ws.f)([e],r)))),new Zb(t.firestore,t instanceof tv?t.converter:null,new bh(n))}function rv(t,e){return t=Object(js.h)(t),e=Object(js.h)(e),(t instanceof Zb||t instanceof tv)&&(e instanceof Zb||e instanceof tv)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function iv(t,e){return t=Object(js.h)(t),e=Object(js.h)(e),t instanceof Jb&&e instanceof Jb&&t.firestore===e.firestore&&dd(t._query,e._query)&&t.converter===e.converter}var ov=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Vm(this,"async_queue_retry"),this.Ec=function(){var e=Lm();e&&Fl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Lm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Lm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(ws.b)(this,void 0,void 0,function(){var t,e=this;return Object(ws.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Dp(t=n.sent()))throw t;return Fl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Ul("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=my.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Hl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(ws.b)(this,void 0,void 0,function(){var t;return Object(ws.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function sv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new xp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var av=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new ov,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(ws.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||cv(this),this._firestoreClient.terminate()},e}(Xb);function uv(t){return t._firestoreClient||cv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Rb(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new _b(t._credentials,t._queue,r)}function lv(t,e,n){var r=this,i=new xp;return t.asyncQueue.enqueue(function(){return Object(ws.b)(r,void 0,void 0,function(){var r;return Object(ws.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ob(t,n)];case 1:return o.sent(),[4,Eb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Pl.FAILED_PRECONDITION||t.code===Pl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function hv(t){if(t._initialized||t._terminated)throw new Ll(Pl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var dv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oh(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),fv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ah.fromBase64String(e))}catch(e){throw new Ll(Pl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ah.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),pv=function(t){this._methodName=t},gv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ll(Pl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ll(Pl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return $l(this._lat,t._lat)||$l(this._long,t._long)},t}(),mv=/^__.*__$/,yv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new zd(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hd(t,this.data,e,this.fieldTransforms)},t}(),bv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new zd(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function vv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hl()}}var wv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Uv(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(vv(this.Dc)&&mv.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),_v=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Mm(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new wv({Dc:t,methodName:e,Lc:n,path:oh.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Ov(t){var e=t._freezeSettings(),n=Mm(t._databaseId);return new _v(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ev(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Lv("Data must be an object, but it was:",s,r);var a,u,c=Dv(r,s);if(o.merge)a=new sh(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Mv(e,d[h],n);if(!s.contains(f))throw new Ll(Pl.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");qv(l,f)||l.push(f)}a=new sh(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new yv(new Nh(c),a,u)}var Cv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ws.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(pv);function Sv(t,e,n){return new wv({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Tv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ws.c)(e,t),e.prototype._toFieldTransform=function(t){return new Rd(t.path,new Sd)},e.prototype.isEqual=function(t){return t instanceof e},e}(pv),Iv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ws.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Sv(this,t,!0),n=this.qc.map(function(t){return Rv(t,e)}),r=new Td(n);return new Rd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pv),xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ws.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Sv(this,t,!0),n=this.qc.map(function(t){return Rv(t,e)}),r=new xd(n);return new Rd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pv),Av=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(ws.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new kd(t.R,wd(t.R,this.Uc));return new Rd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(pv);function kv(t,e,n,r){var i=t.Bc(1,e,n);Lv("Data must be an object, but it was:",i,r);var o=[],s=Nh.empty();th(r,function(t,r){var a=Fv(e,t,n);r=Object(js.h)(r);var u=i.kc(a);if(r instanceof Cv)o.push(a);else{var c=Rv(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new sh(o);return new bv(s,a,i.fieldTransforms)}function jv(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[Mv(e,r,n)],u=[i];if(o.length%2!=0)throw new Ll(Pl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Mv(e,o[c])),u.push(o[c+1]);for(var l=[],h=Nh.empty(),d=a.length-1;d>=0;--d)if(!qv(l,a[d])){var f=a[d],p=u[d];p=Object(js.h)(p);var g=s.kc(f);if(p instanceof Cv)l.push(f);else{var m=Rv(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new sh(l);return new bv(h,y,s.fieldTransforms)}function Nv(t,e,n,r){return void 0===r&&(r=!1),Rv(n,t.Bc(r?4:3,e))}function Rv(t,e){if(Pv(t=Object(js.h)(t)))return Lv("Unsupported field value:",e,t),Dv(t,e);if(t instanceof pv)return function(t,e){if(!vv(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Rv(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(js.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wd(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Xl.fromDate(t);return{timestampValue:Af(e.R,n)}}if(t instanceof Xl)return n=new Xl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Af(e.R,n)};if(t instanceof gv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fv)return{bytesValue:kf(e.R,t._byteString)};if(t instanceof Zb){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Rf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Wb(t))}(t,e)}function Dv(t,e){var n={};return eh(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):th(t,function(t,r){var i=Rv(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Pv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xl||t instanceof gv||t instanceof fv||t instanceof Zb||t instanceof pv)}function Lv(t,e,n){if(!Pv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Wb(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Mv(t,e,n){if((e=Object(js.h)(e))instanceof dv)return e._internalPath;if("string"==typeof e)return Fv(t,e);throw Uv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Vv=new RegExp("[~\\*/\\[\\]]");function Fv(t,e,n){if(e.search(Vv)>=0)throw Uv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(dv.bind.apply(dv,Object(ws.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Uv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Uv(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Ll(Pl.INVALID_ARGUMENT,(a+=". ")+t+u)}function qv(t,e){return t.some(function(t){return t.isEqual(e)})}var Bv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Zb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Hv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(zv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ws.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Bv);function zv(t,e){return"string"==typeof e?Fv(t,e):e instanceof dv?e._internalPath:e._delegate._internalPath}var Gv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Kv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(ws.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(zv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Bv),Wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ws.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Kv),$v=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Gv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Wv(n._firestore,n._userDataWriter,r.key,r,new Gv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ll(Pl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Wv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Gv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Wv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Gv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Qv(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Qv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hl()}}function Yv(t,e){return t instanceof Kv&&e instanceof Kv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof $v&&e instanceof $v&&t._firestore===e._firestore&&iv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Xv(t){if(od(t)&&0===t.explicitOrderBy.length)throw new Ll(Pl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zv=function(){};function Jv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var tw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(ws.c)(e,t),e.prototype._apply=function(t){var e=Ov(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){aw(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(sw(r,t,l[c]));a={arrayValue:{values:u}}}else a=sw(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||aw(s,o),a=Nv(n,"where",s,"in"===o||"not-in"===o);var h=Uh.create(i,o,a);return function(t,e){if(e.g()){var n=ad(t);if(null!==n&&!n.isEqual(e.field))throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=sd(t);null!==r&&uw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ll(Pl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Jb(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Zv),ew=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(ws.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Xh(e,n);return function(t,e){if(null===sd(t)){var n=ad(t);null!==n&&uw(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Jb(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ed(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Zv),nw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(ws.c)(e,t),e.prototype._apply=function(t){return new Jb(t.firestore,t.converter,hd(t._query,this.Gc,this.zc))},e}(Zv),rw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(ws.c)(e,t),e.prototype._apply=function(t){var e=ow(t,this.type,this.Hc,this.Jc);return new Jb(t.firestore,t.converter,function(t,e){return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Zv),iw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(ws.c)(e,t),e.prototype._apply=function(t){var e=ow(t,this.type,this.Hc,this.Jc);return new Jb(t.firestore,t.converter,function(t,e){return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Zv);function ow(t,e,n,r){if(n[0]=Object(js.h)(n[0]),n[0]instanceof Bv)return function(t,e,n,r,i){if(!r)throw new Ll(Pl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=cd(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Th(e,r.key));else{var c=r.data.field(u.field);if(dh(c))throw new Ll(Pl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Qh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Ov(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Ll(Pl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ud(t)&&-1!==c.indexOf("/"))throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(rh.fromString(c));if(!bh.isDocumentKey(l))throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new bh(l);a.push(Th(e,h))}else{var d=Nv(n,r,c);a.push(d)}}return new Qh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function sw(t,e,n){if("string"==typeof(n=Object(js.h)(n))){if(""===n)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ud(e)&&-1!==n.indexOf("/"))throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(rh.fromString(n));if(!bh.isDocumentKey(r))throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Th(t,new bh(r))}if(n instanceof Zb)return Th(t,n._key);throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wb(n)+".")}function aw(t,e){if(!Array.isArray(t)||0===t.length)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function uw(t,e,n){if(!n.isEqual(e))throw new Ll(Pl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var cw=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),vh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return lh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Hl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return th(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new gv(lh(t.latitude),lh(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=fh(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ph(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ch(t);return new Xl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=rh.fromString(t);zl(ip(n));var r=new Db(n.get(1),n.get(3)),i=new bh(n.popFirst(5));return r.isEqual(e)||Ul("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function lw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var hw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ws.c)(e,t),e.prototype.convertBytes=function(t){return new fv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zb(this.firestore,null,e)},e}(cw),dw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ov(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=fw(t,this._firestore),i=lw(r.converter,e,n),o=Ev(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Pd.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=fw(t,this._firestore);return o="string"==typeof(e=Object(js.h)(e))||e instanceof dv?jv(this._dataReader,"WriteBatch.update",s._key,e,n,r):kv(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Pd.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=fw(t,this._firestore);return this._mutations=this._mutations.concat(new Yd(e._key,Pd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ll(Pl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function fw(t,e){if((t=Object(js.h)(t)).firestore!==e)throw new Ll(Pl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var pw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ws.c)(e,t),e.prototype.convertBytes=function(t){return new fv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zb(this.firestore,null,e)},e}(cw);function gw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=$b(t,Zb);var o=$b(t.firestore,av),s=Ov(o);return yw(o,[("string"==typeof(e=Object(js.h)(e))||e instanceof dv?jv(s,"updateDoc",t._key,e,n,r):kv(s,"updateDoc",t._key,e)).toMutation(t._key,Pd.exists(!0))])}function mw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(js.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||sv(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(sv(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Zb)c=$b(t.firestore,av),l=rd(t._key.path),u={next:function(e){i[a]&&i[a](bw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=$b(t,Jb);c=$b(f.firestore,av),l=f._query;var p=new pw(c);u={next:function(t){i[a]&&i[a](new $v(c,p,f,t))},error:i[a+1],complete:i[a+2]},Xv(t._query)}return function(t,e,n,r){var i=this,o=new bb(r),s=new xy(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(i,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){switch(n.label){case 0:return e=Ey,[4,kb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(i,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){switch(n.label){case 0:return e=Cy,[4,kb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(uv(c),l,h,u)}function yw(t,e){return function(t,e){var n=this,r=new xp;return t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(n,void 0,void 0,function(){var n;return Object(ws.d)(this,function(i){switch(i.label){case 0:return n=Uy,[4,Ab(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(uv(t),e)}function bw(t,e,n){var r=n.docs.get(e._key),i=new pw(t);return new Kv(t,i,e._key,r,new Gv(n.hasPendingWrites,n.fromCache),e.converter)}var vw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(ws.c)(e,t),e.prototype.get=function(e){var n=this,r=fw(e,this._firestore),i=new pw(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Kv(n._firestore,i,r._key,t._document,new Gv(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ov(t)}return t.prototype.get=function(t){var e=this,n=fw(t,this._firestore),r=new hw(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Hl();var i=t[0];if(i.isFoundDocument())return new Bv(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Bv(e._firestore,r,n._key,null,n.converter);throw Hl()})},t.prototype.set=function(t,e,n){var r=fw(t,this._firestore),i=lw(r.converter,e,n),o=Ev(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=fw(t,this._firestore);return o="string"==typeof(e=Object(js.h)(e))||e instanceof dv?jv(this._dataReader,"Transaction.update",s._key,e,n,r):kv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=fw(t,this._firestore);return this._transaction.delete(e._key),this},t}());function ww(){if("undefined"==typeof Uint8Array)throw new Ll(Pl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _w(){if("undefined"==typeof atob)throw new Ll(Pl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ow=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return _w(),new t(fv.fromBase64String(e))},t.fromUint8Array=function(e){return ww(),new t(fv.fromUint8Array(e))},t.prototype.toBase64=function(){return _w(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ww(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Ew=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){hv(t=$b(t,av));var n=uv(t),r=t._freezeSettings(),i=new yb;return lv(n,i,new gb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){hv(t=$b(t,av));var e=uv(t),n=t._freezeSettings(),r=new yb;return lv(e,r,new mb(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ll(Pl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new xp;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ws.b)(e,void 0,void 0,function(){var e;return Object(ws.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ws.b)(this,void 0,void 0,function(){return Object(ws.d)(this,function(e){switch(e.label){case 0:return jp.yt()?[4,jp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Bg(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Cw=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Db||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=$b(t,Xb))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&ql("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(js.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ll(Pl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Vb(new Lb(o,new vm(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ws.b)(e,void 0,void 0,function(){var e,n;return Object(ws.d)(this,function(r){switch(r.label){case 0:return[4,Tb(t)];case 1:return e=r.sent(),[4,xb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Gl(t);return e.$r.delete(0),Gm(e)}(n))]}})})})}(uv($b(this._delegate,av)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ws.b)(e,void 0,void 0,function(){var e,n;return Object(ws.d)(this,function(r){switch(r.label){case 0:return[4,Tb(t)];case 1:return e=r.sent(),[4,xb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(ws.b)(this,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){switch(n.label){case 0:return(e=Gl(t)).$r.add(0),[4,Km(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(uv($b(this._delegate,av)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&zb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new xp;return t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(e,void 0,void 0,function(){var e;return Object(ws.d)(this,function(r){switch(r.label){case 0:return e=Ky,[4,Ab(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(uv($b(this._delegate,av)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new bb(e);return t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(n,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Gl(t).Gr.add(e),e.next()},[4,kb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(n,void 0,void 0,function(){var e;return Object(ws.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Gl(t).Gr.delete(e)},[4,kb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(uv(t=$b(t,av)),sv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Ll(Pl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Vw(this,ev(this._delegate,t))}catch(t){throw kw(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Aw(this,nv(this._delegate,t))}catch(t){throw kw(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Pw(this,function(t,e){if(t=$b(t,Xb),Bb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jb(t,null,function(t){return new ed(rh.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw kw(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new xp;return t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(n,void 0,void 0,function(){var n;return Object(ws.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Sb(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new wb(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(uv(t),function(n){return e(new vw(t,n))})}(this._delegate,function(n){return t(new Tw(e,n))})},t.prototype.batch=function(){var t=this;return uv(this._delegate),new Iw(new dw(this._delegate,function(e){return yw(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Ll(Pl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ll(Pl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Sw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ws.c)(e,t),e.prototype.convertBytes=function(t){return new Ow(new fv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Aw.Zc(e,this.firestore,null)},e}(cw),Tw=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Sw(t)}return t.prototype.get=function(t){var e=this,n=Fw(t);return this._delegate.get(n).then(function(t){return new Rw(e._firestore,new Kv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Fw(t);return n?(Hb("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Fw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(ws.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Fw(t);return this._delegate.delete(e),this},t}(),Iw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Fw(t);return n?(Hb("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Fw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(ws.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Fw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),xw=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Wv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Dw(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Sw(e),n),i.set(n,o)),o},t}();xw.eu=new WeakMap;var Aw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Sw(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Ll(Pl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Zb(n._delegate,r,new bh(e)))},t.Zc=function(e,n,r){return new t(n,new Zb(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Vw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Vw(this.firestore,ev(this._delegate,t))}catch(t){throw kw(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(js.h)(t))instanceof Zb&&rv(this._delegate,t)},t.prototype.set=function(t,e){e=Hb("DocumentReference.set",e);try{return function(t,e,n){t=$b(t,Zb);var r=$b(t.firestore,av),i=lw(t.converter,e,n);return yw(r,[Ev(Ov(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Pd.none())])}(this._delegate,t,e)}catch(t){throw kw(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?gw(this._delegate,t):gw.apply(void 0,Object(ws.f)([this._delegate,t,e],n))}catch(t){throw kw(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return yw($b((t=this._delegate).firestore,av),[new Yd(t._key,Pd.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=jw(e),i=Nw(e,function(e){return new Rw(t.firestore,new Kv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return mw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$b(t,Zb);var e=$b(t.firestore,av),n=uv(e),r=new pw(e);return function(t,e){var n=this,r=new xp;return t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(n,void 0,void 0,function(){var n;return Object(ws.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r,i;return Object(ws.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Gl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ll(Pl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=yy(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Ib(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Kv(e,r,t._key,n,new Gv(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=$b(t,Zb);var e=$b(t.firestore,av);return jb(uv(e),t._key,{source:"server"}).then(function(n){return bw(e,t,n)})}(this._delegate):function(t){t=$b(t,Zb);var e=$b(t.firestore,av);return jb(uv(e),t._key).then(function(n){return bw(e,t,n)})}(this._delegate)).then(function(t){return new Rw(e.firestore,new Kv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?xw.tu(this.firestore,e):null))},t}();function kw(t,e,n){return t.message=t.message.replace(e,n),t}function jw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!sv(r))return r}return{}}function Nw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=sv(t[0])?t[0]:sv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Rw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Aw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Yv(this._delegate,t._delegate)},t}(),Dw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ws.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Rw),Pw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Sw(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Jv(this._delegate,function(t,e,n){var r=e,i=zv("where",t);return new tw(i,r,n)}(e,n,r)))}catch(e){throw kw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Jv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=zv("orderBy",t);return new ew(r,n)}(e,n)))}catch(e){throw kw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Jv(this._delegate,function(t){return Qb("limit",t),new nw("limit",t,"F")}(e)))}catch(e){throw kw(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Jv(this._delegate,function(t){return Qb("limitToLast",t),new nw("limitToLast",t,"L")}(e)))}catch(e){throw kw(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rw("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw kw(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rw("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw kw(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iw("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw kw(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iw("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw kw(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return iv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$b(t,Jb);var e=$b(t.firestore,av),n=uv(e),r=new pw(e);return function(t,e){var n=this,r=new xp;return t.asyncQueue.enqueueAndForget(function(){return Object(ws.b)(n,void 0,void 0,function(){var n;return Object(ws.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ws.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(ws.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,rm(t,e,!0)];case 1:return a=u.sent(),r=new Ry(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=yy(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Ib(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new $v(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=$b(t,Jb);var e=$b(t.firestore,av),n=uv(e),r=new pw(e);return Nb(n,t._query,{source:"server"}).then(function(n){return new $v(e,r,t,n)})}(this._delegate):function(t){t=$b(t,Jb);var e=$b(t.firestore,av),n=uv(e),r=new pw(e);return Xv(t._query),Nb(n,t._query).then(function(n){return new $v(e,r,t,n)})}(this._delegate)).then(function(t){return new Mw(e.firestore,new $v(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=jw(e),i=Nw(e,function(e){return new Mw(t.firestore,new $v(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return mw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?xw.tu(this.firestore,e):null))},t}(),Lw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Dw(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Mw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Pw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Dw(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Lw(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Dw(n._firestore,r))})},t.prototype.isEqual=function(t){return Yv(this._delegate,t._delegate)},t}(),Vw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(ws.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Aw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Aw(this.firestore,void 0===t?nv(this._delegate):nv(this._delegate,t))}catch(t){throw kw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=$b(t.firestore,av),r=nv(t),i=lw(t.converter,e);return yw(n,[Ev(Ov(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Pd.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Aw(e.firestore,t)})},e.prototype.isEqual=function(t){return rv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?xw.tu(this.firestore,t):null))},e}(Pw);function Fw(t){return $b(t,Zb)}var Uw,qw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(dv.bind.apply(dv,Object(ws.f)([void 0],t)))}return t.documentId=function(){return new t(oh.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(js.h)(t))instanceof dv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Bw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Tv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Cv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Iv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Av("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Hw=n("/6Yf"),zw={Firestore:Cw,GeoPoint:gv,Timestamp:Xl,Blob:Ow,Transaction:Tw,WriteBatch:Iw,DocumentReference:Aw,DocumentSnapshot:Rw,Query:Pw,QueryDocumentSnapshot:Dw,QuerySnapshot:Mw,CollectionReference:Vw,FieldPath:qw,FieldValue:Bw,setLogLevel:function(t){Ml.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Hw.a("firestore",function(t){return function(t,e){return new Cw(t,new av(t,e),new Ew)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},zw)))})(Uw=ks.a),Uw.registerVersion("@firebase/firestore","2.3.0");var Gw=n("VRyK"),Kw=n("qgXg"),Ww=n("Ylt2");class $w extends Tn.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Qw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new In.a;if(this.isStopped||this.hasError?o=vr.a.EMPTY:(this.observers.push(t),o=new Ww.a(this,t)),r&&t.add(t=new Is.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Kw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Qw{constructor(t,e){this.time=t,this.value=e}}function Yw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new $w(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Xw(t,e){return e?Gn(()=>t,e):Gn(()=>t)}var Zw=n("tf+s");const Jw=new r.r("angularfire2.auth.use-emulator"),t_=new r.r("angularfire2.auth.settings"),e_=new r.r("angularfire2.auth.tenant-id"),n_=new r.r("angularfire2.auth.langugage-code"),r_=new r.r("angularfire2.auth.use-device-language"),i_=new r.r("angularfire.auth.persistence");let o_=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new xs.d(i),d=Object(xs.h)(h),f=new Tn.a,p=Object(Ue.a)(void 0).pipe(Object(Is.b)(h.outsideAngular),Gn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(St.a)(()=>Object(xs.g)(t,i,e)),Object(St.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(xs.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Yw({bufferSize:1,refCount:!1}));if(H(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ue.a)(null);else{p.pipe(mr()).subscribe();const t=p.pipe(Gn(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Yw({bufferSize:1,refCount:!1})),e=t=>new Et.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Gn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Gn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Xw(n),Object(Zw.a)(h.outsideAngular),Object(Is.b)(h.insideAngular)),this.user=t.pipe(Xw(r),Object(Zw.a)(h.outsideAngular),Object(Is.b)(h.insideAngular)),this.idToken=this.user.pipe(Gn(t=>t?Object(Ot.a)(t.getIdToken()):Object(Ue.a)(null))),this.idTokenResult=this.user.pipe(Gn(t=>t?Object(Ot.a)(t.getIdTokenResult()):Object(Ue.a)(null))),this.credential=Object(Gw.a)(t,f,this.authState.pipe(ze(t=>!t))).pipe(Object(St.a)(t=>(null==t?void 0:t.user)?t:null),Object(Zw.a)(h.outsideAngular),Object(Is.b)(h.insideAngular))}return Object(xs.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(xs.c),r.Rb(xs.b,8),r.Rb(r.C),r.Rb(r.A),r.Rb(Jw,8),r.Rb(t_,8),r.Rb(e_,8),r.Rb(n_,8),r.Rb(r_,8),r.Rb(i_,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(xs.c),Object(r.Rb)(xs.b,8),Object(r.Rb)(r.C),Object(r.Rb)(r.A),Object(r.Rb)(Jw,8),Object(r.Rb)(t_,8),Object(r.Rb)(e_,8),Object(r.Rb)(n_,8),Object(r.Rb)(r_,8),Object(r.Rb)(i_,8))},token:t,providedIn:"any"}),t})();function s_(t,e){return function(t,e=_s.a){return new Et.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function a_(t,e){return s_(t,e).pipe(Object(St.a)(t=>({payload:t,type:"query"})))}function u_(t,e){return a_(t,e).pipe(Zn(void 0),Os(),Object(St.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function c_(t,e,n){return u_(t,n).pipe(Jn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return l_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return l_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return l_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ss(void 0,void 0)),Object(St.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function l_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function h_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(xs.e)(o_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class d_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=u_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(St.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Zn(void 0),Os(),ze(([t,e])=>e.length>0||!t),Object(St.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Jn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=h_(t);return c_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return a_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ot.a)(this.query.get(t)).pipe(Object(Is.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new f_(this.ref.doc(t),this.afs)}}class f_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=v_(n,e);return new d_(r,i,this.afs)}snapshotChanges(){return s_(this.ref,this.afs.schedulers.outsideAngular).pipe(Zn(void 0),Os(),Object(St.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(St.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Ot.a)(this.ref.get(t)).pipe(Object(Is.b)(this.afs.schedulers.insideAngular))}}class p_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?u_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ze(t=>t.length>0),this.afs.keepUnstableUntilFirst):u_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Jn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=h_(t);return c_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return a_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ot.a)(this.query.get(t)).pipe(Object(Is.b)(this.afs.schedulers.insideAngular))}}const g_=new r.r("angularfire2.enableFirestorePersistence"),m_=new r.r("angularfire2.firestore.persistenceSettings"),y_=new r.r("angularfire2.firestore.settings"),b_=new r.r("angularfire2.firestore.use-emulator");function v_(t,e=(t=>t)){return{query:e(t),ref:t}}let w_=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new xs.d(o),this.keepUnstableUntilFirst=Object(xs.h)(this.schedulers);const c=Object(xs.g)(t,o,e);!As.a.auth&&u&&Object(xs.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(xs.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!H(i)){const e=()=>{try{return Object(Ot.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Uw){return"undefined"!=typeof console&&console.warn(Uw),Object(Ue.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ue.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=v_(n,e),o=this.schedulers.ngZone.run(()=>r);return new d_(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new p_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new f_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(xs.c),r.Rb(xs.b,8),r.Rb(g_,8),r.Rb(y_,8),r.Rb(r.C),r.Rb(r.A),r.Rb(m_,8),r.Rb(b_,8),r.Rb(Jw,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(xs.c),Object(r.Rb)(xs.b,8),Object(r.Rb)(g_,8),Object(r.Rb)(y_,8),Object(r.Rb)(r.C),Object(r.Rb)(r.A),Object(r.Rb)(m_,8),Object(r.Rb)(b_,8),Object(r.Rb)(Jw,8))},token:t,providedIn:"any"}),t})(),__=(()=>{class t{constructor(t){this.afs=t,this.actorCollection=t.collection("repartidores")}GuardarEmpleado(t){return Object(ws.b)(this,void 0,void 0,function*(){return new Promise((e,n)=>Object(ws.b)(this,void 0,void 0,function*(){try{const n=this.afs.createId(),r=Object.assign({id:n},t),i=this.actorCollection.doc(n).set(r);e(i)}catch(r){console.log(r),n(r.message)}}))})}traerTodos(){return this.actorCollection}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(w_))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),O_=(()=>{class t{constructor(t){this.http=t}getTodosLosPaises(){return this.http.get("https://restcountries.eu/rest/v2/name/united")}taerPaisActor(t){return this.http.get("https://restcountries.eu/rest/v2/name/"+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ln))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function E_(t,e){if(1&t){const t=r.Ob();r.Nb(0,"li",4),r.Nb(1,"div"),r.Nb(2,"p"),r.jc(3),r.Mb(),r.Lb(4,"img",5),r.Mb(),r.Nb(5,"div",6),r.Nb(6,"button",7),r.Ub("click",function(){r.ec(t);const n=e.$implicit;return r.Wb().GuardarPais(n)}),r.jc(7,"agregar"),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit;r.Ab(3),r.lc("Nombre: ",t.name,""),r.Ab(1),r.bc("src",t.flag,r.fc)}}let C_=(()=>{class t{constructor(t){this.paisSvc=t,this.eventoCargarPais=new r.n,this.paisElegido=new ms}ngOnInit(){this.traerTodos()}traerTodos(){this.paisSvc.getTodosLosPaises().subscribe(t=>{this.listaPaises=t},t=>console.log(t))}GuardarPais(t){this.paisElegido=t,this.eventoCargarPais.emit(this.paisElegido)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(O_))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-pais"]],outputs:{eventoCargarPais:"eventoCargarPais"},decls:6,vars:5,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"countries-container","list-group","mb-3"],["class","list-group-item d-flex justify-content-between lh-condensed",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","lh-condensed"],["width","50","height","25",3,"src"],[1,"input-group-append"],["type","submit",1,"btn","btn-secondary",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"h4",0),r.Nb(1,"span",1),r.jc(2,"Paises"),r.Mb(),r.Mb(),r.Nb(3,"ul",2),r.hc(4,E_,8,2,"li",3),r.Xb(5,"slice"),r.Mb()),2&t&&(r.Ab(4),r.ac("ngForOf",r.Zb(5,1,e.listaPaises,0,10)))},directives:[k],pipes:[q],styles:[".container[_ngcontent-%COMP%]{max-width:960px}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e5e5e5}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e5e5e5}.border-top-gray[_ngcontent-%COMP%]{border-top-color:#adb5bd}.box-shadow[_ngcontent-%COMP%]{box-shadow:0 .25rem .75rem rgba(0,0,0,.05)}.lh-condensed[_ngcontent-%COMP%]{line-height:1.25;cursor:pointer}.countries-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:scroll}.flag[_ngcontent-%COMP%]{width:60px;height:50px}"]}),t})();function S_(t,e){1&t&&(r.Nb(0,"small",26),r.jc(1,"El nombre es requerido"),r.Mb())}function T_(t,e){1&t&&(r.Nb(0,"small",26),r.jc(1,"El Pais es requerido"),r.Mb())}let I_=(()=>{class t{constructor(t,e){this.fb=t,this.empleadoSvc=e,this.repartidor=new ys}ngOnInit(){this.formularioAlta=this.fb.group({nombre:["",Ut.required],dni:["",Ut.required],edad:["",Ut.required],capacidad:["",Ut.required],unidad:[""],pais:["",Ut.required]})}cargarPaisSleccionado(t){this.formularioAlta.get("pais").setValue(t.name);const e={nombre:t.name,bandera:t.flag,region:t.region};console.log(e),this.repartidor.pais=e}GuardarActor(){if(this.formularioAlta.valid){this.cargarRepartidor();try{this.empleadoSvc.GuardarEmpleado(this.repartidor),this.formularioAlta.reset(),vs.a.fire(" Enviado","Todo subio correctamente!!","success")}catch(Uw){vs.a.fire("Algo Salio Mal!",Uw,"error")}}}cargarRepartidor(){this.repartidor.nombre=this.formularioAlta.get("nombre").value,this.repartidor.dni=this.formularioAlta.get("dni").value,this.repartidor.capacidad=this.formularioAlta.get("capacidad").value,this.repartidor.edad=this.formularioAlta.get("edad").value,this.repartidor.unidad=""!=this.formularioAlta.get("unidad").value}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Fe),r.Kb(__))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-altasrepartidor"]],decls:46,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-md-4","order-md-2","mb-4"],[3,"eventoCargarPais"],[1,"col-md-8","order-md-1"],[1,"mb-3"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],["for","nombre"],["type","text","id","nombre","placeholder","","value","","formControlName","nombre",1,"form-control"],["class","invalid",4,"ngIf"],[1,"col-md-4","mb-3"],["for","edad"],["type","number","id","edad","placeholder","edad","formControlName","edad",1,"form-control"],["for","dni"],["type","number","id","dni","placeholder","dni","formControlName","dni",1,"form-control"],["for","capacidad"],["type","number","id","capacidad","placeholder","capacidad","formControlName","capacidad",1,"form-control"],[1,"form-check"],["type","checkbox","id","unidad","formControlName","unidad",1,"form-check-input"],["for","recordar","for","unidad",1,"form-check-label"],[1,"col-md-5","mb-3"],["for","pais"],["type","text","id","pais","placeholder","Pais","formControlName","pais",1,"form-control"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"],[1,"invalid"]],template:function(t,e){if(1&t&&(r.Lb(0,"br"),r.Lb(1,"br"),r.Nb(2,"div",0),r.Lb(3,"br"),r.Lb(4,"br"),r.Nb(5,"div",1),r.Nb(6,"div",2),r.Nb(7,"app-pais",3),r.Ub("eventoCargarPais",function(t){return e.cargarPaisSleccionado(t)}),r.Mb(),r.Mb(),r.Nb(8,"div",4),r.Nb(9,"h4",5),r.jc(10,"Alta repartidor"),r.Mb(),r.Nb(11,"form",6),r.Ub("ngSubmit",function(){return e.GuardarActor()}),r.Nb(12,"div",1),r.Nb(13,"div",7),r.Nb(14,"label",8),r.jc(15,"Nombre"),r.Mb(),r.Lb(16,"input",9),r.hc(17,S_,2,0,"small",10),r.Mb(),r.Mb(),r.Nb(18,"div",1),r.Nb(19,"div",11),r.Nb(20,"label",12),r.jc(21,"Edad"),r.Mb(),r.Lb(22,"input",13),r.Mb(),r.Nb(23,"div",11),r.Nb(24,"label",14),r.jc(25,"Dni"),r.Mb(),r.Lb(26,"input",15),r.Mb(),r.Mb(),r.Nb(27,"div",11),r.Nb(28,"label",16),r.jc(29,"Capacidad"),r.Mb(),r.Lb(30,"input",17),r.Mb(),r.Nb(31,"div",11),r.Nb(32,"div",18),r.Lb(33,"input",19),r.Nb(34,"label",20),r.jc(35," Unidad Propia "),r.Mb(),r.Mb(),r.Mb(),r.Nb(36,"div",21),r.Nb(37,"label",22),r.jc(38,"Pais"),r.Mb(),r.Lb(39,"input",23),r.hc(40,T_,2,0,"small",10),r.Mb(),r.Lb(41,"hr",24),r.Nb(42,"button",25),r.jc(43,"Dar de Alta"),r.Mb(),r.Mb(),r.Lb(44,"br"),r.Lb(45,"br"),r.Mb(),r.Mb(),r.Mb()),2&t){let t=null,n=null;r.Ab(11),r.ac("formGroup",e.formularioAlta),r.Ab(6),r.ac("ngIf",(null==(t=e.formularioAlta.get("nombre"))||null==t.errors?null:t.errors.required)&&e.formularioAlta.get("nombre").touched),r.Ab(23),r.ac("ngIf",(null==(n=e.formularioAlta.get("pais"))||null==n.errors?null:n.errors.required)&&e.formularioAlta.get("pais").touched),r.Ab(2),r.ac("disabled",e.formularioAlta.invalid)}},directives:[C_,Ie,se,Re,Dt,oe,Pe,N,Ae,jt],styles:[""]}),t})(),x_=(()=>{class t{constructor(t){this.http=t}getTodosLosPaises(){return this.http.get("https://api.github.com/users/gregnaninl")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ln))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function A_(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div"),r.Lb(1,"img",2),r.Nb(2,"h1",3),r.jc(3),r.Mb(),r.Nb(4,"p"),r.jc(5),r.Mb(),r.Nb(6,"button",4),r.Ub("click",function(){return r.ec(t),r.Wb().redirigir()}),r.jc(7,"GitHub"),r.Mb(),r.Mb()}if(2&t){const t=r.Wb();r.Ab(1),r.bc("src",t.datosGitHub.avatar_url,r.fc),r.Ab(2),r.kc(t.datosGitHub.login),r.Ab(2),r.lc("Link: ",t.datosGitHub.html_url,"")}}let k_=(()=>{class t{constructor(t){this.gitSvc=t}ngOnInit(){this.traerDatos()}redirigir(){location.href=this.datosGitHub.html_url}traerDatos(){this.gitSvc.getTodosLosPaises().subscribe(t=>{this.datosGitHub=t},t=>console.log(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(x_))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-inicio"]],decls:2,vars:1,consts:[[1,"container-fluid","py-5"],[4,"ngIf"],["width","100","height","100",3,"src"],[1,"display-5","fw-bold"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.hc(1,A_,8,3,"div",1),r.Mb()),2&t&&(r.Ab(1),r.ac("ngIf",e.datosGitHub))},directives:[N],styles:[""]}),t})(),j_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-bienvenida"]],decls:6,vars:0,consts:[[1,"container","py-4"],[1,"p-5","mb-4","bg-light","rounded-3"]],template:function(t,e){1&t&&(r.Nb(0,"main"),r.Lb(1,"br"),r.Lb(2,"br"),r.Nb(3,"div",0),r.Nb(4,"div",1),r.Lb(5,"app-inicio"),r.Mb(),r.Mb(),r.Mb())},directives:[k_],styles:[""]}),t})(),N_=(()=>{class t{constructor(t,e,n){this.router=t,this.afAuth=e,this.afs=n,this.isLogguedIn=!1}ingrersar(t,e){"admin@gmail.com"===t&&"123456"===e||"empleado@gmail.com"===t&&"123456"===e?(this.isLogguedIn=!0,console.log("ingresaste correctamente"),localStorage.setItem("usuarioEnLinea",JSON.stringify(t)),this.router.navigate(["/"])):vs.a.fire("Correo rechazado","Revise el correo ingresado","error")}salir(){localStorage.clear(),this.isLogguedIn=!1}traerLocalStorage(){return!!localStorage.getItem("usuarioEnLinea")}traerNoLogin(){return!localStorage.getItem("usuarioEnLinea")}login(t,e){return Object(ws.b)(this,void 0,void 0,function*(){try{return yield this.afAuth.signInWithEmailAndPassword(t,e)}catch(Uw){return console.log(Uw),Uw}})}logout(){return Object(ws.b)(this,void 0,void 0,function*(){try{yield this.afAuth.signOut()}catch(Uw){}})}getCurretUser(){return this.afAuth.authState.pipe(mr()).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($o),r.Rb(o_),r.Rb(w_))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function R_(t,e){1&t&&(r.Nb(0,"span"),r.jc(1," Ingresa tu email "),r.Mb())}function D_(t,e){1&t&&(r.Nb(0,"span"),r.jc(1," Ingresa tu contrase\xf1a "),r.Mb())}let P_=(()=>{class t{constructor(t,e,n){this.fb=t,this.router=e,this.loginSvc=n,this.isEmail=/\S+@\S+\.\S+/}ngOnInit(){this.initForm()}initForm(){this.loginForm=this.fb.group({email:["",[Ut.required,Ut.pattern(this.isEmail)]],password:["",[Ut.required,Ut.minLength(6),Ut.maxLength(200)]]})}onUserLogin(){var t,e;null===(t=this.loginForm.get("email"))||void 0===t||t.setValue("admin@gmail.com"),null===(e=this.loginForm.get("password"))||void 0===e||e.setValue("123456")}onTestLogin(){var t,e;null===(t=this.loginForm.get("email"))||void 0===t||t.setValue("empleado@gmail.com"),null===(e=this.loginForm.get("password"))||void 0===e||e.setValue("123456")}onLogin(){var t;return Object(ws.b)(this,void 0,void 0,function*(){if(null===(t=this.loginForm)||void 0===t?void 0:t.valid){const{email:t,password:n}=this.loginForm.value;try{const e=yield this.loginSvc.login(t,n);e&&this.checkUserIsVerified(e)}catch(e){console.log(e)}}else console.log("Formulario inconpleto"),vs.a.fire("Algo Salio Mal!","Revisa el contenido del formulario","error")})}checkUserIsVerified(t){t.user?(this.router.navigate(["/"]),console.log("ingresaste correctamente")):"auth/wrong-password"==t.code?vs.a.fire("Contrase\xf1a incorrecta","Revise la contrase\xf1a ingresada","error"):"auth/user-not-found"==t.code?vs.a.fire("Correo rechazado","Revise el correo ingresado","error"):t.__zone_symbol__state?(console.log(t),this.router.navigate(["/"]),console.log("ingresaste correctamente")):(console.log(t),vs.a.fire("Algo Salio Mal!","La contrase\xf1a o el correo son incorrectos, por favor vuelva a ingresarlos","error"))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Fe),r.Kb($o),r.Kb(N_))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-login"]],decls:32,vars:3,consts:[[1,"row"],[1,"col-md-6","mx-auto","mt-5"],[1,"card"],[1,"card-body"],[1,"text-center"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control"],[1,"invalid-feedback"],[4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control"],[1,"btn","btn-primary","btn-lg","btn-block"],[1,"col-6",3,"click"],[1,"btn","btn-lg","btn-user"]],template:function(t,e){1&t&&(r.Lb(0,"br"),r.Nb(1,"div",0),r.Lb(2,"br"),r.Nb(3,"div",1),r.Nb(4,"div",2),r.Nb(5,"div",3),r.Nb(6,"h1",4),r.jc(7,"LOGIN"),r.Mb(),r.Nb(8,"form",5),r.Ub("ngSubmit",function(){return e.onLogin()}),r.Nb(9,"div",6),r.Nb(10,"label",7),r.jc(11,"Correo"),r.Mb(),r.Lb(12,"input",8),r.Nb(13,"div",9),r.hc(14,R_,2,0,"span",10),r.Mb(),r.Mb(),r.Nb(15,"div",6),r.Nb(16,"label",11),r.jc(17,"Contrase\xf1a"),r.Mb(),r.Lb(18,"input",12),r.Nb(19,"div",9),r.hc(20,D_,2,0,"span",10),r.Mb(),r.Mb(),r.Lb(21,"br"),r.Nb(22,"button",13),r.jc(23," Entrar "),r.Mb(),r.Mb(),r.Lb(24,"br"),r.Nb(25,"div",0),r.Nb(26,"div",14),r.Ub("click",function(){return e.onUserLogin()}),r.Nb(27,"button",15),r.jc(28," Admin "),r.Mb(),r.Mb(),r.Nb(29,"div",14),r.Ub("click",function(){return e.onTestLogin()}),r.Nb(30,"button",15),r.jc(31," Empleado "),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(8),r.ac("formGroup",e.loginForm),r.Ab(6),r.ac("ngIf",null==e.loginForm.controls.email.errors?null:e.loginForm.controls.email.errors.required),r.Ab(6),r.ac("ngIf",null==e.loginForm.controls.password.errors?null:e.loginForm.controls.password.errors.required))},directives:[Ie,se,Re,Dt,oe,Pe,N],styles:[".btn-google[_ngcontent-%COMP%]{background:#dd4b39;color:#fff;width:100%}.btn-user[_ngcontent-%COMP%]{background:#8039dd;color:#fff;width:100%}"]}),t})();function L_(t,e){if(1&t){const t=r.Ob();r.Nb(0,"tr"),r.Nb(1,"td"),r.jc(2),r.Mb(),r.Nb(3,"td"),r.jc(4),r.Mb(),r.Nb(5,"td"),r.Nb(6,"button",4),r.Ub("click",function(){r.ec(t);const n=e.$implicit;return r.Wb().seleccioneUno(n)}),r.jc(7," Seleccionar "),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit;r.Ab(2),r.lc("",t.nombre," \xa0"),r.Ab(2),r.lc("",t.dni," \xa0")}}let M_=(()=>{class t{constructor(){this.eventoRepartidor=new r.n}ngOnInit(){}seleccioneUno(t){this.eventoRepartidor.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-tabla-repartidores"]],inputs:{listado:"listado"},outputs:{eventoRepartidor:"eventoRepartidor"},decls:13,vars:1,consts:[[1,"jumbotron"],[1,"container"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"table",2),r.Nb(3,"thead"),r.Nb(4,"tr"),r.Nb(5,"th"),r.jc(6,"Nombre"),r.Mb(),r.Nb(7,"th"),r.jc(8,"dni"),r.Mb(),r.Nb(9,"th"),r.jc(10,"Accion"),r.Mb(),r.Mb(),r.Mb(),r.Nb(11,"tbody"),r.hc(12,L_,8,2,"tr",3),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(12),r.ac("ngForOf",e.listado))},directives:[k],styles:[""]}),t})();function V_(t,e){if(1&t&&(r.Nb(0,"div"),r.Nb(1,"p"),r.jc(2),r.Mb(),r.Nb(3,"p"),r.jc(4),r.Mb(),r.Nb(5,"p"),r.jc(6),r.Mb(),r.Nb(7,"p"),r.jc(8),r.Mb(),r.Mb()),2&t){const t=r.Wb();r.Ab(2),r.lc("Nombre: ",t.repartidorParaMostrar.nombre,""),r.Ab(2),r.lc("dni: ",t.repartidorParaMostrar.dni,""),r.Ab(2),r.lc("edad: ",t.repartidorParaMostrar.edad,""),r.Ab(2),r.lc("cantidad: ",t.prepartidorParaMostrar.capacidad,"")}}let F_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-detalle-repartidor"]],inputs:{repartidorParaMostrar:"repartidorParaMostrar"},decls:3,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(r.Nb(0,"h2"),r.jc(1,"Detalle Repartidor"),r.Mb(),r.hc(2,V_,9,4,"div",0)),2&t&&(r.Ab(2),r.ac("ngIf",e.repartidorParaMostrar))},directives:[N],styles:[""]}),t})();const U_=[{path:"login",component:P_},{path:"bienvenida",component:j_},{path:"altarepartidor",component:I_},{path:"repartidores",component:(()=>{class t{constructor(t){this.empleadoSvc=t}ngOnInit(){this.trarTodo()}CargarRepartidor(t){this.repartidorElegido=t,this.paisReaprtidor=t.pais}trarTodo(){this.empleadoSvc.traerTodos().valueChanges().subscribe(t=>{this.listadoDeTablaRepartidores=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(__))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-repartidores"]],decls:9,vars:2,consts:[["role","main"],[3,"listado","eventoRepartidor"],[1,"container"],[1,"row"],[1,"col-md-4"],[3,"repartidorParaMostrar"],[1,"col-md-6"]],template:function(t,e){1&t&&(r.Nb(0,"main",0),r.Lb(1,"br"),r.Nb(2,"app-tabla-repartidores",1),r.Ub("eventoRepartidor",function(t){return e.CargarRepartidor(t)}),r.Mb(),r.Nb(3,"div",2),r.Nb(4,"div",3),r.Nb(5,"div",4),r.Lb(6,"app-detalle-repartidor",5),r.Mb(),r.Nb(7,"div",6),r.Lb(8,"h2"),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(2),r.ac("listado",e.listadoDeTablaRepartidores),r.Ab(4),r.ac("repartidorParaMostrar",e.repartidorElegido))},directives:[M_,F_],styles:[""]}),t})()},{path:"",redirectTo:"bienvenida",pathMatch:"full"},{path:"**",component:j_}];let q_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({imports:[[as.forRoot(U_)],as]}),t})();function B_(t,e){1&t&&(r.Nb(0,"li",6),r.Nb(1,"a",12),r.jc(2,"Alta"),r.Mb(),r.Mb())}function H_(t,e){1&t&&(r.Nb(0,"li",6),r.Nb(1,"a",13),r.jc(2,"Repartidores"),r.Mb(),r.Mb())}function z_(t,e){if(1&t){const t=r.Ob();r.Nb(0,"li",6),r.Nb(1,"a",14),r.Ub("click",function(){return r.ec(t),r.Wb(2).onLogout()}),r.jc(2,"Salir"),r.Mb(),r.Mb()}}function G_(t,e){if(1&t&&(r.Nb(0,"li",6),r.Nb(1,"a",15),r.jc(2),r.Mb(),r.Mb()),2&t){const t=r.Wb().ngIf;r.Ab(2),r.kc(null==t?null:t.email)}}function K_(t,e){if(1&t&&(r.Nb(0,"ul",10),r.hc(1,B_,3,0,"li",11),r.hc(2,H_,3,0,"li",11),r.hc(3,z_,3,0,"li",11),r.hc(4,G_,3,1,"li",11),r.Mb()),2&t){const t=e.ngIf;r.Ab(1),r.ac("ngIf",t),r.Ab(1),r.ac("ngIf",t),r.Ab(1),r.ac("ngIf",t),r.Ab(1),r.ac("ngIf",t)}}function W_(t,e){1&t&&(r.Nb(0,"ul",10),r.Nb(1,"li",6),r.Nb(2,"a",16),r.jc(3,"Login"),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(2),r.ac("routerLink","login"))}let $_=(()=>{class t{constructor(t,e){this.loginSvc=t,this.router=e,this.isLogged=!1,this.user$=this.loginSvc.afAuth.user,this.user=localStorage.getItem("usuarioEnLinea")}ngOnInit(){}onLogout(){return Object(ws.b)(this,void 0,void 0,function*(){try{yield this.loginSvc.logout(),this.router.navigate(["login"])}catch(t){console.log(t)}})}salir(){this.loginSvc.salir()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(N_),r.Kb($o))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-menu"]],decls:14,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],["href","\\",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarColor01","aria-controls","navbarColor01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor01",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","/",1,"nav-link"],["class","navbar-nav mx-auto",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav","mx-auto"],["class","nav-item active",4,"ngIf"],["href","#","routerLink","altarepartidor",1,"nav-link"],["href","#","routerLink","repartidores",1,"nav-link"],["href","#",1,"nav-link",3,"click"],[1,"nav-link"],[1,"nav-link",3,"routerLink"]],template:function(t,e){if(1&t&&(r.Nb(0,"nav",0),r.Nb(1,"a",1),r.jc(2,"Gregnanin Leandro"),r.Mb(),r.Nb(3,"button",2),r.Lb(4,"span",3),r.Mb(),r.Nb(5,"div",4),r.Nb(6,"ul",5),r.Nb(7,"li",6),r.Nb(8,"a",7),r.jc(9,"inicio"),r.Mb(),r.Mb(),r.Mb(),r.hc(10,K_,5,4,"ul",8),r.Xb(11,"async"),r.hc(12,W_,4,1,"ng-template",null,9,r.ic),r.Mb(),r.Mb()),2&t){const t=r.dc(13);r.Ab(10),r.ac("ngIf",r.Yb(11,2,e.user$))("ngIfElse",t)}},directives:[Qo,N],pipes:[U],styles:[""]}),t})(),Q_=(()=>{class t{constructor(){this.title="lab4parcial"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Lb(0,"app-menu"),r.Lb(1,"router-outlet"))},directives:[$_,Xo],styles:[""]}),t})();const Y_={apiKey:"AIzaSyChBxM1fM8xR-ugYSEyrIdXsRff4qj_Z3Y",authDomain:"pruebalogin-54124.firebaseapp.com",projectId:"pruebalogin-54124",storageBucket:"pruebalogin-54124.appspot.com",messagingSenderId:"986352076926"};let X_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ib({type:t,bootstrap:[Q_]}),t.\u0275inj=r.Hb({providers:[w_],imports:[[_t,q_,Me,Ve,Sn,xs.a.initializeApp(Y_)]]}),t})();Object(r.T)(),vt().bootstrapModule(X_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);